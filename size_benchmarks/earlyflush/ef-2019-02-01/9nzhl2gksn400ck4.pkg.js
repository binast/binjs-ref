__d("warning",["Bootloader","createWarning","monitorCodeUse"],(function(a,b,c,d,e,f){a=function(){};e.exports=a}),null);
__d("lowPriorityWarning",["warning"],(function(a,b,c,d,e,f){e.exports=b("warning")}),null);
__d("Image.react",["ImageCore.react"],(function(a,b,c,d,e,f){e.exports=b("ImageCore.react")}),null);
__d("AbstractPopoverButton.react",["cx","React","URI","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";__p&&__p();var a=this.props.config,c={},d=a.defaultMaxWidth;this.props.maxwidth!==void 0&&(d=this.props.maxwidth);d&&(c.style=babelHelpers["extends"]({},a.button.props.style,{maxWidth:d+"px"}));this.props.image&&(c.image=b("React").createElement("span",{className:"-cx-PUBLIC-abstractPopoverButton__image -cx-PRIVATE-margin__right-4"},this.props.image));this.props.label&&(c.labelIsHidden=this.props.labelIsHidden,c.label=b("React").createElement("span",{className:"-cx-PUBLIC-abstractPopoverButton__label"},this.props.label));this.props.haschevron&&(c.imageRight=b("React").createElement("span",{className:"-cx-PRIVATE-abstractPopoverButton__imageright"},a.chevron));c.className=b("joinClasses")(a.button.props.className,"-cx-PRIVATE-abstractPopoverButton__root -cx-PRIVATE-abstractPopoverButton__rootflex");c.href=new(b("URI"))("#");c["aria-haspopup"]=!0;c.role="button";return b("React").cloneElement(a.button,c)};function a(){"use strict";h.apply(this,arguments)}a.propTypes={config:c.object.isRequired,haschevron:c.bool,label:c.node,labelIsHidden:c.bool,maxwidth:c.number};a.defaultProps={haschevron:!0};e.exports=a}),null);
__d("AsyncDOM",["CSS","DOM","FBLogger"],(function(a,b,c,d,e,f){__p&&__p();a={invoke:function(a,c){__p&&__p();for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b("DOM").scry(h||document.documentElement,g)[0]);f!="eval"&&!h&&b("FBLogger")("async_dom").warn("Could not find relativeTo element for %s AsyncDOM operation based on selector: %s",f,g);switch(f){case"eval":new Function(e).apply(h);break;case"hide":b("CSS").hide(h);break;case"show":b("CSS").show(h);break;case"setContent":b("DOM").setContent(h,e);break;case"appendContent":b("DOM").appendContent(h,e);break;case"prependContent":b("DOM").prependContent(h,e);break;case"insertAfter":b("DOM").insertAfter(h,e);break;case"insertBefore":b("DOM").insertBefore(h,e);break;case"remove":b("DOM").remove(h);break;case"replace":b("DOM").replace(h,e);break;default:b("FBLogger")("async_dom").warn("Received invalid command %s for AsyncDOM operation",f)}}}};e.exports=a}),null);
__d("ArbiterMixin",["Arbiter","guid"],(function(a,b,c,d,e,f){__p&&__p();var g="arbiter$"+b("guid")(),h=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return h.call(this,g)?this[g]:this[g]=new(b("Arbiter"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};e.exports=a}),null);
__d("FBLynxLogging",["AsyncRequest","AsyncResponse","BanzaiODS","XLynxAsyncCallbackController"],(function(a,b,c,d,e,f){"use strict";a={log:function(a){var c=b("XLynxAsyncCallbackController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setData({lynx_uri:a}).setErrorHandler(function(a){a=a.getError();b("BanzaiODS").bumpEntityKey("linkshim","click_log.post.fail."+a)}).setTransportErrorHandler(function(a){a=a.getError();b("BanzaiODS").bumpEntityKey("linkshim","click_log.post.transport_fail."+a)}).send()}};e.exports=a}),null);
__d("FBLynx",["Base64","Event","FBLynxBase","LinkshimHandlerConfig","Parent","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("URI").goURIOnWindow,h={alreadySetup:!1,setupDelegation:function(a){__p&&__p();a===void 0&&(a=!1);if(document.body==null){if(a)return;setTimeout(function(){h.setupDelegation(!0)},100);return}if(h.alreadySetup)return;h.alreadySetup=!0;var c=function(a){__p&&__p();var c=h.getMaybeLynxLink(a.target);if(!c)return;var d=c[0];c=c[1];var e=c,f=new(b("URI"))(c.href),i;if(b("LinkshimHandlerConfig").ghl_param_link_shim&&d!=="hover"&&(c.dataset&&c.dataset.attributes)){i=b("Base64").decodeObject(c.dataset.attributes);if(i&&i.open_link){var j;for(j in i)j!=="open_link"&&f.addQueryData(j,i[j]);j=c.cloneNode(!0);j.href=f.toString();e=j}}switch(d){case"async":case"asynclazy":b("FBLynxBase").logAsyncClick(e);break;case"origin":b("FBLynxBase").originReferrerPolicyClick(e);break;case"hover":h.hoverClick(e);break}b("LinkshimHandlerConfig").ghl_param_link_shim&&d!=="hover"&&i&&i.open_link&&(a.preventDefault(),g(f,window.open("",e.target),!0))};b("Event").listen(document.body,"click",c);b("LinkshimHandlerConfig").middle_click_requires_event&&b("Event").listen(document.body,"mouseup",function(a){a.button==1&&c(a)});b("Event").listen(document.body,"mouseover",function(a){a=h.getMaybeLynxLink(a.target);if(!a)return;var b=a[0];a=a[1];switch(b){case"async":case"asynclazy":case"origin":case"hover":h.mouseover(a);break}});b("Event").listen(document.body,"contextmenu",function(a){a=h.getMaybeLynxLink(a.target);if(!a)return;var b=a[0];a=a[1];switch(b){case"async":case"hover":case"origin":h.contextmenu(a);break;case"asynclazy":break}})},getMaybeLynxLink:function(a){a=b("Parent").byAttribute(a,"data-lynx-mode");if(a instanceof HTMLAnchorElement){var c=a.getAttribute("data-lynx-mode");switch(c){case"async":case"asynclazy":case"hover":case"origin":return[c,a];default:return null}}return null},hoverClick:function(a){b("FBLynxBase").revertSwapIfLynxURIPresent(a)},mouseover:function(a){b("FBLynxBase").swapLinkWithUnshimmedLink(a)},contextmenu:function(a){b("FBLynxBase").revertSwapIfLynxURIPresent(a)}};e.exports=h}),null);
__d("AbstractLinkLynxMode",["FBLynx","LinkshimHandlerConfig","LynxJSMode"],(function(a,b,c,d,e,f){"use strict";a={getMode:function(a){return a?[b("LinkshimHandlerConfig").www_safe_js_mode,null]:[b("LynxJSMode").HOVER,null]},setupDelegation:function(){b("FBLynx").setupDelegation()}};e.exports=a}),null);
__d("AbstractButton.react",["cx","Link.react","React","cloneWithProps_DEPRECATED","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").Component;d=b("React").PropTypes;f=babelHelpers.inherits(a,c);h=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.handleLinkClick=function(a){this.props.disabled?a.preventDefault():this.props.onClick&&this.props.onClick(a)}.bind(this),b}a.prototype.render=function(){"use strict";__p&&__p();var a=this.props,c=a.depressed,d=a.disabled,e=a.image,f=a.imageRight,g=a.label,h=a.labelIsHidden;a=babelHelpers.objectWithoutPropertiesLoose(a,["depressed","disabled","image","imageRight","label","labelIsHidden"]);delete a.shade;c="-cx-PRIVATE-abstractButton__root"+(d?" -cx-PUBLIC-abstractButton__disabled":"")+(c?" -cx-PUBLIC-abstractButton__depressed":"");e=e;if(e){var i={};g&&(i.alt="",h||(i.className="-cx-PRIVATE-margin__right-4"));e=b("cloneWithProps_DEPRECATED")(e,i)}i=f;if(i){f={};g&&(f.alt="",h||(f.className="-cx-PRIVATE-margin__left-4"));i=b("cloneWithProps_DEPRECATED")(i,f)}if(this.props.href){f=this.props;var j=f.disabled;f=f.role;f=j&&f==="button";return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},a,{"aria-disabled":f?!0:void 0,className:b("joinClasses")(this.props.className,c),onClick:this.handleLinkClick,tabIndex:j?-1:this.props.tabIndex}),e,h?b("React").createElement("span",{className:"accessible_elem"},g):g,i)}else if(this.props.type&&this.props.type!=="submit")return b("React").createElement("button",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,c),disabled:d,type:this.props.type}),e,h?b("React").createElement("span",{className:"accessible_elem"},g):g,i);else return b("React").createElement("button",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,c),disabled:d,type:"submit",value:"1"}),e,h?b("React").createElement("span",{className:"accessible_elem"},g):g,i)};a.propTypes={image:d.element,imageRight:d.element,depressed:d.bool,label:d.node,onClick:d.func,labelIsHidden:d.bool};a.defaultProps={disabled:!1,depressed:!1,labelIsHidden:!1};e.exports=a}),null);
__d("XUIButton.react",["cx","AbstractButton.react","FBLogger","React","gkx","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;var i="medium",j=null;function k(){if(j===null)try{j=b("gkx")("1tEbfKDTGXr:www_css_xuibutton_click_margin")}catch(a){j=!1,b("FBLogger")("ui").catching(a).warn("Request for gkx failed for www_css_xuibutton_click_margin")}return j}h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.getButtonSize=function(a){"use strict";return a.size||i};a.prototype.render=function(){"use strict";var a=this.props,c=a.use,d=a.size,e=a.borderShade,f=a.suppressed;a=babelHelpers.objectWithoutPropertiesLoose(a,["use","size","borderShade","suppressed"]);d="-cx-PRIVATE-xuiButton__root"+(d==="small"?" -cx-PRIVATE-xuiButton__small":"")+(d==="medium"?" -cx-PRIVATE-xuiButton__medium":"")+(d==="large"?" -cx-PRIVATE-xuiButton__large":"")+(d==="xlarge"?" -cx-PRIVATE-xuiButton__xlarge":"")+(d==="xxlarge"?" -cx-PRIVATE-xuiButton__xxlarge":"")+(c==="default"?" -cx-PRIVATE-xuiButton__default":"")+(c==="confirm"?" -cx-PRIVATE-xuiButton__confirm":"")+(c==="special"?" -cx-PRIVATE-xuiButton__special":"")+(e==="light"?" -cx-PRIVATE-xuiButton__light":"")+(e==="dark"?" -cx-PRIVATE-xuiButton__dark":"")+(f?" -cx-PRIVATE-xuiButton__suppressed":"")+(c==="confirm"||c==="special"?" selected":"")+(k()?" -cx-PRIVATE-xuiButton__fixmarginclick":"");return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},a,{label:this.props.label,className:b("joinClasses")(this.props.className,d)}))};function a(){"use strict";h.apply(this,arguments)}a.defaultProps={use:"default",size:i,borderShade:"light",suppressed:!1};a.propTypes={use:c.oneOf(["default","special","confirm"]),size:c.oneOf(["small","medium","large","xlarge","xxlarge"]),borderShade:c.oneOf(["light","dark"]),suppressed:c.bool};e.exports=a}),null);
__d("XUIPopoverButton.react",["cx","ix","AbstractPopoverButton.react","Image.react","React","XUIButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;a=b("React").PropTypes;i=babelHelpers.inherits(j,b("React").Component);i&&i.prototype;j.getButtonSize=function(a){"use strict";return a.size||"medium"};j.prototype.render=function(){"use strict";__p&&__p();var a=j.getButtonSize(this.props),c="-cx-PRIVATE-xuiPopoverButton__root",d=this.props,e=d.theme,f=d.use,g=d.chevron,i=d.maxwidth,k=d.image,l=d.label,m=d.labelIsHidden,n=d.haschevron;d=babelHelpers.objectWithoutPropertiesLoose(d,["theme","use","chevron","maxwidth","image","label","labelIsHidden","haschevron"]);e==="dark"&&(c=b("joinClasses")(c,(f!=="special"?"-cx-PRIVATE-xuiPopoverButton__dark":"")+(a==="small"?" -cx-PRIVATE-xuiPopoverButton__small":"")+(a==="medium"?" -cx-PRIVATE-xuiPopoverButton__medium":"")+(a==="large"?" -cx-PRIVATE-xuiPopoverButton__large":"")+(a==="xlarge"?" -cx-PRIVATE-xuiPopoverButton__xlarge":"")+(a==="xxlarge"?" -cx-PRIVATE-xuiPopoverButton__xxlarge":"")));if(!g){e=e==="dark"||f==="confirm"||f==="special"?h("2X18rAFwgyx_images/ui/x/button/dark/chevron.png"):h("sCcCuXaRcYh_images/ui/x/button/normal/chevron.png");g=b("React").createElement(b("Image.react"),{src:e})}e={button:b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({},d,{use:f,className:b("joinClasses")(this.props.className,c),size:a})),chevron:g,chevronWidth:14,defaultMaxWidth:i||200};return b("React").createElement(b("AbstractPopoverButton.react"),{config:e,haschevron:n,image:k,label:l,labelIsHidden:m,maxwidth:i})};function j(){"use strict";i.apply(this,arguments)}j.propTypes={haschevron:a.bool,label:a.node,labelIsHidden:a.bool,maxwidth:a.number};e.exports=j}),null);
__d("XUISpinner.react",["cx","fbt","BrowserSupport","LoadingMarker.react","React","UserAgent","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;var j=b("BrowserSupport").hasCSSAnimations()&&!(b("UserAgent").isEngine("Trident < 6")||b("UserAgent").isEngine("Gecko < 39")||b("UserAgent").isBrowser("Safari < 6"));i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=this.props,c=a.showOnAsync,d=a.background,e=a.paused;a=babelHelpers.objectWithoutPropertiesLoose(a,["showOnAsync","background","paused"]);d="img -cx-PRIVATE-xuiSpinner__root"+(this.props.size=="small"?" -cx-PRIVATE-xuiSpinner__small":"")+(this.props.size=="large"?" -cx-PRIVATE-xuiSpinner__large":"")+(d=="light"?" -cx-PRIVATE-xuiSpinner__light":"")+(d=="dark"?" -cx-PRIVATE-xuiSpinner__dark":"")+(c?" -cx-PRIVATE-xuiSpinner__showonasync":"")+(j?"":" -cx-PRIVATE-xuiSpinner__animatedgif")+(j&&e?" -cx-PRIVATE-xuiSpinner__pauseanimation":"");return b("React").createElement(b("LoadingMarker.react"),null,b("React").createElement("span",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,d),role:"progressbar","aria-valuetext":h._("Loading..."),"aria-busy":"true","aria-valuemin":"0","aria-valuemax":"100"})))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={paused:c.bool,showOnAsync:c.bool,size:c.oneOf(["small","large"]),background:c.oneOf(["light","dark"])};a.defaultProps={showOnAsync:!1,size:"small",background:"light"};e.exports=a}),null);
__d("registerForHotReload",["HotReloadConfig"],(function(a,b,c,d,e,f){"use strict";function a(a){return a}e.exports=a}),null);
__d("unregisterForHotReload",["HotReloadConfig"],(function(a,b,c,d,e,f){"use strict";function a(a){return a}e.exports=a}),null);
__d("JSLogger",["lowerFacebookDomain"],(function(a,b,c,d,e,f){__p&&__p();var g={MAX_HISTORY:500,counts:{},categories:{},seq:0,pageId:(Math.random()*2147483648|0).toString(36),forwarding:!1};function h(a){if(a=="/"||a.indexOf("/",1)<0)return!1;var b=/^\/(v\d+\.\d\d?|head)\//.test(a);return b?/^\/(dialog|plugins)\//.test(a.substring(a.indexOf("/",1))):/^\/(dialog|plugins)\//.test(a)}function i(b){b instanceof Error&&a.ErrorUtils&&(b=a.ErrorUtils.normalizeError(b));try{return JSON.stringify(b)}catch(a){return"{}"}}function j(a,b,c){g.counts[a]||(g.counts[a]={}),g.counts[a][b]||(g.counts[a][b]=0),c=c==null?1:Number(c),g.counts[a][b]+=isFinite(c)?c:0}g.logAction=function(a,b,c){__p&&__p();if(this.type=="bump")j(this.cat,a,b);else if(this.type=="rate")b&&j(this.cat,a+"_n",c),j(this.cat,a+"_d",c);else{c={cat:this.cat,type:this.type,event:a,data:b!=null?i(b):null,date:Date.now(),seq:g.seq++};g.head=g.head?g.head.next=c:g.tail=c;while(g.head.seq-g.tail.seq>g.MAX_HISTORY)g.tail=g.tail.next;return c}};function c(c){__p&&__p();if(!g.categories[c]){g.categories[c]={};var d=function(d){__p&&__p();var e={cat:c,type:d};g.categories[c][d]=function(){__p&&__p();g.forwarding=!1;var c=null;if(b("lowerFacebookDomain").isValidDocumentDomain())return;c=g.logAction;if(h(location.pathname))g.forwarding=!1;else try{c=a.top.require("JSLogger")._.logAction,g.forwarding=c!==g.logAction}catch(a){}c&&c.apply(e,arguments)}};d("debug");d("log");d("warn");d("error");d("bump");d("rate")}return g.categories[c]}function d(a,b){var c=[];for(var b=b||g.tail;b;b=b.next)if(!a||a(b)){var d={type:b.type,cat:b.cat,date:b.date,event:b.event,seq:b.seq};b.data&&(d.data=JSON.parse(b.data));c.push(d)}return c}e.exports={_:g,DUMP_EVENT:"jslogger/dump",create:c,getEntries:d}}),null);
__d("LiveVideoViewerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoViewerLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setCommentLocation=function(a){this.$1.comment_location=a;return this};a.prototype.setCommentReplyThreadLength=function(a){this.$1.comment_reply_thread_length=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setReplyThreadDurationMs=function(a){this.$1.reply_thread_duration_ms=a;return this};a.prototype.setTargetID=function(a){this.$1.target_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={comment_id:!0,comment_location:!0,comment_reply_thread_length:!0,event:!0,reply_thread_duration_ms:!0,target_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("UFICommentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:UFICommentLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDuration=function(a){this.$1.duration=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setHasPhoto=function(a){this.$1.has_photo=a;return this};a.prototype.setHasSticker=function(a){this.$1.has_sticker=a;return this};a.prototype.setIsReply=function(a){this.$1.is_reply=a;return this};a.prototype.setRequestLength=function(a){this.$1.request_length=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={duration:!0,event:!0,has_photo:!0,has_sticker:!0,is_reply:!0,request_length:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MercuryServerURIs",[],(function(a,b,c,d,e,f){"use strict";e.exports={THREAD_INFO:"/ajax/mercury/thread_info.php",MARK_FOLDER_READ:"/ajax/mercury/mark_folder_as_read.php",CHANGE_READ_STATUS:"/ajax/mercury/change_read_status.php",MARK_SEEN:"/ajax/mercury/mark_seen.php",THREADLIST_INFO:"/ajax/mercury/threadlist_info.php",MARK_SPAM:"/ajax/mercury/mark_spam.php",UNMARK_SPAM:"/ajax/mercury/unmark_spam.php",UNREAD_THREADS:"/ajax/mercury/unread_threads.php",CHANGE_PINNED_STATUS:"/ajax/mercury/change_pinned_status.php",CHANGE_ARCHIVED_STATUS:"/ajax/mercury/change_archived_status.php",CHANGE_PAGE_FOLLOW_UP_STATUS:"/ajax/mercury/change_page_follow_up_status.php",DELETE_THREAD:"/ajax/mercury/delete_thread.php",DELETE_MESSAGES:"/ajax/mercury/delete_messages.php",DELIVERY_RECEIPTS:"/ajax/mercury/delivery_receipts.php",MOVE_THREAD:"/ajax/mercury/move_thread.php",CHANGE_MUTE_THREAD:"/ajax/mercury/change_mute_thread.php"}}),null);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setQueryParams=function(a){this.$1.query_params=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={error_message:!0,event:!0,query_params:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatPerfEvent","CurrentUser","FBIDCheck","LogHistory","MercuryPayloadSource","MercuryServerURIs","MessagingTag","MessengerWebGraphQLEvent","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=b("LogHistory").getInstance("mercury_server_dispatcher"),i=50,j=[],k=!1,l={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||l.DEFAULT_ENDPOINT_ID;g[c]||(g[c]={});g[c][e]||(g[c][e]={});g[c][e][f]=new m(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||l.DEFAULT_ENDPOINT_ID,g[a][e][f].trySend(c,d)},getRequestErrors:function(){return j}};function m(a,c){__p&&__p();var d=c.mode||l.IMMEDIATE;switch(d){case l.IMMEDIATE:case l.IDEMPOTENT:case l.BATCH_SUCCESSIVE:case l.BATCH_SUCCESSIVE_UNIQUE:case l.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case l.BATCH_DEFERRED_MULTI:case l.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(m.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){__p&&__p();if(k)return;a===void 0&&(a=null);b=b||this._mode;if(b==l.IMMEDIATE)this._send(a);else if(b==l.IDEMPOTENT)this._inFlight||this._send(a);else if(b==l.BATCH_SUCCESSIVE||b==l.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==l.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==l.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==l.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){__p&&__p();this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);h.log("send",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var c=b("performanceAbsoluteNow")(),d=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&d.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs","MercuryJewelBootloadModules"],function(e,f){__p&&__p();var g=a.request_user_id||b("CurrentUser").getID(),c=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);f=(f={},f[b("MessagingTag").INBOX]="INBOX",f[b("MessagingTag").OTHER]="OTHER",f[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",f[b("MessagingTag").SPAM]="SPAM",f[b("MessagingTag").PENDING]="PENDING",f[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",f);var h=[],i=Object.keys(f);for(var j=0;j<i.length;j++){var k=i[j];if(Object.prototype.hasOwnProperty.call(a,k)){var l=a[k];h.push({limit:l.before?l.limit+1:l.limit,folder:k,tags:l.filter?[f[k],l.filter]:[f[k]],timestamp:l.before,filter:l.filter,includeDeliveryReceipts:!0,includeSeqID:!1})}}a.onlyPinnedThreads&&h.push({onlyPinnedThreads:a.onlyPinnedThreads});k=function(){e.fetchAll(g,h,c,"fetch_threadlist").done(function(c){c=new(b("AsyncResponse"))(d,babelHelpers["extends"]({},c,{payload_source:a.onlyPinnedThreads?b("MercuryPayloadSource").SERVER_CHANGE_PINNED_STATUS:b("MercuryPayloadSource").SERVER_FETCH_THREADLIST_INFO}));this._handleResponse(c)}.bind(this),function(a){this._handleGraphQLError(b("MessengerWebGraphQLEvent").THREADLIST_FAILURE,h,a,d)}.bind(this))}.bind(this);k()}.bind(this),"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var e=b("getByPath")(a,["threads","user_ids"],[]),f=b("getByPath")(a,["threads","thread_fbids"],[]),g=b("getByPath")(a,["messages","user_ids"],{}),i=b("getByPath")(a,["messages","thread_fbids"],{}),j=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(c){__p&&__p();var h=a.request_user_id||b("CurrentUser").getID(),k=Object.keys(g),l=k.map(function(a){var b=g[a].limit,c=g[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!0}}),m=new Set(k);e.forEach(function(a){if(m.has(a))return;l.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0})});k=Object.keys(i);var n=k.map(function(a){var b=i[a].limit,c=i[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!1}}),o=new Set(k);f.forEach(function(a){if(o.has(a))return;n.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1})});var p=[].concat(l,n);b("Bootloader").loadModules(["ChatReliabilityInstrumentation"],function(a){p.forEach(function(b){b.limit>21&&a.logFETCHING_MANY_MESSAGES(JSON.stringify(b))})},"MercuryServerDispatcher");c.fetchAll(h,p,j).done(function(a){__p&&__p();a=a.slice(0);if(a.length>0){var c={};a.forEach(function(a){return Object.assign(c,a.roger)});var e=[];a.forEach(function(a){return e.push.apply(e,a.delivery_receipts)});var f=[];a.forEach(function(a){return f=f.concat(a.actions)});f=f.filter(Boolean);a={actions:f,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:c,delivery_receipts:e,payload_source:b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO};a=new(b("AsyncResponse"))(d,a);this._handleResponse(a)}else this._handleResponse(new(b("AsyncResponse"))(d,{}))}.bind(this),function(a){this._handleGraphQLError(b("MessengerWebGraphQLEvent").THREAD_FAILURE,p,a,d)}.bind(this))}.bind(this),"MercuryServerDispatcher");return}d.setHandler(function(a){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:b("ChatPerfEvent").ASYNC_REQUEST,duration:b("performanceAbsoluteNow")()-c,endpoint:this._endpoint}),this._handleResponse(a)}.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&d.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));d.send()},_handleGraphQLError:function(a,c,d,e){__p&&__p();var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){if(this._mode==l.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var d=this._batches.length-1;d>=0?c?this._batches[d].combineWithOlder(a,this._combineData):this._batches[d].combineWith(a,this._combineData):this._batches.push(new n(a));h.debug("batch",JSON.stringify({endpoint:this._endpoint}))}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){this._inFlight--;h.log("response",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var b=a.getPayload();k=b&&b.kill_chat;k&&h.log("killswitch_enabled",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));b&&b.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(b,a.getRequest());(this._mode==l.BATCH_SUCCESSIVE||this._mode==l.BATCH_SUCCESSIVE_UNIQUE||this._mode==l.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==l.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){this._inFlight--;h.error("error",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}));j.push(this._createErrorRecord(a));j.length>i&&(j=j.slice(-1*i));a=this._mode;a==l.BATCH_SUCCESSIVE||a==l.BATCH_SUCCESSIVE_UNIQUE||a==l.BATCH_CONDITIONAL?this._batchSend():a==l.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function n(a){this._data=a,this._size=1}Object.assign(n.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=l}),null);
__d("LiveWWWFeedbackTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LiveWWWFeedbackLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveWWWFeedbackLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveWWWFeedbackLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setIsMSite=function(a){this.$1.is_m_site=a;return this};a.prototype.setMechanism=function(a){this.$1.mechanism=a;return this};a.prototype.setOriginatedLocally=function(a){this.$1.originated_locally=a;return this};a.prototype.setRecipientID=function(a){this.$1.recipient_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeSinceSub=function(a){this.$1.time_since_sub=a;return this};a.prototype.setUpdateType=function(a){this.$1.update_type=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={comment_id:!0,event:!0,is_m_site:!0,mechanism:!0,originated_locally:!0,recipient_id:!0,time:!0,time_since_sub:!0,update_type:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("Nectar",["Env","getContextualParent"],(function(a,b,c,d,e,f){__p&&__p();function g(a){a.nctr||(a.nctr={})}function h(a){__p&&__p();if(b("Env").module||!a)return b("Env").module;var c={fbpage_fan_confirm:!0,photos_snowlift:!0},d;while(a&&a.getAttribute){var e=a.getAttribute("id");if(e!=null&&e.startsWith("pagelet_"))return e;!d&&c[e]&&(d=e);a=b("getContextualParent")(a)}return d}a={addModuleData:function(a,b){b=h(b);b&&(g(a),a.nctr._mod=b)},addImpressionID:function(a){b("Env").impid&&(g(a),a.nctr._impid=b("Env").impid)}};e.exports=a}),null);
__d("Style",["StyleCore","$"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("StyleCore"),{get:function(a,c){typeof a==="string"&&(a=b("$")(a));return b("StyleCore").get(a,c)},getFloat:function(a,c){typeof a==="string"&&(a=b("$")(a));return b("StyleCore").getFloat(a,c)}});e.exports=a}),null);
__d("destroyOnUnload",["Run"],(function(a,b,c,d,e,f){function a(a){return b("Run").onLeave(a)}e.exports=a}),null);
__d("UFIODSLogger",["BanzaiODS","CurrentUser"],(function(a,b,c,d,e,f){"use strict";var g="www.ufi";a={bump:function(a,c){b("CurrentUser").isLoggedIn()&&b("BanzaiODS").bumpEntityKey(g,a+"."+c)}};e.exports=a}),null);
__d("UFIActorSelector.react",["csx","fbt","ActorSelector.react","ActorSelectorNuxTypes","Arbiter","AsyncRequest","Parent","React","ReactDOM","SubscriptionsHandler","UFICentralUpdates","UFIFeedbackTargets","UFIODSLogger","UFIUserActions","UFIVersion","XActorSelectorNuxSeenWriteController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j="ufi_actor_selector_nux_disabled_event";d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(a){__p&&__p();i.constructor.call(this,a);this.$3=function(a){b("UFIODSLogger").bump("actor_selector.on_change",b("UFIVersion").LEGACY),this.setState({loading:!0}),b("UFIUserActions").changeActor(this.props.ftEntIdentifier,a.value),this.props.onActorChange!=null&&this.props.onActorChange(this.state.selectedActorID,a.value)}.bind(this);this.$5=function(){var a=this.props.isTimeline?b("ActorSelectorNuxTypes").UFI_TIMELINE:b("ActorSelectorNuxTypes").UFI;a=b("XActorSelectorNuxSeenWriteController").getURIBuilder().setEnum("nux_type",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}.bind(this);a=b("UFIFeedbackTargets").getFeedbackTargetIfExists(this.props.ftEntIdentifier);a=a&&a.actorforpost;this.state={loading:!a,nuxEnabled:!!this.props.nuxEnabled,nuxHoverContext:null,selectedActorID:a||null}}a.prototype.render=function(){return b("React").createElement(b("ActorSelector.react"),{actorIDs:this.props.actorIDs,dialogShown:this.props.dialogShown,loading:this.props.loading||this.state.loading,nuxBody:this.$2(),nuxEnabled:this.state.nuxEnabled,nuxHoverContext:this.state.nuxHoverContext,onChange:this.$3,onShowNux:this.$4,onCompleteNux:this.$5,selectedActorID:this.state.selectedActorID,settingsURI:this.props.settingsURI,tooltipConstructor:this.$6,syncEnabled:this.props.syncEnabled,useUFIPhotoOverlay:this.props.useUFIPhotoOverlay})};a.prototype.componentDidMount=function(){__p&&__p();b("UFIODSLogger").bump("actor_selector.component_did_mount",b("UFIVersion").LEGACY);this.$7();this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("UFICentralUpdates").subscribe("feedback-updated",function(a,b){this.props.ftEntIdentifier in b.updates&&this.$7()}.bind(this)),b("Arbiter").subscribe(j,function(){this.setState({nuxEnabled:!1})}.bind(this)));if(this.state.nuxEnabled){var a=b("ReactDOM").findDOMNode(this);if(a){a=b("Parent").bySelector(a,".-cx-PUBLIC-fbFeedStory__inner");a instanceof HTMLElement&&this.setState({nuxHoverContext:a})}}};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.$7=function(){b("UFIFeedbackTargets").getFeedbackTarget(this.props.ftEntIdentifier,function(a){if(this.state.loading===!1&&this.state.selectedActorID===a.actorforpost)return;this.setState({loading:!1,selectedActorID:a.actorforpost})}.bind(this))};a.prototype.$2=function(){return h._("Like, comment or share as yourself or as one of the Pages you manage.")};a.prototype.$6=function(a){return h._("Liking and commenting as {actorName}",[h._param("actorName",a)])};a.prototype.$4=function(){b("Arbiter").inform(j)};a.propTypes={actorIDs:c.array.isRequired,dialogShown:c.bool,ftEntIdentifier:c.string.isRequired,isTimeline:c.bool,loading:c.bool,nuxEnabled:c.bool,onActorChange:c.func,settingsURI:c.string,syncEnabled:c.bool,useUFIPhotoOverlay:c.bool};e.exports=a}),null);
__d("EmojiInputButton.react",["fbt","Bootloader","FocusRelocator.react","Link.react","React","createCancelableFunction","gkx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=null;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.state={locked:!1,visible:!1,isVariationsShown:!1},this.$5=function(a){a.preventDefault(),a.stopPropagation(),this.props.onClick&&this.props.onClick(),this.setState(function(a){return{locked:!1,visible:a.locked?!1:!a.visible}})}.bind(this),this.$6=function(a){this.setState(function(a){return{locked:a.visible}})}.bind(this),this.$8=function(a){a||this.setState({visible:!1,isVariationsShown:!1})}.bind(this),this.$9=function(a){this.setState({isVariationsShown:a})}.bind(this),b}a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$1=null,this.$2&&this.$2.cancel(),this.$2=null};a.prototype.render=function(){var a=g._("Insert an emoji"),c=this.state.visible?b("joinClasses")(this.props.iconActiveClassName,this.props.iconClassName):this.props.iconClassName;return b("React").createElement(b("FocusRelocator.react"),{from:this.$4,to:this.$3},b("React").createElement(b("Link.react"),{"aria-label":a,className:this.props.buttonClassName,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":a,onClick:this.$5,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,linkRef:function(a){return this.$4=a}.bind(this),role:"button"},b("React").createElement("div",{className:c,ref:function(a){return this.$3=a}.bind(this)}),this.$7()))};a.prototype.$7=function(){if(!i){this.state.visible&&(this.$2=b("createCancelableFunction")(function(){this.forceUpdate()}.bind(this)),this.$1=b("Bootloader").loadModules(["EmojiPicker.react"],function(a){i=a,this.$2&&(this.$2(),this.$2=null)}.bind(this),"EmojiInputButton.react"));return null}return!this.state.visible&&b("gkx")("Rl76Y2a2LaX:www_delay_render_emoji_dialog")?null:b("React").createElement(i,{context:this.$4,isVariationsShown:this.state.isVariationsShown,onToggle:this.$8,onSelect:this.props.onSelect,onVariationsShown:this.$9,shown:this.state.visible,position:this.props.position})};e.exports=a}),null);
__d("LitestandStoryInsertionStatus",["ArbiterMixin"],(function(a,b,c,d,e,f){var g="check";a={registerBlocker:function(a){return this.subscribe(g,function(b,c){c.can_insert&&a()&&(c.can_insert=!1)})},canInsert:function(){var a={can_insert:!0};this.inform(g,a);return a.can_insert}};Object.assign(a,b("ArbiterMixin"));e.exports=a}),null);
__d("ClickableArea.react",["Focus","React","ReactDOM"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.componentDidMount=function(){"use strict";if(this.props.buttonRef){var a=this.props.buttonRef();b("Focus").relocate(b("ReactDOM").findDOMNode(a),b("ReactDOM").findDOMNode(this))}};a.prototype.render=function(){"use strict";var a=this.props,c=a.children,d=a.onClick;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","onClick"]);return b("React").cloneElement(b("React").Children.only(c),babelHelpers["extends"]({},a,{onClick:d}))};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("UFIBusinessActorIcon.react",["cx","AppUserRoleConstants.brands","BusinessActorUtils.brands","React","getObjectValues","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=b("BusinessActorUtils.brands").getInitials(this.props.firstName,this.props.lastName),c=this.props.businessRole===b("AppUserRoleConstants.brands").ADMIN;return b("React").createElement("div",{className:b("joinClasses")(this.props.classNames,"-cx-PRIVATE-UFIBusinessActorIcon-react__root")},b("React").createElement("div",{className:b("joinClasses")(this.props.textClassNames,c?"-cx-PRIVATE-UFIBusinessActorIcon-react__isadmin":null)},a))};function a(){h.apply(this,arguments)}a.propTypes={firstName:c.string.isRequired,lastName:c.string.isRequired,classNames:c.string,textClassNames:c.string,businessRole:c.oneOf(b("getObjectValues")(b("AppUserRoleConstants.brands")))};e.exports=a}),null);
__d("ARIA",["DOM","emptyFunction","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i=function(){g=b("ge")("ariaAssertiveAlert"),g||(g=b("DOM").create("div",{id:"ariaAssertiveAlert",className:"accessible_elem","aria-live":"assertive"}),b("DOM").appendContent(document.body,g)),h=b("ge")("ariaPoliteAlert"),h||(h=g.cloneNode(!1),h.setAttribute("id","ariaPoliteAlert"),h.setAttribute("aria-live","polite"),b("DOM").appendContent(document.body,h)),i=b("emptyFunction")};function j(a,c){i();c=c?g:h;b("DOM").setContent(c,a)}a={controls:function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.map(function(a){return b("getOrCreateDOMID")(a)}).join(" ");a.setAttribute("aria-controls",f)},describedBy:function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.map(function(a){return b("getOrCreateDOMID")(a)}).join(" ");a.setAttribute("aria-describedby",f)},owns:function(a,c){a.setAttribute("aria-owns",b("getOrCreateDOMID")(c))},setPopup:function(a,c){c=b("getOrCreateDOMID")(c);a.setAttribute("aria-controls",c);a.setAttribute("aria-haspopup","true");c=a.getAttribute("role")||"";c&&a.setAttribute("role",c)},announce:function(a){j(a,!0)},notify:function(a){j(a,!1)}};e.exports=a}),null);
__d("UFIAttachMediaSection.react",["cx","fbt","Bootloader","Focus","React","UFICommentFileInputAcceptValues","XUIError.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={bootloaded:!1,hasUploadFailure:!1},this.$1=null,this.$2=null,this.$3=function(){this.setState({hasUploadFailure:!1})}.bind(this),this.$4=function(){this.setState({hasUploadFailure:!1})}.bind(this),this.$5=function(){this.setState({hasUploadFailure:!0})}.bind(this),this.$6=function(a){this.props.onClick&&this.props.onClick();if(this.state.bootloaded)return;b("Bootloader").loadModules(["UFIUploader"],function(a){this.$1=new a(this.refs.inputContainer,this.refs.inputControl,this.refs.input,this.props.getPhotoUploadData,this.props.getFileUploadData,this.props.prepareForAttachedPhotoPreview,this.props.prepareForAttachedVideoPreview,this.props.prepareForAttachedFilePreview,this.props.onPhotoUploadComplete,this.props.onVideoEncodeUpdate,this.props.onVideoUploadUpdate,this.props.onVideoUploadComplete,this.props.onFileUploadComplete,this.props.setFileInput,this.props.viewerActorID,this.$3,this.$4,this.$5)}.bind(this),"UFIAttachMediaSection.react");this.setState({bootloaded:!0})}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.refs,c=a.input;a=a.inputControl;c&&a&&(this.$2=b("Focus").relocate(c,a))};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.destroy(),this.$2&&(this.$2.remove(),this.$2=null)};a.prototype.render=function(){var a=b("gkx")("BZJCcbX_QY-:files_in_comments")&&this.props.allowFileAttachments,c=a?h._("Attach a File"):this.props.allowVideoAttachments?h._("Attach a photo or video"):h._("Attach a Photo"),d=a?h._("There was a problem attaching the file, please try again"):h._("There was a problem attaching the file, please try again"),e=this.state.hasUploadFailure;a=b("React").createElement("div",{className:"-cx-PRIVATE-UFIAddComment__attachmentbutton UFIPhotoAttachLinkWrapper -cx-PRIVATE-uiFileInput__container"+(this.props.attachment?" -cx-PRIVATE-UFIAddComment__hiddenbutton":""),"data-hover":e?null:"tooltip","data-tooltip-alignh":e?null:"center","data-tooltip-content":e?null:c,onClick:this.$6,ref:"inputContainer",role:"presentation"},b("React").createElement("span",{className:a?"UFICommentFileIcon":"UFICommentPhotoIcon",ref:"inputControl"},b("React").createElement("input",{accept:a?b("UFICommentFileInputAcceptValues").files:this.props.allowVideoAttachments?b("UFICommentFileInputAcceptValues").both:b("UFICommentFileInputAcceptValues").photos,"aria-label":c,className:"-cx-PRIVATE-uiFileInput__input",name:"file",ref:"input",title:c,type:"file",key:"0"})));return b("React").createElement(b("XUIError.react"),{xuiError:e?d:null,xuiErrorPosition:"above",xuiErrorAlignh:"center"},a)};a.propTypes={getPhotoUploadData:c.func.isRequired,getFileUploadData:c.func,prepareForAttachedPhotoPreview:c.func.isRequired,prepareForAttachedVideoPreview:c.func,prepareForAttachedFilePreview:c.func,onPhotoUploadComplete:c.func.isRequired,onVideoUploadComplete:c.func,onVideoUploadUpdate:c.func,onVideoEncodeUpdate:c.func,onFileUploadComplete:c.func,onClick:c.func,setFileInput:c.func.isRequired,targetId:c.string,allowVideoAttachments:c.bool,allowFileAttachments:c.bool,attachment:c.object,viewerActorID:c.string.isRequired};e.exports=a}),null);
__d("UFIGifButton.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","LayerTabIsolation","Link.react","MessengerPlatformInterfaceType","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=278;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();i.constructor.call(this),this.$5=function(){this.setState({flyoutShown:!1,query:""})}.bind(this),this.$8=function(){this.$3=this.state.flyoutShown}.bind(this),this.$7=function(a){__p&&__p();a.preventDefault();if(this.state.renderFlyout!==null){this.$3||(this.props.onGifFlyoutShow&&this.props.onGifFlyoutShow(),this.setState({flyoutShown:!0}));return}a=b("Bootloader").loadModules(["XUIContextualDialog.react","ChatContentSearchFlyout.react","ContextualLayerAutoFlip"],function(a,c,d){this.setState({flyoutShown:!0,renderFlyout:function(){return b("React").createElement(a,{alignment:"right",behaviors:{flip:d,LayerTabIsolation:b("LayerTabIsolation")},className:"-cx-PRIVATE-UFIGifDialog__root",contextRef:function(){return this.$1}.bind(this),onBlur:this.$5,onToggle:function(a){!a&&this.state.flyoutShown&&this.$5()}.bind(this),position:"above",shown:this.state.flyoutShown,hasActionableContext:!0,width:j},b("React").createElement("div",null,b("React").createElement(c,{onEscKeyDown:this.$5,onSelect:this.$9,query:this.state.query,shown:this.state.flyoutShown,searchInterface:b("MessengerPlatformInterfaceType").FB_INTERFACE,queryDefault:this.props.defaultGifSelection})))}.bind(this)}),this.props.onGifFlyoutShow&&this.props.onGifFlyoutShow()}.bind(this),"UFIGifButton.react");this.$4.addSubscriptions(a)}.bind(this),this.$9=function(a){this.props.onGifSelected(a),this.$5()}.bind(this),this.$6=function(a){this.$1=a}.bind(this),this.state={renderFlyout:null,flyoutShown:!1,query:""}}a.prototype.componentDidMount=function(){this.$4=new(b("SubscriptionsHandler"))(),this.$2=b("Arbiter").subscribe("page_transition",function(){return this.$5()}.bind(this))};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.unsubscribe(),this.$4&&this.$4.release(),delete this.$4};a.prototype.render=function(){var a=h._("Post a GIF"),c=this.state.renderFlyout&&this.state.flyoutShown?this.state.renderFlyout():null;return b("React").createElement(b("FocusRelocator.react"),{from:this.$1,to:this.refs.icon},b("React").createElement(b("Link.react"),{"aria-label":a,className:"-cx-PRIVATE-UFIAddComment__attachmentbutton UFICommentGifButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?a:null,linkRef:this.$6,onClick:this.$7,onMouseDown:this.$8,role:"button"},b("React").createElement("div",{ref:"icon",className:"UFICommentGifIcon"+(this.state.flyoutShown?" UFICommentGifIconActive":"")}),this.props.children,c))};a.defaultProps={children:[],showTooltip:!0,defaultGifSelection:null};e.exports=a}),null);
__d("FBJSON",[],(function(a,b,c,d,e,f){e.exports={parse:JSON.parse,stringify:JSON.stringify}}),null);
__d("UFIGroupedInputTabs",["CacheStorage"],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({EMOJI:"EMOJI",STICKER:"STICKER",GIF:"GIF"}),h="last_used_input_on_composer",i=new(b("CacheStorage"))("localstorage");a=function(){return i.get(h,g.STICKER)};c=function(a){i.set(h,a)};e.exports={InputTitleEnum:g,getLastUsedTab:a,setLastUsedTab:c}}),null);
__d("UFIImageBlock.react",["cx","ImageBlock.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("ImageBlock.react"),babelHelpers["extends"]({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent"}),this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("UFIInsightsSharingCommentTag.react",["cx","fbt","invariant","Arbiter","DOMScroll","Middot.react","React","ReactDOM","ShimButton.react","Tooltip.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={isSelected:!1},this.$2=function(){var a=this.props.commentId,c=this.$1();c!==void 0&&a!==void 0&&(b("Arbiter").inform("InsightsComments/"+c+"/clickedInsightsCommentTag",{commentId:a}),this.setSelected())}.bind(this),this.$3=function(){var a=this.$1();a!==void 0&&b("Arbiter").inform("InsightsComments/"+a+"/clickedInsightsCommentTag",{commentId:null})}.bind(this),c}a.prototype.componentWillUnmount=function(){this.onCommentClicked&&b("Arbiter").unsubscribe(this.onCommentClicked)};a.prototype.setSelected=function(){this.setState({isSelected:!0}),window.setTimeout(function(){this.setState({isSelected:!1})}.bind(this),2e3)};a.prototype.componentDidMount=function(){var a=this.props.commentId;a!==void 0&&a!==null&&(this.onCommentClicked=b("Arbiter").subscribe("InsightsComments/clickedInsightComment/"+a,function(){var a=b("ReactDOM").findDOMNode(this.refs.commentTagContainer);a instanceof Element||i(0,4555);b("DOMScroll").ensureVisible(a,null,55,180);this.setSelected()}.bind(this)))};a.prototype.$1=function(){var a=this.props,b=a.feedbackTargetID;a=a.feedbackTargetGraphQLId;if(b!==null&&b!==void 0)return b;return a!==null&&a!==void 0?atob(a).split(":")[1]:""};a.prototype.render=function(){var a=this.props.showMiddot,c=a&&b("React").createElement(b("Tooltip.react"),{tooltip:h._("Comment posted with relevance to a certain point on the graph")},b("React").createElement(b("Middot.react"),{className:"-cx-PRIVATE-UFIInsightsSharingCommentTag__middot"})),d="-cx-PRIVATE-UFIInsightsSharingCommentTag__container"+(this.state.isSelected?" -cx-PRIVATE-UFIInsightsSharingCommentTag__selectedcontainer":"");return b("React").createElement("span",{className:d,ref:"commentTagContainer",role:"link",tabIndex:0,onBlur:this.$3,onClick:this.$2},c,b("React").createElement(b("ShimButton.react"),{className:"-cx-PRIVATE-uiLink__subtle -cx-PRIVATE-UFIInsightsSharingCommentTag__uilink",form:"link"},a&&"commented about ["+this.props.formattedValue+"] "))};e.exports=a}),null);
__d("UFIMarkdownButton.react",["cx","fbt","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=h._("Format text with Markdown");return b("React").createElement(b("Link.react"),{className:"-cx-PRIVATE-UFIAddComment__attachmentbutton -cx-PRIVATE-UFIAddComment__uficommentmarkdownbutton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":a,"aria-label":a,onClick:this.props.onClick},b("React").createElement("div",{tabIndex:0,className:"-cx-PRIVATE-UFIAddComment__uficommentmarkdownicon"+(this.props.active?" -cx-PRIVATE-UFIAddComment__activeattachmentbutton":"")}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("UFINavigationCheck",["SnowflakePermalinkUtils","URI","VideoPermalinkURI"],(function(a,b,c,d,e,f){"use strict";function c(c){var d=b("URI").getNextURI();c=c.getMostRecentURI();if(Object.prototype.hasOwnProperty.call(d.getQueryData(),"theater")||Object.prototype.hasOwnProperty.call(c.getQueryData(),"theater")||Object.prototype.hasOwnProperty.call(d.getQueryData(),"sdialog")||b("SnowflakePermalinkUtils").isPermalinkURI(d)||b("SnowflakePermalinkUtils").isPermalinkURI(c)||b("VideoPermalinkURI").isValid(d)&&d.getQueryData().ref==="channel"||b("VideoPermalinkURI").isValid(c)&&c.getQueryData().ref==="channel")return!1;c=a.DialogNavigationStack;return c&&c.isActiveURI(d)?!1:!0}e.exports={isLeaving:c}}),null);
__d("UFIStickerButton.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","Link.react","React","StickerInterfaces","getObjectValues"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"UFIStickerButton",_clickGuard:!1,_updateListener:null,_linkRef:null,propTypes:{allowCustomStickers:a.bool,customStickerOwnerID:a.string,onStickerFlyoutShow:a.func,onStickerSelected:a.func.isRequired,onEmoticonSelected:a.func,showTooltip:a.bool,stickerInterface:a.oneOf(b("getObjectValues")(b("StickerInterfaces"))),tabIndex:a.number},getDefaultProps:function(){return{allowCustomStickers:!1,customStickerOwnerID:"",showTooltip:!0,stickerInterface:b("StickerInterfaces").COMMENTS}},getInitialState:function(){return{renderFlyout:null,flyoutShown:!1}},componentDidMount:function(){this._updateListener=b("Arbiter").subscribe("page_transition",function(){return this._hideFlyout()}.bind(this))},componentWillUnmount:function(){this._updateListener&&this._updateListener.unsubscribe()},render:function(){var a=h._("Post a sticker");return b("React").createElement(b("FocusRelocator.react"),{from:this._linkRef,to:this.refs.icon},b("React").createElement(b("Link.react"),{"aria-label":a,className:"-cx-PRIVATE-UFIAddComment__attachmentbutton UFICommentStickerButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?a:null,linkRef:this._setRef,onClick:this._onLinkClicked,onMouseDown:this._prepareForClick,role:"button",tabIndex:this.props.tabIndex},b("React").createElement("div",{ref:"icon",className:"UFICommentStickerIcon"+(this.state.flyoutShown?" UFICommentStickerIconActive":"")}),this.props.children,this.state.renderFlyout?this.state.renderFlyout():null))},_hideFlyout:function(){this.setState({flyoutShown:!1})},_prepareForClick:function(){this._clickGuard=this.state.flyoutShown},_onLinkClicked:function(a){__p&&__p();a.preventDefault();if(this.state.renderFlyout!==null){this._clickGuard||(this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow(),this.setState({flyoutShown:!0}));return}b("Bootloader").loadModules(["ContextualLayerAutoFlip","LayerTabIsolation","StickersFlyout.react","XUIContextualDialog.react"],function(a,c,d,e){this.setState({flyoutShown:!0,renderFlyout:function(){return b("React").createElement(e,{alignment:"right",behaviors:{ContextualLayerAutoFlip:a,LayerTabIsolation:c},className:"-cx-PRIVATE-UFIStickerDialog__root",contextRef:function(){return this._linkRef}.bind(this),onBlur:this._hideFlyout,onToggle:function(a){!a&&this.state.flyoutShown&&this._hideFlyout()}.bind(this),position:"above",shown:this.state.flyoutShown,hasActionableContext:!0,width:this.props.allowCustomStickers?213:278},b("React").createElement("div",null,b("React").createElement(d,{allowCustomStickers:this.props.allowCustomStickers,customStickerOwnerID:this.props.customStickerOwnerID,onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:this.props.stickerInterface,shown:this.state.flyoutShown})))}.bind(this)}),this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow()}.bind(this),"UFIStickerButton.react")},_onStickerSelected:function(a,b,c){this.props.onStickerSelected(a,b,c),this._hideFlyout()},_onEmoticonSelected:function(a){this.props.onEmoticonSelected&&this.props.onEmoticonSelected(a),this._hideFlyout()},_setRef:function(a){this._linkRef=a}});e.exports=c}),null);
__d("WritingAssistanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:WritingAssistanceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:WritingAssistanceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WritingAssistanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setValue=function(a){this.$1.value=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={action:!0,time:!0,value:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XUIText.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getAriaLevel=function(a,b){"use strict";__p&&__p();if(a==="header1")return 1;else if(a==="header2")return 2;else if(a==="header3")return 3;else if(a==="header4")return 4;return b};a.prototype.render=function(){"use strict";var a=this.props,c=a.color,d=a.palette,e=a.type,f=a.size,g=a.weight,h=a.display,i=a.headingLevel,j=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","palette","type","size","weight","display","headingLevel","children"]);e=(e==="serif"?"-cx-PRIVATE-xuiText__serif":"")+(f==="small"?" -cx-PRIVATE-xuiText__sizesmall":"")+(f==="medium"?" -cx-PRIVATE-xuiText__sizemedium":"")+(f==="large"?" -cx-PRIVATE-xuiText__sizelarge":"")+(f==="xlarge"||f==="xlarge_DEPRECATED"?" -cx-PRIVATE-xuiText__sizeextralarge":"")+(g==="bold"?" -cx-PRIVATE-xuiText__weightbold":"")+(g==="normal"?" -cx-PRIVATE-xuiText__weightnormal":"")+(f==="display"?" -cx-PRIVATE-xuiText__sizedisplay":"")+(f==="header1"?" -cx-PRIVATE-xuiText__sizeheader1":"")+(f==="header2"?" -cx-PRIVATE-xuiText__sizeheader2":"")+(f==="header3"?" -cx-PRIVATE-xuiText__sizeheader3":"")+(f==="header4"?" -cx-PRIVATE-xuiText__sizeheader4":"")+(f==="body1"?" -cx-PRIVATE-xuiText__sizebody1":"")+(f==="body2"?" -cx-PRIVATE-xuiText__sizebody2":"")+(f==="body3"?" -cx-PRIVATE-xuiText__sizebody3":"")+(f==="meta1"?" -cx-PRIVATE-xuiText__sizemeta1":"")+(c==="blueLink"?" -cx-PRIVATE-xuiText__bluelink":"")+(c==="white"?" -cx-PRIVATE-xuiText__white":"")+(c==="highlight"?" -cx-PRIVATE-xuiText__highlight":"")+(c==="positive"?" -cx-PRIVATE-xuiText__positive":"")+(c==="negative"?" -cx-PRIVATE-xuiText__negative":"")+(d!=="dark"&&c==="placeholder"?" -cx-PRIVATE-xuiText__placeholder":"")+(d!=="dark"&&c==="primary"?" -cx-PRIVATE-xuiText__primarylight":"")+(d!=="dark"&&c==="secondary"?" -cx-PRIVATE-xuiText__secondarylight":"")+(d!=="dark"&&c==="disabled"?" -cx-PRIVATE-xuiText__disabledlight":"")+(d==="dark"&&c==="primary"?" -cx-PRIVATE-xuiText__primarydark":"")+(d==="dark"&&c==="secondary"?" -cx-PRIVATE-xuiText__secondarydark":"")+(d==="dark"&&c==="disabled"?" -cx-PRIVATE-xuiText__disableddark":"");g=this.getAriaLevel(f,i);g!==void 0&&g!==null&&(a=babelHelpers["extends"]({},a,{role:"heading","aria-level":""+g}));return h==="block"?b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e)}),j):b("React").createElement("span",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e)}),j)};function a(){"use strict";h.apply(this,arguments)}a.propTypes={color:c.oneOf(["primary","secondary","blueLink","placeholder","disabled","white","highlight","positive","negative"]),display:c.oneOf(["inline","block"]),headingLevel:c.oneOf([1,2,3,4,5,6]),palette:c.oneOf(["light","dark"]),size:c.oneOf(["small","medium","large","xlarge","xlarge_DEPRECATED","inherit","display","header1","header2","header3","header4","body1","body2","body3","meta1"]),type:c.oneOf(["serif","inherit"]),weight:c.oneOf(["bold","inherit","normal"])};a.defaultProps={type:"inherit",size:"inherit",weight:"inherit",display:"inline"};e.exports=a}),null);
__d("UFIAddComment.react",["cx","fbt","invariant","AccessibilityConfig","ActorURI","Arbiter","AsyncRequest","Badge.react","BootloadedComponent.react","Bootloader","ClipboardPhotoUploader","CommentPrivacyValue","ConstituentBadgeEventEmitter","CurrentUser","DOMScroll","EmojiInputButton.react","Event","FeedbackSourceType","JSResource","Keys","Link.react","LitestandStoryInsertionStatus","MentionsInputUtils","MercuryIDs","Placeholder.react","PrivateCommentsConfig","PrivateConversationsTreatment","React","ReactDOM","Run","SearchableEntry","SubscriptionsHandler","SutroStoryHeaderUFIGatingConfig","TextWithEntities.react","TrackingNodes","UFIActorIconContainer.react","UFIAddCommentAction","UFIAttachMediaSection.react","UFIBotsButton","UFICommercialBreakStore","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIComposerIsTypingStore","UFIConfig","UFIGifButton.react","UFIGroupedInputTabs","UFIImageBlock.react","UFIInsightsSharingCommentTag.react","UFIMarkdownButton.react","UFINavigationCheck","UFIODSLogger","UFIPlayLiveVODHighlightsStore","UFISharedDispatcher","UFIStickerButton.react","UFIThreadedFacecastCommentsStore","UFIVersion","WebFunnelLogger","WritingAssistanceTypedLogger","XBasicFBNuxDismissController","XBasicFBNuxGenShouldShowController","XBasicFBNuxViewController","XConstituentBadgeV2OptInDialogController","XFeedNUXSaveSeenStateController","XUFICommentGIFPreprocessController","XUFICommentMarkdownPreviewController","XUISpinner.react","XUIText.react","getActiveElement","ifRequired","immutable","joinClasses","lazyLoadComponent","promiseDone","requireCond","requireWeak","textProbablyWritingMarkdown","throttle","uuid","cr:gk.merge_input_buttons_comment_kill_switch_1oXrXOnjpB3","cr:qe.bool.conversation_guide_tests_www:should_display_combined_suggestions_bmfOHrQOxOK"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("UFIBotsButton").module,l=b("UFIGroupedInputTabs").InputTitleEnum,m=b("UFIGroupedInputTabs").setLastUsedTab,n={startFunnel:function(a){return void 0},logViewerInteracted:function(a){return void 0},logToggle:function(a,b){return void 0}};b("requireWeak")("PrivateCommentsLogger",function(a){n=a});var o=a.URL||a.webkitURL||{};c=b("React").PropTypes;var p=h._("Write a comment..."),q=h._("Write a reply..."),r="fcg fss UFICommentTip",s=h._("Write something..."),t=19,u="/ajax/ufi/upload/",v="/ajax/ufi/sticker_preview/",w=1e3,x="comment_content_change",y=Object.freeze({UPLOAD:"uploading",ENCODE:"encoding"}),z=5572,A=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,B=b("lazyLoadComponent")(b("JSResource")("UFICommentPivotBlock.react").__setRef("UFIAddComment.react")),C=b("lazyLoadComponent")(b("JSResource")("UFICommentPivotFailedDialog.react").__setRef("UFIAddComment.react")),D=b("lazyLoadComponent")(b("JSResource")("UFIAddMentionsButton.react").__setRef("UFIAddComment.react")),E=!1,F=!1,G=!1;d=babelHelpers.inherits(H,b("React").Component);j=d&&d.prototype;H.renderEditCommentBox=function(a,c,d){__p&&__p();a=babelHelpers["extends"]({},a);delete a.addcommentautoflip;delete a.collapseaddcomment;delete a.hideActorPhoto;delete a.issnowlift;delete a.loggedOutLinkConfig;delete a.monitorHeight;delete a.sht;delete a.viewoptionstypeobjects;delete a.viewoptionstypeobjectsorder;return b("React").createElement(H,{key:"editing_comment"+c.id,viewerActorID:d.actorforpost,targetID:d.ownerid,groupID:d.grouporeventid,mentionsDataSource:d.mentionsdatasource,contextArgs:a,isEditing:!0,editingComment:c,allowVideoAttachments:d.allowvideoattachments,allowPhotoAttachments:d.allowphotoattachments,allowFileAttachments:d.allowfileattachments,allowStickerAttachments:d.allowstickerattachments,allowGifAttachments:d.allowgifattachments,allowBotMentions:d.allowbotmentions,allowTogglePrivateComments:!1,privateCommentTarget:d.actorname,allowCommentMarkdown:d.iscommentmarkdowneligible,showconstituentbadgev2optin:d.showconstituentbadgev2optin,constituentBanner:d.constituentbanneruri})};function H(c){__p&&__p();j.constructor.call(this,c);this.$4=!1;this.$19=function(a){this.props.isEditing&&b("Event").getKeyCode(a.nativeEvent)===b("Keys").ESC&&this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs));this.$1&&!this.$5&&(b("Run").onBeforeUnload(this.$20),this.$5=!0);var c=b("getActiveElement")();c&&b("Event").getKeyCode(a.nativeEvent)===b("Keys").ESC&&c.blur()}.bind(this);this.$21=function(a){this.$2&&!this.$4&&(new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("first_input").log(),this.$4=!0),b("UFISharedDispatcher").dispatch(b("UFIAddCommentAction").changeContent(this.props.contextArgs,a,this.$22())),b("Arbiter").inform(x,{fbid:this.$22(),text:a,instanceid:this.props.contextArgs.instanceid,ftentidentifier:this.props.contextArgs.ftentidentifier}),this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled&&this.$23(a),this.props.allowCommentFixSuggestions&&(this.$24(a),this.state.commentSuggestionsShowing&&!this.state.hasStaleSuggestions&&this.setState({hasStaleSuggestions:!0})),this.props.contextArgs.messengerCommentPivotsParams&&this.props.contextArgs.messengerCommentPivotsParams.enabled&&this.$25(a),this.state.groupedInputNUXShown&&this.$26()}.bind(this);this.$23=function(a){a=b("XUFICommentMarkdownPreviewController").getURIBuilder().setString("comment_body",a).getURI();new(b("AsyncRequest"))(a).setHandler(this.$30).send()}.bind(this);this.$30=function(a){if(!a)return;this.setState({commentMarkdownPreviewContent:a.payload?a.payload.markup:null})}.bind(this);this.$20=function(){if(a.PageTransitions&&!b("UFINavigationCheck").isLeaving(a.PageTransitions))return;if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return h._("You haven't finished your comment yet. Do you want to leave without finishing?")}.bind(this);this.$32=function(){this.setState({markdownNUXVisible:!1,gifsInCommentsNUXVisible:!1,groupedInputNUXShown:!1,privateCommentNUXVisible:!1});window.setTimeout(function(){this.$1&&this.setState({isFocused:!1})}.bind(this),100);if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:!1})}.bind(this);this.$33=function(a){var c=new(b("ClipboardPhotoUploader"))(u,this.$34());this.$35();this.$6=[c.subscribe("upload_start",this.$36),c.subscribe("upload_error",this.$37),c.subscribe("upload_success",function(a,b){this.$38(b)}.bind(this))];c.handlePaste(a)}.bind(this);this.$42=function(a,b){var c=this.props.isEditing||this.state.hasAttachment,d=a.encodedValue&&a.encodedValue.trim(),e=this.state.isLoadingPhoto||this.$43()||this.state.isLoadingFile;if(e||!c&&!d)return!1;else if(!c&&this.state.showMessengerPivot&&this.state.shouldSendAsMessage){e=a.encodedValue=a.encodedValue?a.encodedValue.trim():"";return this.$44(e)}else return this.$45(a,b)}.bind(this);this.$49=function(){this.$39()}.bind(this);this.focus=function(){__p&&__p();this.$39();var a={isCommenting:!0,isFocused:!0},c=this.props.contextArgs.loggedOutLinkConfig;c&&c.showAddComment&&b("Bootloader").loadModules(["AsyncDialog"],function(a){a.bootstrap(c.addCommentAjaxifyURI,null,"dialog")},"UFIAddComment.react");this.refs.groupedInputButton&&b("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(a,b){a.hasUserSeenMessage(b.MERGE_INPUT_COMPOSER_NUX)||(this.setState({groupedInputNUXShown:!0}),a.markMessageSeenByUser(b.MERGE_INPUT_COMPOSER_NUX))}.bind(this),"UFIAddComment.react");if(this.props.allowGifAttachments&&b("UFIConfig").shouldShowGIFsInCommentsNux&&!E){E=!0;var d=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","gif_comments").setBool("seen",!0).getURI();new(b("AsyncRequest"))(d).send();a.gifsInCommentsNUXVisible=!0}if(this.props.allowCommentMarkdown&&b("UFIConfig").shouldShowMarkdownCommentNUX&&!b("UFIConfig").shouldShowGIFsInCommentsNux&&!F){F=!0;d=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","markdown_comments").setBool("seen",!0).getURI();new(b("AsyncRequest"))(d).send();a.markdownNUXVisible=!0}if(this.props.allowTogglePrivateComments&&!(this.state.gifsInCommentsNUXVisible||a.gifsInCommentsNUXVisible)&&!(this.state.markdownNUXVisible||a.markdownNUXVisible)&&!G){G=!0;d=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(d).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();if(a&&a.should_show_nux){a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(a).send();this.setState({privateCommentNUXVisible:!0})}}.bind(this)).send()}if(this.state.showConstituentBadgeV2OptIn){d=b("XConstituentBadgeV2OptInDialogController").getURIBuilder().setString("ft_id",this.props.commentsTargetID).getURI();new(b("AsyncRequest"))().setURI(d).send()}this.setState(a);this.markViewerHasInteracted();this.props.onFocus&&this.props.onFocus();b("Arbiter").inform("UFIAddComment/focus",{instanceid:this.props.contextArgs.instanceid,ftentidentifier:this.props.contextArgs.ftentidentifier,isTopLevelComposer:this.props.isTopLevelComposer})}.bind(this);this.$59=function(a,b){this.setState({fileInput:a,fileUploader:b})}.bind(this);this.handleMessengerPivotClick=function(){this.setState(function(a){this.$28(a.shouldSendAsMessage?"pivot disabled":"pivot enabled");return{shouldSendAsMessage:!a.shouldSendAsMessage}}.bind(this)),this.refs.mentionsinput.focus()}.bind(this);this.$60=function(a){m(l.EMOJI),this.refs.mentionsinput.insertEmoji(a)}.bind(this);this.$61=function(a){m(l.STICKER),this.$66(a),this.$65(!1)}.bind(this);this.$64=function(a,b){m(l.STICKER),this.onStickerSelected(a,b),this.$65(!1)}.bind(this);this.$62=function(a){m(l.GIF),this.onGifSelected(a),this.$65(!1)}.bind(this);this.$65=function(a){a!==this.state.flyoutShown&&this.setState({flyoutShown:a})}.bind(this);this.$67=function(){this.state.customStickerNUXShown&&this.$51()}.bind(this);this.$63=function(){this.state.flyoutShown||this.markViewerHasInteracted(),this.state.groupedInputNUXShown&&this.$26(),this.state.customStickerNUXShown&&this.$51()}.bind(this);this.$34=function(){var a=this.props.viewerActorID,c={profile_id:a,target_id:this.props.targetID,source:t};c[b("ActorURI").PARAMETER_ACTOR]=a;return c}.bind(this);this.$38=function(a){if(!this.state.isLoadingPhoto)return;a=a.getPayload();a&&a.fbid?this.setState({attachedPhoto:a,isLoadingPhoto:!1}):this.$37(null)}.bind(this);this.$68=function(){var a=this.props.viewerActorID,c={profile_id:a,target_id:this.props.targetID};c[b("ActorURI").PARAMETER_ACTOR]=a;return c}.bind(this);this.$71=function(a){if(!this.state.isLoadingFile)return;a=a.getPayload();a&&a.fbid?this.setState({attachedFile:a,isLoadingFile:!1}):this.$37(null)}.bind(this);this.$73=function(a,b){if(!this.state.attachedVideo||this.state.videoStatus!==y.ENCODE)return;if(b.obj.progress<this.state.videoProgress)return;b.obj.fbid=b.obj.videoID;if(this.state.attachedVideo.fbid&&this.state.attachedVideo.fbid!==b.obj.fbid)return;this.setState({attachedVideo:b.obj,videoProgress:b.obj.progress,videoStatus:y.ENCODE});this.$85(b.obj.stage)&&this.$86()}.bind(this);this.$74=function(a){this.setState({videoProgress:a})}.bind(this);this.$72=function(a){if(this.state.videoStatus!==y.UPLOAD)return;a&&a.video_id&&this.setState({videoProgress:0,attachedVideo:a,videoStatus:y.ENCODE})}.bind(this);this.$37=function(a){b("Arbiter").inform("video_upload_cancel",{}),this.state.fileInput&&this.state.fileInput.clear(),this.setState({attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,attachedStars:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:!1,videoProgress:0,isVideoFileTranscodedGIF:!1,hasAttachment:!1})}.bind(this);this.$36=function(){this.setState({attachedPhoto:null,isLoadingPhoto:!0})}.bind(this);this.$70=function(){this.setState({attachedFile:null,isLoadingFile:!0})}.bind(this);this.$69=function(){var a,b=this.state.fileInput?this.state.fileInput.input:null;b=b?b.files[0]:null;b&&o.createObjectURL&&(a=o.createObjectURL(b));this.setState({attachedVideo:null,videoStatus:y.UPLOAD,videoFileURL:a,videoProgress:0,isVideoFileTranscodedGIF:Boolean(b&&b.type==="image/gif")})}.bind(this);this.$87=function(a){if(!this.state.isLoadingPhoto)return;a=a.getPayload();a&&a.fbid?this.$84({attachedSticker:a,isLoadingPhoto:!1}):(b("Bootloader").loadModules(["Dialog"],function(a){var b=h._("Sticker Failed"),c=h._("There was a problem attaching the sticker.");new a().setTitle(b).setBody(c).setButtons(a.OK).show()},"UFIAddComment.react"),this.$76(null))}.bind(this);this.$76=function(a){this.setState({attachedSticker:null,isLoadingPhoto:!1,hasAttachment:!1})}.bind(this);this.$75=function(a){b("Bootloader").loadModules(["FunnelLogger"],function(a){a.appendAction("FLEXIBLE_STARS_WWW_FUNNEL","dismissed_star_attachment"),a.endFunnel("FLEXIBLE_STARS_WWW_FUNNEL")},"UFIAddComment.react"),this.$37(a)}.bind(this);this.onStickerSelected=function(a,b){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this.$83(a);return}this.sendSticker(a,b)}.bind(this);this.onStarsSelected=function(a){var b=this.getMatchingStarTippedValue(a.quantity,a.promotionEvent),c=a.quantity;this.setState({attachedStars:{previewImageSrc:a.previewImageSrc,metadata:c+b,userTippedQuantity:c,matchingQuantity:b,promotionEvent:this.isPromotionMatchingEnabled(a.promotionEvent)?a.promotionEvent:null,type:"SEND_STARS"}})}.bind(this);this.$66=function(a){__p&&__p();b("Bootloader").loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(c,d,e,f){__p&&__p();c=c.symbols[a];if(!c)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(c);return}this.$16||(this.$16=new f(b("ReactDOM").findDOMNode(this.refs.mentionsinput.refs.textarea)));f=this.refs.mentionsinput.refs.getTextFieldDOM();e=e.getInstance(f);f=e.getValue();this.$16||i(0,1935);d=d.insertEmoticon(c,f,this.$16.getPos());e.setValue(d.result);this.$16||i(0,1935);this.$16.setPos(d.start,d.end)}.bind(this),"UFIAddComment.react")}.bind(this);this.$51=function(){this.setState({customStickerNUXShown:!1})}.bind(this);this.$54=function(){this.setState({markdownNUXVisible:!1})}.bind(this);this.$26=function(){this.setState({groupedInputNUXShown:!1})}.bind(this);this.$58=function(){var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(a).send();this.setState({privateCommentNUXVisible:!1})}.bind(this);this.onGifSelected=function(a){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this.$84({attachedGIF:a});this.preprocessGIF(a);return}this.sendGIF(a)}.bind(this);this.$77=function(a,b){this.setState(function(c){c[a]=b;return{mentionsData:c}},function(){this.props.contextArgs.messengerCommentPivotsParams&&this.props.contextArgs.messengerCommentPivotsParams.enabled&&this.$27()}.bind(this))}.bind(this);this.$1=!1;var d=this.props.editingComment,e=d.attachment,f=e?e.type:null,g=f==="photo"?e:null;this.state={attachedPhoto:d.photo_comment||g,attachedVideo:d.video_comment||null,attachedFile:d.file_comment||null,attachedSticker:f=="sticker"?e:null,attachedGIF:f=="gif"?e:null,attachedStars:f=="SEND_STARS"?e:null,commentMarkdownPreviewContent:d.body?d.body.markup||null:null,commentMarkdownEnabled:d.body?d.body.markdown_enabled||!1:!1,currentThreadedFacecastCommentID:b("UFIThreadedFacecastCommentsStore").getCommentID(c.contextArgs.instanceid),addCommentNUXShown:this.props.contextArgs.permalinkAddCommentNuxShown||!1,commentPrivacy:d.privacy_value||this.props.replyCommentPrivacy||b("CommentPrivacyValue").DEFAULT_PRIVACY,showConstituentBadgeV2OptIn:Boolean(this.props.showConstituentBadgeV2OptIn),constituentBannerState:String(this.props.constituentBanner),customStickerNUXShown:!1,commentSuggestionsShowing:!1,videoStatus:null,videoFileURL:null,videoProgress:0,isVideoFileTranscodedGIF:!1,fileInput:null,fileUploader:null,flyoutShown:!1,isCommenting:!1,isLoadingPhoto:!1,isLoadingFile:!1,isFocused:Boolean(this.props.isEditing),gifsInCommentsNUXVisible:!1,groupedInputNUXShown:!1,markdownNUXVisible:!1,privateCommentNUXVisible:!1,hasPotentialSuggestions:!1,hasStaleSuggestions:!1,isInitialSuggestionCheck:!0,inCommercialBreak:!1,isPlayingLiveVODHighlights:!1,showFailedMessageDialog:!1,showMessengerPivot:!1,shouldSendAsMessage:!1,isSendingMessage:!1,hasAttachment:!1,mentionsData:{},currentMentionIds:[],currentMentionOffsets:[],videoTrimParams:null,selectedInsightPoint:null};g=this.state.attachedPhoto||this.state.attachedVideo||this.state.attachedFile||this.state.attachedGIF||this.state.attachedSticker||this.state.attachedStars;this.state.hasAttachment=!!g;b("Run").onLoad(function(){b("Bootloader").loadModules(["UFIAddCommentLiveTypingController"],function(){},"UFIAddComment.react")})}H.prototype.$25=function(a){this.setState(function(){var b=this.parseTextForMentions(a).map(function(a){return a.uid}),c=this.parseTextForMentions(a).map(function(a){return a.offset});return{currentMentionIds:b,currentMentionOffsets:c}}.bind(this),function(){this.$27()}.bind(this))};H.prototype.$27=function(){__p&&__p();if(this.props.contextArgs.shareLinkConfig&&!this.$22()&&!this.props.isEditing){var a=this.state.currentMentionIds.length>=1,b=this.state.currentMentionOffsets.findIndex(function(a){return a===0})!==-1;if((!a||!b)&&this.state.showMessengerPivot)this.$28("pivot hidden"),this.setState({showMessengerPivot:!1});else if(a&&b){var c=!0;a=!1;b=this.state.currentMentionIds.length;for(var d=0;d<b;d++){var e=this.state.currentMentionIds[d];if(!this.state.mentionsData[e]){a=!0;break}else if(this.state.mentionsData[e]!=="user"){c=!1;break}}a||this.setState(function(a){if(c!==a.showMessengerPivot){this.$29();this.$28(a.showMessengerPivot?"pivot hidden":"pivot shown");return{showMessengerPivot:!a.showMessengerPivot}}return{}}.bind(this))}}};H.prototype.$31=function(a){__p&&__p();if(!this.$17||this.$17.length===a.length)return!1;var b,c;this.$17.length>a.length?(b=this.$17,c=a):(b=a,c=this.$17);a=null;var d=0;while(a===null&&d<c.length)c[d]!==b[d]&&(a=b[d]),d++;if(a===null)a=b[b.length-1];else{c=b[d];if(!/[a-zA-Z\-\']/.test(c))return!1}return!/[a-zA-Z\-\']/.test(a)};H.prototype.$24=function(a){__p&&__p();if(!this.$31(a)){this.$17=a;return}this.$17=a;var c=a.match(/[a-zA-z\-\']+/g);if(!c)return;var d=b("AccessibilityConfig").svTypicalDyslexiaMisspellings,e=!1;a=a.toUpperCase()===a;for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;if(a||h.toUpperCase()!==h){h=h.toLowerCase();d.includes(h)&&(e=!0)}}if(this.state.hasPotentialSuggestions===e)return;this.setState({hasPotentialSuggestions:e});e&&new(b("WritingAssistanceTypedLogger"))().setAction("badge_shown").setValue("true").log()};H.prototype.$39=function(){this.$2||(this.$2=this.props.viewerActorID+"_"+Date.now(),new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("focus").setFunnelTags(["depth_"+(this.$22()?"1":"0")]).markStart().log())};H.prototype.$40=function(){this.$2&&(new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("commit").markEnd().log(),delete this.$2,this.$4=!1)};H.prototype.$29=function(){this.$3||(this.$3=""+Date.now(),new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction("Start").markStart().log())};H.prototype.$41=function(){this.$3&&(new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction("Commit").markEnd().log(),this.$3=null)};H.prototype.$28=function(a){this.$3&&new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction(a).log()};H.prototype.$45=function(a,c){__p&&__p();this.setState({showMessengerPivot:!1});this.$28("comment posted");this.$41();a.encodedValue=a.encodedValue?a.encodedValue.trim():"";this.state.commentMarkdownEnabled?(a.isMarkdown=!0,this.setState({commentMarkdownEnabled:!1,commentMarkdownPreviewContent:null})):this.props.allowCommentMarkdown&&!a.isMarkdown&&(a.isMarkdown=b("textProbablyWritingMarkdown")(a.encodedValue));this.state.commentPrivacy&&(a.privacy_value=this.state.commentPrivacy);this.state.selectedInsightPoint&&(a.selectedInsightPoint=this.state.selectedInsightPoint);this.state.hasAttachment?(a.attachedPhoto=this.state.attachedPhoto,a.attachedVideo=this.state.attachedVideo,a.attachedFile=this.state.attachedFile,a.attachedSticker=this.state.attachedSticker,a.attachedStars=this.state.attachedStars,this.state.attachedGIF&&(this.state.attachedGIF.source?a.attachedShareURL=this.state.attachedGIF.source.url:this.state.attachedGIF.originalImageUrl&&(a.attachedShareURL=this.state.attachedGIF.originalImageUrl)),this.setState({isLoadingPhoto:!1,isLoadingFile:!1,attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedSticker:null,attachedGIF:null,attachedStars:null,hasAttachment:!1})):(a.attachedPhoto=null,a.attachedVideo=null,a.attachedFile=null,a.attachedSticker=null,a.attachedGIF=null,a.attachedShareURL=null,a.attachedStars=null);if(this.props.isEditing)this.context.dispatch(b("UFIAddCommentAction").submitEdit(this.props.contextArgs,this.props.editingComment,a,c.target));else if(this.state.attachedStars)this.$46(a);else{var d=b("UFICommonInteractionLogger").makeTrackingID();b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT,d+b("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT);b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT,d+b("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT);a.trackingID=d;this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,c.target,this.$22()))}this.$40();this.$47();return!0};H.prototype.$46=function(a){var c,d=(c=this.state.attachedStars)==null?void 0:c.userTippedQuantity,e=this.props.targetID,f=(c=this.state.attachedStars)==null?void 0:c.matchingQuantity,g=(c=this.state.attachedStars)==null?void 0:(c=c.promotionEvent)==null?void 0:c.id;d&&e&&b("Bootloader").loadModules(["VideoStarsSpendMutationWebGraphQLMutation","WebGraphQL","FunnelLogger"],function(c,h,i){b("promiseDone")(h.exec(new c({input:{actor_id:this.props.viewerActorID,client_mutation_id:b("uuid")(),comment:a.encodedValue,payee_id:e,platform:"FB",spending_units:d,matching_units:f,video_id:this.props.commentsTargetID,wallet_promotion_id:g,wallet_type:"FB_STARS"}})),null,function(a){this.setState({isSendingMessage:!1,showFailedMessageDialog:!0})}.bind(this)),i.appendActionWithTag("FLEXIBLE_STARS_WWW_FUNNEL","sent_stars",d),i.endFunnel("FLEXIBLE_STARS_WWW_FUNNEL")}.bind(this),"UFIAddComment.react")};H.prototype.$44=function(a){__p&&__p();this.$40();this.$28("begin message send");this.setState({isSendingMessage:!0});var c=b("Bootloader").loadModules(["FantaTabActions","MercurySourceType","XMessengerPivotsController","UFICommentPivotFailedDialog.react"],function(d,e,f,c){__p&&__p();e=f.getURIBuilder().setString("comment_body",a).setFBID("ft_ent_identifier",this.props.contextArgs.ftentidentifier).getURI();new(b("AsyncRequest"))(e).setHandler(function(c){var e=[{startIndex:0,changeCount:a.length,changeValue:""}];this.refs.mentionsinput.replaceText("",e);this.setState({showMessengerPivot:!1,isSendingMessage:!1});e=c.payload;e.id&&(e.isGroup?d.openTab(b("MercuryIDs").getThreadIDFromThreadFBID(e.id.toString())):d.openTab(b("MercuryIDs").getThreadIDFromUserID(e.id.toString())));this.$28("send succeeded");this.$41()}.bind(this)).setErrorHandler(function(a){this.setState({isSendingMessage:!1,showFailedMessageDialog:!0}),this.$28("send failed")}.bind(this)).send()}.bind(this),"UFIAddComment.react");this.$7.addSubscriptions(c);this.refs.mentionsinput.focus();return!1};H.prototype.$43=function(){return this.state.videoStatus===y.UPLOAD||this.state.videoStatus===y.ENCODE&&this.state.videoProgress!==100};H.prototype.$35=function(){this.$6&&this.$6.forEach(function(a){a.unsubscribe()})};H.prototype.UNSAFE_componentWillMount=function(){__p&&__p();this.$5=!1,this.$9=b("LitestandStoryInsertionStatus").registerBlocker(function(){return this.state.isCommenting}.bind(this)),this.$7&&this.$7.release(),this.$7=new(b("SubscriptionsHandler"))(),this.$7.addSubscriptions(b("UFICommercialBreakStore").addListener(function(){this.setState({inCommercialBreak:b("UFICommercialBreakStore").getValueFor(this.props.contextArgs.instanceid)})}.bind(this)),b("UFIPlayLiveVODHighlightsStore").addListener(function(){this.setState({isPlayingLiveVODHighlights:b("UFIPlayLiveVODHighlightsStore").getValueFor(this.props.contextArgs.instanceid)})}.bind(this)),b("ConstituentBadgeEventEmitter").addListener("ConstituentBadgeV2OptInModal",function(a){if(!a){this.setState({showConstituentBadgeV2OptIn:!1});return}this.setState({constituentBannerState:a.turn_off?null:this.props.constituentBanner,showConstituentBadgeV2OptIn:!1})}.bind(this))),this.props.allowLiveVideoCommentReplyMode&&(this.props.contextArgs.islivestreaming||this.props.contextArgs.isLiveVOD)&&this.$7.addSubscriptions(b("UFIThreadedFacecastCommentsStore").addListener(function(){var a=this.state.currentThreadedFacecastCommentID,c=b("UFIThreadedFacecastCommentsStore").getCommentID(this.props.contextArgs.instanceid);this.setState({currentThreadedFacecastCommentID:c});c!==a&&this.focus()}.bind(this))),this.$8=null,b("UFIConfig").canPublishLive&&this.$7.addSubscriptions(b("UFIComposerIsTypingStore").addListener(function(){var a=b("UFIComposerIsTypingStore").getValueFor(this.props.contextArgs.ftentidentifier);if(a===null)return;b("Bootloader").loadModules(["UFIAddCommentLiveTypingController"],function(b){this.$8||(this.$8=new b(this.props.contextArgs.ftentidentifier,this.$22(),this.props.viewerActorID)),a?this.$8.attemptPublishStartEvent():this.$8.attemptPublishStopEvent()}.bind(this),"UFIAddComment.react")}.bind(this))),this.props.allowTogglePrivateComments&&(b("PrivateCommentsConfig").composer_lock_enabled||b("PrivateCommentsConfig").composer_unlocked_lock_enabled)&&this.$7.addSubscriptions(b("UFIComposerIsTypingStore").addListener(function(){var a=this.props.contextArgs.ftentidentifier;b("UFIComposerIsTypingStore").getValueFor(a)&&n.logViewerInteracted(a)}.bind(this)))};H.prototype.$48=function(){this.$8&&this.$8.destroy(),this.$8=null};H.prototype.UNSAFE_componentWillReceiveProps=function(a){var b=this.props.contextArgs.ftentidentifier,c=a.contextArgs.ftentidentifier;(c!==b||this.props.replyCommentID!==a.replyCommentID||this.props.viewerActorID!==a.viewerActorID)&&this.$48()};H.prototype.componentWillUnmount=function(){b("Bootloader").loadModules(["TextDelightInComposerLogger"],function(a){a.endFunnel(this.$22()||this.props.contextArgs.ftentidentifier)}.bind(this),"UFIAddComment.react"),this.$1=!1,this.$35(),this.$11&&b("Arbiter").unsubscribe(this.$11),this.$10&&b("Arbiter").unsubscribe(this.$10),this.$12&&b("Arbiter").unsubscribe(this.$12),this.$13&&b("Arbiter").unsubscribe(this.$13),this.$14&&b("Arbiter").unsubscribe(this.$14),this.$15&&b("Arbiter").unsubscribe(this.$15),this.$9&&this.$9.unsubscribe(),this.$9=null,this.$7&&this.$7.release(),this.$48()};H.prototype.$50=function(){if(!this.state.customStickerNUXShown)this.props.allowCustomStickerAttachments&&(this.refs.groupedInputButton||this.refs.sticker_button)&&b("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(a,b){a.hasUserSeenMessage(b.GAMES_STREAM_CUSTOM_STICKER)||(this.setState({customStickerNUXShown:!0}),a.markMessageSeenByUser(b.GAMES_STREAM_CUSTOM_STICKER))}.bind(this),"UFIAddComment.react");else{var a=this.refs.sticker_button?this.refs.sticker_button:this.refs.groupedInputButton;return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return a},shown:this.state.customStickerNUXShown,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$51},h._("New! Send a custom sticker"))}return null};H.prototype.$52=function(){return this.state.gifsInCommentsNUXVisible&&this.refs.gif_button?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.gif_button}.bind(this),shown:this.state.gifsInCommentsNUXVisible,position:"above",width:"auto",alignment:"right"},h._("You can now add GIFs to comments")):null};H.prototype.$53=function(){return this.state.markdownNUXVisible?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.markdownButton}.bind(this),shown:this.state.markdownNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$54},h._("[FB-Only] Markdown in Comments! Click to enable.")):null};H.prototype.$55=function(){return this.state.groupedInputNUXShown?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.groupedInputButton}.bind(this),shown:this.state.groupedInputNUXShown,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$26},h._("Post stickers, emojis and GIFs")):null};H.prototype.$56=function(){return this.state.addCommentNUXShown?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FBAmbientPulseNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.mentionsinput}.bind(this),dialogShown:!1,position:"left",shown:this.state.addCommentNUXShown}):null};H.prototype.$57=function(){return this.state.privateCommentNUXVisible?b("React").createElement(b("BootloadedComponent.react"),{alignment:"right",bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return this.refs.privacy_icon}.bind(this),onCloseButtonClick:this.$58,position:"above",shown:this.state.privateCommentNUXVisible,width:"auto"},b("React").createElement(b("XUIText.react"),{display:"block",weight:"bold"},h._("Comment Privately")),b("React").createElement(b("XUIText.react"),{display:"block"},h._("Add a comment that only {user} will see",[h._param("user",this.props.privateCommentTarget)]))):null};H.prototype.render=function(){__p&&__p();var a=this.props.contextArgs.loggedOutLinkConfig,c=!0;a&&a.showAddComment&&(c=!1);a=(!this.props.contextArgs.collapseaddcomment||this.state.isCommenting)&&c&&!this.props.contextArgs.hideActorPhoto;var d=null;this.props.subtitle?d=b("React").createElement("span",{className:r},this.props.subtitle):!this.state.isFocused&&this.props.isEditing?d=b("React").createElement("span",{className:r},h._("{cancel}",[h._param("cancel",b("React").createElement(b("Link.react"),{onClick:function(){return this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs))}.bind(this)},h._("Cancel")))])):this.props.isEditing?d=b("React").createElement("span",{className:r},h._("Press Esc to {cancel}.",[h._param("cancel",b("React").createElement(b("Link.react"),{onMouseDown:function(){return this.context.dispatch(b("UFIAddCommentAction").cancel(this.props.contextArgs))}.bind(this)},h._("cancel")))])):this.props.peopleOutsideCommunityInCommentNotice&&this.state.isFocused?d=b("React").createElement("div",{className:"fcg fsm -cx-PRIVATE-padding__top-8"},b("React").createElement(b("Badge.react"),{key:"noncoworker",type:"work_non_coworker"}),b("React").createElement("span",{className:"-cx-PRIVATE-padding__left-4 -cx-PRIVATE-work__mcgcommenttip"},b("React").createElement(b("TextWithEntities.react"),{ranges:this.props.peopleOutsideCommunityInCommentNotice.ranges,text:this.props.peopleOutsideCommunityInCommentNotice.text}))):this.props.showSendOnEnterTip&&!this.props.contextArgs.isTahoeUFI&&!this.props.contextArgs.isActiveLivingRoom&&(d=b("React").createElement("span",{className:r},h._("Press Enter to post.")));var f=null,g=null,i=null,j=null,l=null,m=this.state.attachedPhoto||this.state.attachedSticker||this.state.attachedVideo||this.state.attachedFile||this.state.attachedGIF||this.state.attachedStars,n=null,o=null,t=null,u=null,v=null,w=b("cr:gk.merge_input_buttons_comment_kill_switch_1oXrXOnjpB3")?b("React").createElement(b("cr:gk.merge_input_buttons_comment_kill_switch_1oXrXOnjpB3"),{ref:"groupedInputButton",allowCustomStickers:!!this.props.allowCustomStickerAttachments,allowGifAttachments:!!this.props.allowGifAttachments,allowStickerAttachments:!!this.props.allowStickerAttachments,customStickerOwnerID:this.props.targetID,flyoutShown:this.state.flyoutShown,onEmojiSelect:this.$60,onEmoticonSelect:this.$61,onGifSelect:this.$62,onLinkClick:this.$63,onStickerSelect:this.$64,toggleFlyout:this.$65}):null,x=b("cr:gk.merge_input_buttons_comment_kill_switch_1oXrXOnjpB3")?null:b("React").createElement(b("EmojiInputButton.react"),{buttonClassName:"-cx-PRIVATE-UFIAddComment__attachmentbutton UFICommentEmojiButton",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"UFICommentEmojiIcon",onClick:function(){return this.markViewerHasInteracted()}.bind(this),onSelect:function(a){this.refs.mentionsinput.insertEmoji(a)}.bind(this)});this.props.allowCommentMarkdown&&(j=b("React").createElement(b("UFIMarkdownButton.react"),{active:this.state.commentMarkdownEnabled,ref:"markdownButton",onClick:function(){var a=!this.state.commentMarkdownEnabled;this.setState({commentMarkdownEnabled:a});this.refs.mentionsinput&&a&&this.$23(this.refs.mentionsinput.getText())}.bind(this)}));!b("cr:gk.merge_input_buttons_comment_kill_switch_1oXrXOnjpB3")&&this.props.allowStickerAttachments&&!m&&(g=b("React").createElement(b("UFIStickerButton.react"),{ref:"sticker_button",allowCustomStickers:this.props.allowCustomStickerAttachments,customStickerOwnerID:this.props.targetID,onStickerSelected:this.onStickerSelected,onEmoticonSelected:this.$66,onLinkClick:this.$67,onStickerFlyoutShow:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:!0}),this.markViewerHasInteracted()}.bind(this)}));!b("cr:gk.merge_input_buttons_comment_kill_switch_1oXrXOnjpB3")&&this.props.allowGifAttachments&&!m&&(i=b("React").createElement(b("UFIGifButton.react"),{ref:"gif_button",onGifSelected:this.onGifSelected,onGifFlyoutShow:function(){return this.markViewerHasInteracted()}.bind(this),defaultGifSelection:this.props.contextArgs.defaultGifQuery}));this.props.showAddMentionButton&&(l=b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("span",null)},b("React").createElement(D,{ftentidentifier:this.props.contextArgs.ftentidentifier,onMentionClicked:function(a){return this.insertMention(a)}.bind(this),onMentionFlyoutShow:function(){return this.markViewerHasInteracted()}.bind(this)})));var z=this.props.viewerActorID!==b("CurrentUser").getAccountID();if(this.props.allowNativeTipJar&&this.props.tipJarModule&&!this.props.allowFlexibleTipping&&!z){var A=this.props.tipJarModule;t=b("React").createElement(A,{showNux:!this.state.customStickerNUXShown,targetID:this.props.targetID,targetName:this.props.targetName,videoID:this.props.commentsTargetID})}if(this.props.allowFlexibleTipping&&this.props.flexibleStarsModule&&(!m||this.state.attachedStars)&&!z){A=this.props.flexibleStarsModule;u=b("React").createElement(A,{canShowNux:!this.state.customStickerNUXShown,onStarsSelected:this.onStarsSelected,targetID:this.props.targetID,targetName:this.props.targetName,videoID:this.props.commentsTargetID})}this.props.allowCommentFixSuggestions&&(v=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIFixSuggestionsButton.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),active:this.state.commentSuggestionsShowing,badged:this.state.hasPotentialSuggestions,ref:"fixSuggestionsButton",onClick:function(){var a=!this.state.commentSuggestionsShowing;this.setState({commentSuggestionsShowing:a});a&&(this.$18=this.refs.mentionsinput.getText(),this.setState({hasPotentialSuggestions:!1,hasStaleSuggestions:!1,isInitialSuggestionCheck:!0}));new(b("WritingAssistanceTypedLogger"))().setAction("icon_clicked").setValue(a?"show":"hide").log()}.bind(this)}));(this.props.allowPhotoAttachments||this.props.allowVideoAttachments||this.props.allowFileAttachments)&&(n=this.$33,f=b("React").createElement(b("UFIAttachMediaSection.react"),{ref:"media_section",getPhotoUploadData:this.$34,getFileUploadData:this.$68,prepareForAttachedPhotoPreview:this.$36,prepareForAttachedVideoPreview:this.$69,prepareForAttachedFilePreview:this.$70,allowVideoAttachments:this.props.allowVideoAttachments,allowFileAttachments:this.props.allowFileAttachments,onPhotoUploadComplete:this.$38,onFileUploadComplete:this.$71,onVideoUploadComplete:this.$72,onVideoEncodeUpdate:this.$73,onVideoUploadUpdate:this.$74,setFileInput:this.$59,targetId:this.props.targetID,onClick:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:!0}),this.markViewerHasInteracted()}.bind(this),attachment:m,viewerActorID:this.props.viewerActorID}));z=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ADD_COMMENT_BOX);A="addComment_"+this.props.contextArgs.ftentidentifier;this.$22()?m=this.props.contextArgs.replyPlaceholderText||q:this.props.contextArgs.placeholderText?m=this.props.contextArgs.placeholderText:this.props.contextArgs.isActiveLivingRoom?m=s:m=p;var C=this.props.contextArgs.viewoptionstypeobjects,E=this.props.contextArgs.viewoptionstypeobjectsorder;this.props.attachedPhoto&&!this.props.subtitle&&(d=null);var F;(this.state.attachedPhoto||this.state.isLoadingPhoto||this.state.attachedVideo||this.state.videoStatus===y.UPLOAD||this.state.attachedFile||this.state.isLoadingFile||this.state.attachedSticker||this.state.attachedGIF||this.state.attachedStars)&&(F=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIAttachedMediaPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),attachedPhoto:this.state.attachedPhoto,attachedVideo:this.state.attachedVideo,attachedFile:this.state.attachedFile,attachedSticker:this.state.attachedSticker,attachedGIF:this.state.attachedGIF,attachedStars:this.state.attachedStars,monitorHeight:this.props.contextArgs.monitorHeight,onRemoveAttachedMediaPreviewClicked:this.$37,onRemoveAttachedStarsPreview:this.$75,onRemoveAttachedStickerPreview:this.$76,subtitle:this.props.subtitle,isLoadingPhoto:this.state.isLoadingPhoto,isLoadingFile:this.state.isLoadingFile,videoFileURL:this.state.videoFileURL,videoStatus:this.state.videoStatus,videoTrimParams:this.state.videoTrimParams,videoProgress:this.state.videoProgress,isVideoFileTranscodedGIF:this.state.isVideoFileTranscodedGIF}));var G=this.props.contextArgs.mentionsinput,H=null,I=null,J=null;G&&(H=G.inputComponent,I=G.viewComponent,J=G.viewProps);G=this.props.editingComment.body;G=G?b("MentionsInputUtils").generateDataFromTextWithEntities(G):null;var K=null;this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled&&(K=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMarkdownPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),markup:this.state.commentMarkdownPreviewContent}));var L=null;this.props.allowCommentFixSuggestions&&this.state.commentSuggestionsShowing&&(L=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIFixSuggestionsDetails.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),hasStaleSuggestions:this.state.hasStaleSuggestions,isInitialCheck:this.state.isInitialSuggestionCheck,onAccept:function(a,c){if(a){var d=this.refs.mentionsinput;d.replaceText(a,c)}this.setState({commentSuggestionsShowing:!1});new(b("WritingAssistanceTypedLogger"))().setAction("action_clicked").setValue("accept").log()}.bind(this),onCancel:function(){this.setState({commentSuggestionsShowing:!1}),new(b("WritingAssistanceTypedLogger"))().setAction("action_clicked").setValue("ignore").log()}.bind(this),onRefresh:function(){this.$18=this.refs.mentionsinput.getText(),this.setState({hasPotentialSuggestions:!1,hasStaleSuggestions:!1,isInitialSuggestionCheck:!1}),new(b("WritingAssistanceTypedLogger"))().setAction("action_clicked").setValue("refresh").log()}.bind(this),userText:this.$18}));H=H?b("React").createElement(H,{disableInitTextarea:!c,replyCommentID:this.$22(),initialData:G,placeholder:m,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:I,viewProps:J,viewOptionsTypeObjects:C,viewOptionsTypeObjectsOrder:E,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this.$42,onDummyFocus:this.$49,onFocus:this.focus,onBlur:this.$32,onContentChange:this.$21,onPaste:n,ftEntIdentifier:this.props.contextArgs.ftentidentifier,instanceID:this.props.contextArgs.instanceid,isBroadcasterUFI:this.props.contextArgs.isBroadcasterUFI,isTahoeUFI:this.props.contextArgs.isTahoeUFI,isLivingRoom:this.props.contextArgs.isActiveLivingRoom,isStreamerHub:this.props.contextArgs.isStreamerHub,showMessengerPivot:this.state.showMessengerPivot&&!this.state.hasAttachment,updateMentionsData:this.$77}):null;c=this.state.showMessengerPivot&&!this.state.hasAttachment?b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",{className:"-cx-PUBLIC-UFICommentPivotBlock__placeholder"})},b("React").createElement(B,{contextArgs:this.props.contextArgs,isActive:this.state.shouldSendAsMessage,isSending:this.state.isSendingMessage,onClick:this.handleMessengerPivotClick})):null;G=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_composer_rounded_borders;m=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_glyphs;I=k&&this.props.allowBotMentions&&this.props.groupID?b("React").createElement(k,{groupID:this.props.groupID,onSelect:function(a){return this.insertMention(a)}.bind(this)}):null;J=this.state.selectedInsightPoint&&b("React").createElement(b("UFIInsightsSharingCommentTag.react"),{showMiddot:!1,formattedValue:this.state.selectedInsightPoint.formattedValue});C=b("React").createElement("div",{className:"UFICommentContainer"},b("React").createElement("div",{className:"-cx-PRIVATE-UFIComposer__root"+(G?" -cx-PRIVATE-UFIComposer__roundedcommentcomposer":"")+" UFIInputContainer"+(b("PrivateCommentsConfig").dark_composer_theme_enabled&&this.state.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?" UFIPrivateCommentDarkTheme":"")},J,c,H,b("React").createElement("div",{className:"-cx-PRIVATE-UFIComposer__attachmentbuttons"+(this.state.showMessengerPivot&&!this.state.hasAttachment?" -cx-PUBLIC-UFIComposer__hasmessengerpivot":"")+" UFICommentAttachmentButtons -cx-PUBLIC-UFIComposer__hasfacelifticons"+(m?" -cx-PRIVATE-UFIComposer__hassutroicons":"")+(m?" -cx-PUBLIC-UFIComposer__hassutroicons":"")},m?this.$78():null,v,I,l,x,j,f,i,g,w,o,t,u)),K,L,F,d);var M={};if(a){var N=this.props.contextArgs.livingRoomID;this.props.contextArgs.isLivingRoom==!0&&N!=null&&b("Bootloader").loadModules(["LivingRoomActions","LivingRoomLoggerAction","LivingRoomStoreInitializer","LivingRoomTypedLogger","UFICentralUpdates"],function(a,c,d,e,f){f.subscribe("actor-changed",function(c,e){a.clearAddVideoDialogTab(N),a.updatePresentUsers(N,b("immutable").List(),0),a.close(N),d.initialize(null,N,e.actorID)}),M.onActorChange=function(a,b){new e().setLivingRoomID(N).setLivingRoomAction(c.VOICE_SELECTOR_ACTOR_CHANGE).updateExtraData({oldActorID:a,newActorID:b}).log()}},"UFIAddComment.react");C=b("React").createElement(b("UFIImageBlock.react"),{className:"UFIMentionsInputWrap"+(this.props.allowStickerAttachments?" UFIStickersEnabledInput":"")+(this.props.allowCommentMarkdown?" UFIMarkdownEnabledInput":"")+(this.props.allowGifAttachments?" UFIGifEnabledInput":"")+(this.props.allowNativeTipJar?" UFITipJarEnabledInput":"")+(this.props.allowFlexibleTipping?" UFIFlexibleStarsEnabledInput":"")},b("React").createElement("div",{className:"UFIReplyActorPhotoWrapper"+(this.state.showMessengerPivot&&!this.state.hasAttachment?" -cx-PUBLIC-UFISutroComment__hasmessengerpivot":""),onClick:this.focus,role:"presentation"},b("React").createElement(b("UFIActorIconContainer.react"),babelHelpers["extends"]({},M,{actorID:this.props.viewerActorID,actorSelectorConfig:this.props.contextArgs.actorSelectorConfig,isLivingRoom:this.props.contextArgs.isLivingRoom,overlayActorSelectorOnUFIPhoto:this.props.contextArgs.overlayActorSelectorOnUFIPhoto}))),C)}E=b("React").createElement("div",{ref:function(a){return this.rootNode=a}.bind(this),id:A,className:b("joinClasses")("UFIRow -cx-PUBLIC-UFIComment__uficomponent UFIAddComment"+(this.props.allowPhotoAttachments?" UFIAddCommentWithPhotoAttacher":"")+(this.props.withoutSeparator?" UFIAddCommentWithoutSeparator":"")+(this.props.isFirstComponent?" -cx-PUBLIC-UFIComment__ufifirstcomponent":"")+(this.props.isLastComponent?" -cx-PUBLIC-UFIComment__ufilastcomponent":"")+(this.state.inCommercialBreak||this.state.isPlayingLiveVODHighlights?" hidden_elem":""),this.props.className),onKeyDown:this.$19,"data-ft":z},this.$79(),this.$80(),this.$81(),C,this.$52(),this.$53(),this.$55(),this.$50(),this.$56(),this.$82());n=b("ifRequired")("LiveVideoQuickComments.react",function(a){return a});G=this.props.contextArgs.liveVideoQuickCommentsConfig!=null&&n!=null?b("React").createElement(n,{contextArgs:this.props.contextArgs,videoID:this.props.contextArgs.liveVideoQuickCommentsConfig.videoID,modes:this.props.contextArgs.liveVideoQuickCommentsConfig.modes}):null;return G?b("React").createElement("div",null,G,E):E};H.prototype.componentDidUpdate=function(a,b){if(!b.attachedPhoto&&this.state.attachedPhoto||!b.attachedSticker&&this.state.attachedSticker||!b.attachedVideo&&this.state.attachedVideo||!b.attachedFile&&this.state.attachedFile||!b.attachedGIF&&this.state.attachedGIF||!b.attachedStars&&this.state.attachedStars||!b.isCommenting&&this.state.isCommenting){b=this.state.attachedPhoto||this.state.attachedVideo||this.state.attachedFile||this.state.attachedSticker||this.state.attachedGIF||this.state.attachedStars;this.setState({hasAttachment:!!b});this.refs.mentionsinput.focus()}a.viewerActorID!==this.props.viewerActorID&&(this.state.fileInput&&this.state.fileInput.clear(),this.state.fileUploader&&this.state.fileUploader.setData(this.$34()),this.$37())};H.prototype.componentDidMount=function(){__p&&__p();this.$1=!0;if(this.props.contextArgs.source===b("FeedbackSourceType").NEWS_FEED){var a=this.props.replyCommentID!=null;a?b("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount",b("UFIVersion").LEGACY):b("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount",b("UFIVersion").LEGACY)}this.$23=b("throttle")(this.$23,w,this);this.$12=b("Arbiter").subscribe("UFIComment/insertComposerPayload/"+this.props.contextArgs.ftentidentifier,function(a,b){if(!b||b.instanceid!==void 0&&b.instanceid!==this.props.contextArgs.instanceid||!this.props.isTopLevelComposer)return;this.focus();b.mention!==void 0&&this.insertMention(b.mention);b.emojitext!==void 0&&this.insertEmojiText(b.emojitext);b.stickerid!==void 0&&this.$83(b.stickerid)}.bind(this));this.$13=b("Arbiter").subscribe("UFIComment/"+this.props.contextArgs.ftentidentifier+"/selectGif",function(a,b){if(!b||this.$22())return;this.focus();this.$84({attachedGIF:b.gif});this.preprocessGIF(b.gif)}.bind(this));this.$14=b("Arbiter").subscribe("InsightsComments/"+this.props.contextArgs.ftentidentifier+"/selectedInsightsPoint/",function(a,c){if(!c)return;this.setState({selectedInsightPoint:c.selectedInsightPoint});a=b("ReactDOM").findDOMNode(this.refs.mentionsinput);a!==null&&c.selectedInsightPoint&&a instanceof Element&&b("DOMScroll").ensureVisible(a,null,null,null,function(){window.setTimeout(function(){return this.refs.mentionsinput.focus()}.bind(this))}.bind(this))}.bind(this));if(!this.props.allowPhotoAttachments&&!this.props.allowVideoAttachments&&!this.props.allowFileAttachments)return;this.$15=b("Arbiter").subscribe("UFIComment/"+this.props.contextArgs.ftentidentifier+"/attachCreatedGif",function(a,b){if(!b||this.$22())return;this.focus();this.setState({videoProgress:100,attachedVideo:{fbid:b.videoID},videoStatus:y.ENCODE,videoTrimParams:b.trimParams})}.bind(this));this.$22()===null&&(this.$10=b("Arbiter").subscribe("focusCommentField"+this.props.contextArgs.ftentidentifier,function(a){this.refs.mentionsinput.focus()}.bind(this)),this.props.contextArgs.issnowlift&&(this.$11=b("Arbiter").subscribe("newRemixedImage"+this.props.contextArgs.ftentidentifier,function(a,b){a={clipboardData:{items:[b]}};this.$33(a)}.bind(this))))};H.prototype.$80=function(){return this.state.constituentBannerState&&!this.$22()?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentingAsConstituentHeader.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),uri:this.props.constituentBanner}):null};H.prototype.$79=function(){var a=this.props,c=a.contextArgs;a=a.isTopLevelComposer;var d=c.conversationGuideParams;d=d?d.trackingID:null;return a&&b("cr:qe.bool.conversation_guide_tests_www:should_display_combined_suggestions_bmfOHrQOxOK")?b("React").createElement(b("cr:qe.bool.conversation_guide_tests_www:should_display_combined_suggestions_bmfOHrQOxOK"),{position:"above",trackingID:d,contextArgs:c,ufiContextDispatch:this.context.dispatch,isComposerFocused:this.state.isFocused}):null};H.prototype.$78=function(){var a=this.props.isEditing&&this.props.editingComment.privacy_value===b("CommentPrivacyValue").OWNER_OR_COMMENTER,c=this.$22()&&this.props.replyCommentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER,d=!a&&!c&&this.props.allowTogglePrivateComments;if(!a&&!c&&!this.props.allowTogglePrivateComments||!(d?b("PrivateCommentsConfig").composer_lock_enabled||b("PrivateCommentsConfig").composer_unlocked_lock_enabled:b("PrivateCommentsConfig").reply_composer_lock_enabled))return null;d?(b("Bootloader").loadModules(["PrivateCommentsLogger"],function(a){return a.startFunnel(this.props.contextArgs.ftentidentifier)}.bind(this),"UFIAddComment.react"),a=h._("Toggle Privacy")):c?a=h._("Only you and {user} will be able to see your reply",[h._param("user",this.props.privateCommentTarget)]):a=h._("Only you and {user} can see this",[h._param("user",this.props.privateCommentTarget)]);return b("React").createElement(b("Link.react"),{"aria-label":a,className:"-cx-PRIVATE-UFIAddComment__attachmentbutton UFICommentPrivacyButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":a,onClick:function(){this.markViewerHasInteracted(),d&&(n.logToggle(this.state.commentPrivacy===b("CommentPrivacyValue").DEFAULT_PRIVACY,this.props.contextArgs.ftentidentifier),this.setState(function(a){return{commentPrivacy:a.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?b("CommentPrivacyValue").DEFAULT_PRIVACY:b("CommentPrivacyValue").OWNER_OR_COMMENTER}}))}.bind(this),role:"button"},b("React").createElement("div",{ref:"privacy_icon",className:"UFICommentPrivacyIcon"+(b("PrivateCommentsConfig").composer_unlocked_lock_enabled?" UFICommentPrivacyIconVariant":"")+(!d||this.state.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?" UFICommentPrivacyIconActive":"")}),d?this.$57():null)};H.prototype.$81=function(){return this.props.isEditing||this.state.commentPrivacy!==b("CommentPrivacyValue").OWNER_OR_COMMENTER||!b("PrivateCommentsConfig").privacy_text_above_composer_enabled?null:this.$22()?b("React").createElement("div",{className:"-cx-PRIVATE-UFIAddComment__privatecommentheader"},h._("Replying privately to {=[user]}",[h._param("=[user]",b("React").createElement("strong",null,h._("{user}",[h._param("user",this.props.privateCommentTarget)])))])):b("React").createElement("div",{className:"-cx-PRIVATE-UFIAddComment__privatecommentheader"},h._("Only you and {=[user]} can see this",[h._param("=[user]",b("React").createElement("strong",null,h._("{user}",[h._param("user",this.props.privateCommentTarget)])))]))};H.prototype.$82=function(){return this.state.showFailedMessageDialog?b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(C,{contextArgs:this.props.contextArgs,onHide:function(){this.setState({showFailedMessageDialog:!1}),this.refs.mentionsinput.focus()}.bind(this),showFailedDialog:this.state.showFailedMessageDialog})):null};H.prototype.insertMention=function(a){this.refs.mentionsinput&&this.refs.mentionsinput.insertMention&&(this.refs.mentionsinput.insertMention(a),window.setTimeout(function(){return this.refs.mentionsinput.focus()}.bind(this)))};H.prototype.insertEmojiText=function(a){this.refs.mentionsinput.getText().trim()===""?this.refs.mentionsinput.insertEmoticon(a.trim()+" "):this.refs.mentionsinput.insertEmoticon(a)};H.prototype.$85=function(a){return a==="finish"};H.prototype.$86=function(){this.state.fileInput&&this.state.fileInput.clear()};H.prototype.$84=function(a){if(!b("CurrentUser").isWorkUser())this.setState(a);else{var c={attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,attachedSticker:null,attachedStars:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:!1,videoProgress:0,isVideoFileTranscodedGIF:!1,hasAttachment:!1};this.setState(babelHelpers["extends"]({},c,a))}};H.prototype.$83=function(a){this.setState({attachedSticker:null,isLoadingPhoto:!0}),new(b("AsyncRequest"))(v).setData({sticker_id:a}).setErrorHandler(this.$76).setHandler(this.$87).send()};H.prototype.sendSticker=function(a,c){a={encodedValue:"",visibleValue:"",attachedPhoto:null,attachedSticker:{fbid:a},privacy_value:this.state.commentPrivacy};this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,c.target,this.$22()))};H.prototype.isPromotionMatchingEnabled=function(a){return a!=null&&a.isEnabled&&a.type==="SPEND_MATCH"};H.prototype.getMatchingStarTippedValue=function(a,b){return b!=null&&this.isPromotionMatchingEnabled(b)?Math.min(b.maxQuantity,a):0};H.prototype.$88=function(){this.setState({gifsInCommentsNUXVisible:!1})};H.prototype.$47=function(){this.setState({addCommentNUXShown:!1})};H.prototype.preprocessGIF=function(a){var c=b("XUFICommentGIFPreprocessController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setData({gif_url:a.source.url}).send()};H.prototype.sendGIF=function(a){a={encodedValue:"",visibleValue:"",attachedShareURL:a.source.url,privacy_value:this.state.commentPrivacy};this.rootNode&&this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,this.rootNode,this.$22()))};H.prototype.parseTextForMentions=function(a){var b=[],c;while(c=A.exec(a)){c={uid:c[1],text:c[2],offset:c.index,length:c[2].length,weakreference:!1,entity:{uid:c[1],weakreference:!1}};b.push(c);A.lastIndex=c.offset+c.length}return b};H.prototype.markViewerHasInteracted=function(){this.props.markViewerHasInteracted&&this.props.markViewerHasInteracted()};H.prototype.$22=function(){return this.props.replyCommentID||this.state.currentThreadedFacecastCommentID};H.contextTypes={dispatch:c.func};e.exports=H}),null);
__d("UFIAddCommentLink.react",["cx","fbt","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=b("joinClasses")("UFIRow UFIAddCommentLink"+(this.props.isFirstCommentComponent?" -cx-PUBLIC-UFIComment__ufifirstcommentcomponent":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(this.props.isFirstComponent?" -cx-PUBLIC-UFIComment__ufifirstcomponent":"")+(this.props.isLastComponent?" -cx-PUBLIC-UFIComment__ufilastcomponent":"")),c=h._("Write a comment...");return b("React").createElement("div",{className:a,"data-ft":this.props["data-ft"]},b("React").createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},c))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("UFIAddReactionButton.react",["ix","cx","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"-cx-PRIVATE-UFIAddReactionButton__root"},b("React").createElement("span",{className:"-cx-PRIVATE-UFIAddReactionButton__plus"},"+"),b("React").createElement(b("Image.react"),{src:g("LmsFxt55q70_images/assets_DO_NOT_HARDCODE/facebook_icons/like_filled_12_fds-gray-25.png")}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("UFIBlingItem.react",["cx","fbt","NumberFormat","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=b("NumberFormat").formatInteger(this.props.count);a=a;switch(this.props.itemKey){case"like":a=h._({"Like":"{count} Like","Likes":"{count} Likes"},[h._param("count",this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:a),h._enum(this.props.count===1?"Like":"Likes",{Like:"Like",Likes:"Likes"})]);break;case"comment":a=h._({"Comment":"{count} Comment","Comments":"{count} Comments"},[h._param("count",this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:a),h._enum(this.props.count===1?"Comment":"Comments",{Comment:"Comment",Comments:"Comments"})]);break;case"reaction":a=h._({"Reaction":"{count} Reaction","Reactions":"{count} Reactions"},[h._param("count",this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:a),h._enum(this.props.count===1?"Reaction":"Reactions",{Reaction:"Reaction",Reactions:"Reactions"})]);break;case"reshare":a=h._({"Share":"{count} Share","Shares":"{count} Shares"},[h._param("count",this.props.countreduced&&isNaN(this.props.countreduced)?this.props.countreduced:a),h._enum(this.props.count===1?"Share":"Shares",{Share:"Share",Shares:"Shares"})]);break}return b("React").createElement("span",{className:"-cx-PRIVATE-UFI__blingitem"},a)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("UFIBlingBox.react",["cx","fbt","NumberFormat","React","UFIBlingItem.react","UFIReactionTypes"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=[],c="",d=this.props,e=d.likes,f=d.likesreduced,g=d.reactionCount,i=d.reactionCountMap;d=d.reactionCountReduced;if(e||g){i=i&&i[b("UFIReactionTypes").LIKE]["default"]!==g;a.push(b("React").createElement(b("UFIBlingItem.react"),{className:a.length>0?"mls":"",count:i?g||0:e,countreduced:i?d||"":f,itemKey:i?"reaction":"like",key:"like"}));c+=this.props.likes==1?h._("1 like"):h._({"*":"{count} likes"},[h._param("count",this.props.likes,[0])]);c+=" "}if(this.props.comments){g=this.props.commentsreduced;this.props.contextArgs.islivestreaming&&(g=b("NumberFormat").formatInteger(this.props.comments));a.push(b("React").createElement(b("UFIBlingItem.react"),{className:a.length>0?"mls":"",contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:g,itemKey:"comment",key:"comment"}));c+=this.props.comments==1?h._("1 comment"):h._({"*":"{count} comments"},[h._param("count",this.props.comments,[0])]);c+=" "}this.props.reshares&&(a.push(b("React").createElement(b("UFIBlingItem.react"),{className:a.length>0?"mls":"",count:this.props.reshares,countreduced:this.props.resharesreduced,itemKey:"reshare",key:"reshare"})),c+=this.props.reshares==1?h._("1 share"):h._({"*":"{count} shares"},[h._param("count",this.props.reshares,[0])]));if(this.props.readOnly)return b("React").createElement("span",{"aria-label":c},a);else{e=this.props.contextArgs.commentajaxify;return b("React").createElement("a",{ajaxify:e,href:this.props.permalink,"data-ft":this.props["data-ft"],"data-comment-prelude-ref":this.props["data-comment-prelude-ref"],"aria-label":c,onClick:this.props.onClick,rel:e?"dialog":"ignore"},a)}};function a(){i.apply(this,arguments)}a.propTypes={contextArgs:c.object.isRequired,"data-ft":c.string,"data-comment-prelude-ref":c.string,comments:c.number,commentsreduced:c.string,likes:c.number,likesreduced:c.string,nfb:c.number,onClick:c.func,permalink:c.string,reactionCount:c.number,reactionCountMap:c.object,reactionCountReduced:c.string,reshares:c.number,resharesreduced:c.string,readOnly:c.bool};e.exports=a}),null);
__d("Animation",["BrowserSupport","CSS","CSSFade","DataStore","DOM","Style","clearInterval","clearTimeout","getVendorPrefixedName","gkx","requestAnimationFrame","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f){__p&&__p();var g=b("requestAnimationFrame"),h=[],i,j=document.createElement("div").animate!==void 0;function k(b){if(a==this)return new k(b);else this.obj=b,this._reset_state(),this.queue=[],this.last_attr=null,this.unit="px",this.behaviorOverrides={ignoreUserScroll:!1}}function l(a){if(b("BrowserSupport").hasCSS3DTransforms())return o(a);else return n(a)}function m(a){return a.toFixed(8)}function n(a){a=[a[0],a[4],a[1],a[5],a[12],a[13]];return"matrix("+a.map(m).join(",")+")"}function o(a){return"matrix3d("+a.map(m).join(",")+")"}function p(a,b){__p&&__p();a||(a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);var c=[];for(var d=0;d<4;d++)for(var e=0;e<4;e++){var f=0;for(var g=0;g<4;g++)f+=a[d*4+g]*b[g*4+e];c[d*4+e]=f}return c}var q=0;k.prototype._reset_state=function(){this.state={attrs:{},duration:500}};k.prototype.stop=function(){this._reset_state();this.queue=[];return this};k.prototype._build_container=function(){__p&&__p();if(this.container_div){this._refresh_container();return}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return}var a=document.createElement("div");a.style.padding="0px";a.style.margin="0px";a.style.border="0px";a.__animation_refs=1;var b=this.obj.childNodes;while(b.length)a.appendChild(b[0]);this.obj.appendChild(a);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow="hidden";this.container_div=a;this._refresh_container()};k.prototype._refresh_container=function(){this.container_div.style.height="auto",this.container_div.style.width="auto",this.container_div.style.height=this.container_div.offsetHeight+this.unit,this.container_div.style.width=this.container_div.offsetWidth+this.unit};k.prototype._destroy_container=function(){__p&&__p();if(!this.container_div)return;if(!--this.container_div.__animation_refs){var a=this.container_div.childNodes;while(a.length)this.obj.appendChild(a[0]);this.obj.removeChild(this.container_div)}this.container_div=null;this.obj.style.overflow=this._orig_overflow};var r=1,s=2,t=3;k.prototype._attr=function(a,b,c){__p&&__p();a=a.replace(/-[a-z]/gi,function(a){return a.substring(1).toUpperCase()});var d=!1;switch(a){case"background":this._attr("backgroundColor",b,c);return this;case"backgroundColor":case"borderColor":case"color":b=x(b);break;case"opacity":b=parseFloat(b,10);break;case"height":case"width":b=="auto"?d=!0:b=parseInt(b,10);break;case"borderWidth":case"lineHeight":case"fontSize":case"margin":case"marginBottom":case"marginLeft":case"marginRight":case"marginTop":case"padding":case"paddingBottom":case"paddingLeft":case"paddingRight":case"paddingTop":case"bottom":case"left":case"right":case"top":case"scrollTop":case"scrollLeft":b=parseInt(b,10);break;case"rotateX":case"rotateY":case"rotateZ":b=parseInt(b,10)*Math.PI/180;break;case"translateX":case"translateY":case"translateZ":case"scaleX":case"scaleY":case"scaleZ":b=parseFloat(b,10);break;case"rotate3d":this._attr("rotateX",b[0],c);this._attr("rotateY",b[1],c);this._attr("rotateZ",b[2],c);return this;case"rotate":this._attr("rotateZ",b,c);return this;case"scale3d":this._attr("scaleZ",b[2],c);case"scale":this._attr("scaleX",b[0],c);this._attr("scaleY",b[1],c);return this;case"translate3d":this._attr("translateZ",b[2],c);case"translate":this._attr("translateX",b[0],c);this._attr("translateY",b[1],c);return this;default:throw new Error(a+" is not a supported attribute!")}this.state.attrs[a]===void 0&&(this.state.attrs[a]={});d&&(this.state.attrs[a].auto=!0);switch(c){case t:this.state.attrs[a].start=b;break;case s:this.state.attrs[a].by=!0;case r:this.state.attrs[a].value=b;break}};function u(a){var c=parseInt(b("Style").get(a,"paddingLeft"),10),d=parseInt(b("Style").get(a,"paddingRight"),10),e=parseInt(b("Style").get(a,"borderLeftWidth"),10),f=parseInt(b("Style").get(a,"borderRightWidth"),10);return a.offsetWidth-(c?c:0)-(d?d:0)-(e?e:0)-(f?f:0)}function v(a){var c=parseInt(b("Style").get(a,"paddingTop"),10),d=parseInt(b("Style").get(a,"paddingBottom"),10),e=parseInt(b("Style").get(a,"borderTopWidth"),10),f=parseInt(b("Style").get(a,"borderBottomWidth"),10);return a.offsetHeight-(c?c:0)-(d?d:0)-(e?e:0)-(f?f:0)}k.prototype.setUnit=function(a){this.unit=a;return this};k.prototype.to=function(a,b){b===void 0?this._attr(this.last_attr,a,r):(this._attr(a,b,r),this.last_attr=a);return this};k.prototype.by=function(a,b){b===void 0?this._attr(this.last_attr,a,s):(this._attr(a,b,s),this.last_attr=a);return this};k.prototype.from=function(a,b){b===void 0?this._attr(this.last_attr,a,t):(this._attr(a,b,t),this.last_attr=a);return this};k.prototype.duration=function(a){this.state.duration=a?a:0;return this};k.prototype.checkpoint=function(a,b){a===void 0&&(a=1);this.state.checkpoint=a;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=b;return this};k.prototype.blind=function(){this.state.blind=!0;return this};k.prototype.hide=function(){this.state.hide=!0;return this};k.prototype.show=function(){this.state.show=!0;return this};k.prototype.ease=function(a){this.state.ease=a;return this};k.prototype.getBasicOpacityAnimation=function(){__p&&__p();if(this.queue.length===0&&j&&b("gkx")("5fbS_JKtLOH:use_compositor_thread_for_opacity")){var a=Object.keys(this.state.attrs);if(a.length===1&&a[0]==="opacity"){a=this.state.attrs.opacity.start;var c=this.state.attrs.opacity.value;if(a===0&&c===1)return b("CSSFade").show;else if(a===1&&c===0)return b("CSSFade").hide}}return null};k.prototype.CSSAnimation=function(a){var b={duration:this.state.duration};this.state.ondone&&(b.callback=this.state.ondone);a(this.obj,b)};k.prototype.go=function(){__p&&__p();var a=this.getBasicOpacityAnimation();if(a)this.CSSAnimation(a);else{a=Date.now();this.queue.push(this.state);for(var b=0;b<this.queue.length;b++)this.queue[b].start=a-q,this.queue[b].checkpoint&&(a+=this.queue[b].checkpoint*this.queue[b].duration);y(this);return this}};k.prototype._show=function(){b("CSS").show(this.obj)};k.prototype._hide=function(){b("CSS").hide(this.obj)};k.prototype.overrideBehavior=function(a){this.behaviorOverrides=babelHelpers["extends"]({},this.behaviorOverrides,a);return this};k.prototype._frame=function(c){__p&&__p();var d=!0,e=!1,f;function g(a){return document.documentElement[a]||document.body[a]}function h(a,b){return a===document.body?g(b):a[b]}function i(a,b){return b.lastScrollTop!==void 0&&b.lastScrollTop!==h(a.obj,"scrollTop")||b.lastScrollLeft!==void 0&&b.lastScrollLeft!==h(a.obj,"scrollLeft")}function j(a,b){b.lastScrollTop=h(a.obj,"scrollTop"),b.lastScrollLeft=h(a.obj,"scrollLeft")}for(var k=0;k<this.queue.length;k++){var m=this.queue[k];if(m.start>c){d=!1;continue}m.checkpointcb&&(this._callback(m.checkpointcb,c-m.start),m.checkpointcb=null);if(m.started===void 0){m.show&&this._show();for(var n in m.attrs){if(m.attrs[n].start!==void 0)continue;switch(n){case"backgroundColor":case"borderColor":case"color":f=x(b("Style").get(this.obj,n=="borderColor"?"borderLeftColor":n));m.attrs[n].by&&(m.attrs[n].value[0]=Math.min(255,Math.max(0,m.attrs[n].value[0]+f[0])),m.attrs[n].value[1]=Math.min(255,Math.max(0,m.attrs[n].value[1]+f[1])),m.attrs[n].value[2]=Math.min(255,Math.max(0,m.attrs[n].value[2]+f[2])));break;case"opacity":f=b("Style").getOpacity(this.obj);m.attrs[n].by&&(m.attrs[n].value=Math.min(1,Math.max(0,m.attrs[n].value+f)));break;case"height":f=v(this.obj);m.attrs[n].by&&(m.attrs[n].value+=f);break;case"width":f=u(this.obj);m.attrs[n].by&&(m.attrs[n].value+=f);break;case"scrollLeft":case"scrollTop":f=h(this.obj,n);m.attrs[n].by&&(m.attrs[n].value+=f);j(this,m);break;case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":f=b("DataStore").get(this.obj,n,0);m.attrs[n].by&&(m.attrs[n].value+=f);break;case"scaleX":case"scaleY":case"scaleZ":f=b("DataStore").get(this.obj,n,1);m.attrs[n].by&&(m.attrs[n].value+=f);break;default:f=parseInt(b("Style").get(this.obj,n),10)||0;m.attrs[n].by&&(m.attrs[n].value+=f);break}m.attrs[n].start=f}if(m.attrs.height&&m.attrs.height.auto||m.attrs.width&&m.attrs.width.auto){this._destroy_container();for(var n in{height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})m.attrs[n]&&(this.obj.style[n]=m.attrs[n].value+(typeof m.attrs[n].value==="number"?this.unit:""));m.attrs.height&&m.attrs.height.auto&&(m.attrs.height.value=v(this.obj));m.attrs.width&&m.attrs.width.auto&&(m.attrs.width.value=u(this.obj))}m.started=!0;m.blind&&this._build_container()}var o=(c-m.start)/m.duration;o>=1?(o=1,m.hide&&this._hide()):d=!1;var q=m.ease?m.ease(o):o;!e&&o!=1&&m.blind&&(e=!0);for(var n in m.attrs)switch(n){case"backgroundColor":case"borderColor":case"color":m.attrs[n].start[3]!=m.attrs[n].value[3]?this.obj.style[n]="rgba("+w(q,m.attrs[n].start[0],m.attrs[n].value[0],!0)+","+w(q,m.attrs[n].start[1],m.attrs[n].value[1],!0)+","+w(q,m.attrs[n].start[2],m.attrs[n].value[2],!0)+","+w(q,m.attrs[n].start[3],m.attrs[n].value[3],!1)+")":this.obj.style[n]="rgb("+w(q,m.attrs[n].start[0],m.attrs[n].value[0],!0)+","+w(q,m.attrs[n].start[1],m.attrs[n].value[1],!0)+","+w(q,m.attrs[n].start[2],m.attrs[n].value[2],!0)+")";break;case"opacity":b("Style").set(this.obj,"opacity",w(q,m.attrs[n].start,m.attrs[n].value));break;case"height":case"width":this.obj.style[n]=q==1&&m.attrs[n].auto?"auto":w(q,m.attrs[n].start,m.attrs[n].value,!0)+this.unit;break;case"scrollLeft":case"scrollTop":var r=this.obj===document.body;if(!this.behaviorOverrides.ignoreUserScroll&&i(this,m))delete m.attrs.scrollTop,delete m.attrs.scrollLeft;else{var s=w(q,m.attrs[n].start,m.attrs[n].value,!0);!r?this.obj[n]=s:n=="scrollLeft"?a.scrollTo(s,g("scrollTop")):a.scrollTo(g("scrollLeft"),s);j(this,m)}break;case"translateX":case"translateY":case"translateZ":case"rotateX":case"rotateY":case"rotateZ":case"scaleX":case"scaleY":case"scaleZ":b("DataStore").set(this.obj,n,w(q,m.attrs[n].start,m.attrs[n].value,!1));break;default:this.obj.style[n]=w(q,m.attrs[n].start,m.attrs[n].value,!0)+this.unit;break}r=null;s=b("DataStore").get(this.obj,"translateX",0);q=b("DataStore").get(this.obj,"translateY",0);var t=b("DataStore").get(this.obj,"translateZ",0);(s||q||t)&&(r=p(r,[1,0,0,0,0,1,0,0,0,0,1,0,s,q,t,1]));s=b("DataStore").get(this.obj,"scaleX",1);q=b("DataStore").get(this.obj,"scaleY",1);t=b("DataStore").get(this.obj,"scaleZ",1);(s-1||q-1||t-1)&&(r=p(r,[s,0,0,0,0,q,0,0,0,0,t,0,0,0,0,1]));s=b("DataStore").get(this.obj,"rotateX",0);s&&(r=p(r,[1,0,0,0,0,Math.cos(s),Math.sin(-s),0,0,Math.sin(s),Math.cos(s),0,0,0,0,1]));q=b("DataStore").get(this.obj,"rotateY",0);q&&(r=p(r,[Math.cos(q),0,Math.sin(q),0,0,1,0,0,Math.sin(-q),0,Math.cos(q),0,0,0,0,1]));t=b("DataStore").get(this.obj,"rotateZ",0);t&&(r=p(r,[Math.cos(t),Math.sin(-t),0,0,Math.sin(t),Math.cos(t),0,0,0,0,1,0,0,0,0,1]));s=b("getVendorPrefixedName")("transform");if(s)if(r){q=l(r);b("Style").set(this.obj,s,q)}else d&&b("Style").set(this.obj,s,null);o==1&&(this.queue.splice(k--,1),this._callback(m.ondone,c-m.start-m.duration))}!e&&this.container_div&&this._destroy_container();return!d};k.prototype.ondone=function(a){this.state.ondone=a;return this};k.prototype._callback=function(a,b){a&&(q=b,a.call(this),q=0)};function w(a,b,c,d){return(d?parseInt:parseFloat)((c-b)*a+b,10)}function x(a){__p&&__p();var b=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(a);if(b)return[parseInt(b[1].length==1?b[1]+b[1]:b[1],16),parseInt(b[2].length==1?b[2]+b[2]:b[2],16),parseInt(b[3].length==1?b[3]+b[3]:b[3],16),1];else{b=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(a);if(b)return[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),b[4]?parseFloat(b[4]):1];else if(a=="transparent")return[255,255,255,0];else throw new Error("Named color attributes are not supported.")}}function y(a){h.push(a),h.length===1&&(g?g(A):i=b("setIntervalAcrossTransitions")(A,20)),g&&z(),A(Date.now(),!0)}function z(){__p&&__p();if(!g)throw new Error("Ending timer only valid with requestAnimationFrame");var a=0;for(var c=0;c<h.length;c++){var d=h[c];for(var e=0;e<d.queue.length;e++){var f=d.queue[e].start+d.queue[e].duration;f>a&&(a=f)}}i&&(b("clearTimeout")(i),i=null);f=Date.now();a>f&&(i=b("setTimeoutAcrossTransitions")(b("shield")(A),a-f))}function A(a,c){a=Date.now();for(var c=c===!0?h.length-1:0;c<h.length;c++)try{h[c]._frame(a)||h.splice(c--,1)}catch(a){h.splice(c--,1)}h.length===0?i&&(g?b("clearTimeout")(i):b("clearInterval")(i),i=null):g&&g(A)}k.ease={};k.ease.begin=function(a){return Math.sin(Math.PI/2*(a-1))+1};k.ease.end=function(a){return Math.sin(.5*Math.PI*a)};k.ease.both=function(a){return.5*Math.sin(Math.PI*(a-.5))+.5};k.prependInsert=function(a,c){k.insert(a,c,b("DOM").prependContent)};k.appendInsert=function(a,c){k.insert(a,c,b("DOM").appendContent)};k.insert=function(a,c,d){b("Style").set(c,"opacity",0),d(a,c),new k(c).from("opacity",0).to("opacity",1).duration(400).go()};e.exports=k}),null);
__d("XUIBlock",["cx","React"],(function(a,b,c,d,e,f,g){a=b("React").PropTypes;c={propTypes:{background:a.oneOf(["base-wash","light-wash","white","highlight","transparent"])},getDefaultProps:function(){return{background:"transparent"}},getBackgroundClass:function(a){a=(a.background==="base-wash"?"-cx-PRIVATE-xuiCommon__backgroundbasewash":"")+(a.background==="light-wash"?" -cx-PRIVATE-xuiCommon__backgroundlightwash":"")+(a.background==="white"?" -cx-PRIVATE-xuiCommon__backgroundwhite":"")+(a.background==="highlight"?" -cx-PRIVATE-xuiCommon__backgroundhighlight":"");return a}};e.exports=c}),null);
__d("XUICard.react",["cx","React","XUIBlock","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props;a.background;var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["background","children","className"]);d=b("joinClasses")(d,"-cx-PRIVATE-xuiCard__root",b("XUIBlock").getBackgroundClass(this.props));return b("React").createElement("div",babelHelpers["extends"]({},a,{className:d}),c)};function a(){"use strict";h.apply(this,arguments)}a.propTypes=b("XUIBlock").propTypes;a.defaultProps=babelHelpers["extends"]({},b("XUIBlock").getDefaultProps(),{background:"white"});e.exports=a}),null);
__d("AbstractDialog.react",["DialogX","LayerHideOnBlur","LayerHideOnEscape","React","ReactDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=b("React").PropTypes;a={createSpec:function(a){__p&&__p();return{displayName:a.displayName,propTypes:{behaviors:g.object,className:g.string,"data-testid":g.string,modal:g.bool,autohide:g.number,width:g.number,label:g.node,labelledBy:g.string,titleID:g.string,titleClass:g.string,causalElement:g.object,causalElementRef:g.func,shown:g.bool,layerHideOnBlur:g.bool,hideOnEscape:g.bool,isStrictlyControlled:g.bool,onHide:g.func,onToggle:g.func,fixedTopPosition:g.number},createLayer:function(c){__p&&__p();var d=this.props.className;d=babelHelpers["extends"]({width:this.props.width,xui:!0,autohide:this.props.autohide,classNames:d?d.split(" "):null,label:this.props.label,labelledBy:this.props.labelledBy,isStrictlyControlled:this.props.isStrictlyControlled,titleID:this.props.titleID,titleClass:this.props.titleClass,causalElement:this._getCausalElement(),fixedTopPosition:this.props.fixedTopPosition},a||{});this.props["data-testid"]&&(d["data-testid"]=this.props["data-testid"]);var e=babelHelpers["extends"]({},a.addedBehaviors,this.props.behaviors);this.props.layerHideOnBlur!==!1&&(e.LayerHideOnBlur=b("LayerHideOnBlur"));(this.props.hideOnEscape===!0||this.props.hideOnEscape!==!1&&a.hideOnEscape===!0)&&(e.LayerHideOnEscape=b("LayerHideOnEscape"));d.addedBehaviors=this.enumerateBehaviors(e);e=new(b("DialogX"))(d,c);e.conditionShow(this.props.shown);return e},receiveProps:function(a,b){this.updateBehaviors(b.behaviors,a.behaviors),this.layer&&(this.layer.setCausalElement(this._getCausalElement()),this.layer.conditionShow(a.shown),this.layer.setWidth(a.width),a.shown&&this.layer.updatePosition())},_getCausalElement:function(){var a;this.props.causalElementRef?a=b("ReactDOM").findDOMNode(this.props.causalElementRef()):a=this.props.causalElement;return a}}}};e.exports=a}),null);
__d("XUIDialog.react",["csx","AbstractDialog.react","LayerFadeOnShow","ReactLayer"],(function(a,b,c,d,e,f,g){a=b("ReactLayer").createClass(b("AbstractDialog.react").createSpec({displayName:"XUIDialog",addedBehaviors:{LayerFadeOnShow:b("LayerFadeOnShow")},titleClass:".-cx-PRIVATE-xuiDialog__titletext",hideOnEscape:!0}));e.exports=a}),null);
__d("PublicConversationsUnicornTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentFbid=function(a){this.$1.comment_fbid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={comment_fbid:!0,vc:!0};e.exports=a}),null);
__d("UFICommentLikeCount.react",["cx","fbt","ActorURI","NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","URI"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=function(a,c,d){a=new(b("URI"))("/ajax/like/tooltip.php").setQueryData({comment_fbid:a.fbid,comment_from:a.author,comment_likecount:a.likecount||0,comment_id:a.id,cache_buster:a.likeconfirmhash||0});c&&a.addQueryData({viewas:c});return b("ActorURI").create(a,d)};i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props.comment,c=a.likecount||0,d=b("NumberFormat").formatInteger(c);c=h._({"*":"{number} Likes","_1":"1 Like"},[h._plural(c,"number")]);var e=b("ProfileBrowserTypes").LIKES;a={id:a.fbid};var f=j(this.props.comment,this.props.contextArgs.viewas,this.props.actorForPost),g=b("React").createElement("span",{className:"UFICommentReactionIconContainer"},b("React").createElement("i",{className:"-cx-PUBLIC-ufiReactionsIcons__like -cx-PRIVATE-ufiReactionsIcons__icon -cx-PUBLIC-ufiReactionsIcons__16"}));d=b("React").createElement("span",null,d);var i="UFICommentLikeButton UFISutroLikeCount",k=b("ProfileBrowserLink").constructDialogURI(e,a).toString();e=b("ProfileBrowserLink").constructPageURI(e,a).toString();a="dialog";var l=this.props.contextArgs.loggedOutLinkConfig;l&&l.showLikeLink&&(k=l.likeAjaxifyURI,e="#");return b("React").createElement("a",{ajaxify:k,"aria-label":c,className:i,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":f.toString(),href:e,rel:a,role:"button"},g,d)};function a(){i.apply(this,arguments)}a.propTypes={actorForPost:c.string,comment:c.object.isRequired,contextArgs:c.object.isRequired};e.exports=a}),null);
__d("UFICommentLikeLink.react",["cx","fbt","React","ReactionNuxTypeEnum","TrackingNodes","UFICommentAction","UFIConfig","UFIReactionsLinkImpl.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j="ufi_comment_like_link",k="ufi_reply_like_link";i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.getCanRender=function(a){return!!(a&&(a.canviewerreact||a.viewercanlike||a.hasviewerliked))};a.prototype.render=function(){var a=this.props.comment,c=this.props.feedback,d=this.props.contextArgs;if(!this.constructor.getCanRender(a))return null;if(a.canviewerreact)return b("React").createElement("span",{className:"-cx-PRIVATE-uiInlineBlock__root -cx-PRIVATE-Interaction__uficommentreactionslikelink"},this.$1(a,c,d));else if(a.viewercanlike||a.hasviewerliked)return this.$2(a,c,d);return null};a.prototype.$1=function(a,c,d){var e=null;b("UFIConfig").reactionsHasCommentsNux&&(e={nuxKey:"reactions_comments",titleOverride:h._("New! React to a Comment"),textOverride:h._("Hover over the Like link to see all reactions."),nuxType:b("ReactionNuxTypeEnum").LIKE_CLICK});return b("React").createElement(b("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},d,{ftentidentifier:a.id}),comment:a,nuxConfig:e,reaction:a.viewerreaction,supportedReactions:c.supportedreactions,ftIdentifier:d.ftentidentifier})};a.prototype.$2=function(a,c,d){c=d.loggedOutLinkConfig;var e=b("TrackingNodes").getTrackingInfo(a.hasviewerliked?b("TrackingNodes").types.UNLIKE_LINK:b("TrackingNodes").types.LIKE_LINK),f=a.hasviewerliked?h._("Unlike this comment"):h._("Like this comment"),g=a.parentcommentid?k:j,i=!a.hasviewerliked||c?h._("Like"):h._("Unlike"),l=null,m=null;c&&c.showLikeLink&&(l="dialog",m=c.likeAjaxifyURI);return b("React").createElement("a",{className:"UFILikeLink","data-ft":e,"data-testid":g,href:"#",rel:l,ajaxify:m,onClick:function(c){return this.context.dispatch(b("UFICommentAction").toggleLike(d,a,c.target))}.bind(this),role:"button",title:f},i)};function a(){i.apply(this,arguments)}a.propTypes={comment:c.object.isRequired,contextArgs:c.object.isRequired,feedback:c.object.isRequired};a.contextTypes={dispatch:c.func};e.exports=a}),null);
__d("Timestamp.react",["LiveTimer","React","joinClasses"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.componentDidMount=function(){"use strict";this.props.autoUpdate&&this.$1&&b("LiveTimer").addTimeStamps(this.$1)};a.prototype.componentDidUpdate=function(a){"use strict";this.props.autoUpdate&&this.props.time!==a.time&&b("LiveTimer").loop(!1)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&b("LiveTimer").removeTimestamp(this.$1)};a.prototype.render=function(){"use strict";var a=b("LiveTimer").renderRelativeTimeToServer(this.props.time||0,this.props.shorten,this.props.minimize,this.props.useLargerTimeUnits),c=this.props,d=c.shorten,e=c.time,f=c.text,g=c.verbose;c=babelHelpers.objectWithoutPropertiesLoose(c,["shorten","time","text","verbose"]);delete c.autoUpdate;return b("React").createElement("abbr",babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,"livetimestamp"),title:g,"data-utime":e,"data-minimize":Boolean(this.props.minimize)?!0:null,"data-shorten":Boolean(d)?!0:null,ref:function(a){return this.$1=a}.bind(this)}),a.text.toString()||f)};function a(){"use strict";g.apply(this,arguments)}a.defaultProps={autoUpdate:!1};e.exports=a}),null);
__d("UFICommentMetadata.react",["ix","cx","fbt","BootloadedComponent.react","Image.react","JSResource","Middot.react","React","Timestamp.react","TrackingNodes","UFIConstants","URI","XUISpinner.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("UFIConstants").UFIStatus,l="ufi_comment_timestamp",m="UFIFailureMessageIcon",n="UFIFailureMessage",o="uiLinkSubtle",p=function(a){a=a.status;return a===k.FAILED_ADD||a===k.FAILED_EDIT};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.editLinkRef=null,b}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.comment,d=a.onRetrySubmit;a=a.isAuthorPinnedComment;var e,f,h=c.timestamp;if(p(c))e=[b("React").createElement("span",{key:"failure",className:n},b("React").createElement("i",{className:m}),i._("Unable to post comment.")),c.allowRetry&&d?[" ",b("React").createElement("a",{key:"rety-submit",onClick:d,href:"#",role:"button"},i._("Try Again"))]:null];else if(a){d=b("React").createElement("span",null,b("React").createElement(b("Image.react"),{className:"UFIAuthorPinnedCommentIcon",src:g("jKUJkxc0w9n_images/assets_DO_NOT_HARDCODE/facebook_icons/pushpin_filled_12_fds-tertiary-icon.png")}),i._("Pinned"));f=d;this.props.showPermalink&&(f=this.$1(d))}else if(h){a=b("React").createElement(b("Timestamp.react"),{className:"UFISutroCommentTimestamp",minimize:!0,shorten:this.props.shortenTimestamp,time:h.time,text:h.text,useLargerTimeUnits:!0,verbose:h.verbose});f=a;this.props.showPermalink&&(f=this.$1(a))}d=null;if(c.originalTimestamp){h=new(b("URI"))("/ajax/edits/browser/comment").addQueryData({comment_token:c.id}).toString();d=[!this.props.displayVerticalCommentVote&&b("React").createElement(b("Middot.react"),{key:"middot-editNote"}),b("React").createElement("a",{ajaxify:h,className:"uiLinkSubtle"+(this.props.displayVerticalCommentVote?" -cx-PRIVATE-ufiCommentVoteIcons__actionwrapperinblingbar":""),"data-hover":"tooltip","data-tooltip-content":i._("Show edit history"),href:"#",key:"edit-link",ref:function(a){return this.editLinkRef=a}.bind(this),rel:"dialog",role:"button",title:i._("Show edit history")},i._("Edited"))]}a=null;c.attachment_status&&!p(c)&&(a=b("React").createElement("span",null,b("React").createElement(b("Middot.react"),{key:"middot-creator"}),b("React").createElement("span",{className:"UFISutroCommentTimestamp"},c.attachment_status)));h=null;var j=c.creator_data;j&&(h=[b("React").createElement(b("BootloadedComponent.react"),{key:"creator",bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{size:"small"}),bootloadLoader:b("JSResource")("UFICreatorInfo.react").__setRef("UFICommentMetadata.react"),creatorID:j.creatorID,creatorType:j.creatorType,creatorName:j.creatorName,labelType:j.labelType,pageID:j.pageID,profileURI:j.profileURI}),b("React").createElement(b("Middot.react"),{key:"middot-creator"})]);j=null;c.body&&c.body.markdown_enabled&&c.body.markup&&(j=[b("React").createElement(b("Middot.react"),{key:"middot-markdownNote"}),b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("a",{className:"uiLinkSubtle"},i._("Formatted")),bootloadLoader:b("JSResource")("UFICommentMarkdownFormattedLink.react").__setRef("UFICommentMetadata.react"),comment:c,key:"markdown-link"})]);c=null;this.props.showEditNux&&(c=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIEditCommentNux.react").__setRef("UFICommentMetadata.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{size:"small"}),context:this.editLinkRef,helpUri:this.props.helpUri,onCloseButtonClick:this.props.onEditNuxCloseClick,shown:this.props.showEditNux}));return b("React").createElement("span",null,h,f,e,d,j,c,a)};a.prototype.$1=function(a){var c=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.SOURCE);return b("React").createElement("a",{key:"timestamp-message",className:o,href:this.props.permalink,"data-ft":c,"data-testid":l,target:this.props.permalinkTarget},a)};e.exports=a}),null);
__d("UFICommentReactionCount.react",["cx","ActorURI","ClientIDs","React","UFIReactionsBlingTokens.react","UFIReactionsProfileBrowserUtils","XUFIReactionsSocialSentenceTooltipController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.comment,c={entidentifier:a.id,reactioncount:a.reactioncount,reactioncountmap:a.reactioncountmap,actorforpost:this.props.actorForPost,supportedreactions:this.props.supportedReactions},d="UFICommentLikeButton"+(this.props.showLiveStreamingRedesign&&a.hasviewerliked?" UFILiveCommentRedesignLikedButton":"")+" UFISutroLikeCount",e="UFICommentReactionsBling -cx-PRIVATE-ufiReactionsTokens__compressed -cx-PRIVATE-ufiReactionsBling__root",f=b("ActorURI").create(b("XUFIReactionsSocialSentenceTooltipController").getURIBuilder().setString("ft_ent_identifier",a.id).setString("client_id",b("ClientIDs").getNewClientID()).setInt("user_count",a.reactioncount).getURI(),this.props.actorForPost),g=b("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:this.props.actorForPost,feedbackTargetID:a.id}),h=b("UFIReactionsProfileBrowserUtils").getPageURI({actorID:this.props.actorForPost,feedbackTargetID:a.id}),i=this.props.contextArgs.loggedOutLinkConfig;i&&i.showLikeLink&&(g=i.likeAjaxifyURI,h="#");return b("React").createElement("a",{ajaxify:g,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":f,"data-tooltip-offsety":"-3",href:h,rel:"dialog",role:"button"},b("React").createElement(b("UFIReactionsBlingTokens.react"),{className:e,feedback:c,contextArgs:this.props.contextArgs,max:3,noLinks:!0,size:"16"},b("React").createElement("span",{className:d},a.reactioncountreduced)))};function a(){h.apply(this,arguments)}a.propTypes={actorForPost:c.string,comment:c.object.isRequired,contextArgs:c.object.isRequired,supportedReactions:c.array,showLiveStreamingRedesign:c.bool};e.exports=a}),null);
__d("UFICommentSubscribeLink.react",["fbt","AsyncRequest","React","XUFISubscribeCommentController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,b){h.constructor.call(this,a,b);b=a.comment.issubscribed;this.state={isSubscribed:b?b:!1}}a.prototype.render=function(){var a=g._("Subscribe to this comment"),c=g._("Subscribe"),d=g._("Unsubscribe to this comment"),e=g._("Unsubscribe");return b("React").createElement("a",{href:"#",role:"button",title:this.state.isSubscribed?d:a,onClick:function(){return this.onLinkClick()}.bind(this)},this.state.isSubscribed?e:c)};a.prototype.onLinkClick=function(){var a=this.props.comment,c=b("XUFISubscribeCommentController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({comment_id:a.fbid,ft_ent_identifier:a.ftentidentifier,is_subscribe:!this.state.isSubscribed}).setMethod("POST").setHandler(function(a){this.setState({isSubscribed:!this.state.isSubscribed})}.bind(this)).setErrorHandler(function(a){}).send()};e.exports=a}),null);
__d("UFIFeedbackPinnedCommentLink.react",["cx","fbt","LiveVideoPinnedCommentUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=h._("Unpin Comment"),d=h._("Pin Comment"),e=function(){a.contextArgs.isActiveLivingRoom==!0?b("LiveVideoPinnedCommentUtils").toggleFeedbackCommentPin(a):b("LiveVideoPinnedCommentUtils").toggleCommentPin(a)};return b("React").createElement("a",{className:"uiLink",href:"#",onClick:e},a.isPinned?c:d)};e.exports=a}),null);
__d("UFILiveVODUnpinCommentLink.react",["cx","fbt","LiveVideoPinnedCommentUtils","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(){this.$1.addSubscriptions(b("LiveVideoPinnedCommentUtils").unpinVODComment(this.props.commentID,this.props.pinEventID,this.props.contextArgs))}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))()};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.render=function(){return b("React").createElement("a",{className:"uiLink",href:"#",onClick:this.$2},h._("Unpin Comment"))};e.exports=a}),null);
__d("UFIPrivateReplyIndicator.react",["fbt","PagesPrivateReplyConstants","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PagesPrivateReplyConstants").Status;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.willRender=function(a){return a===i.ALREADY_REPLIED};a.prototype.render=function(){return this.props.replyStatus===i.ALREADY_REPLIED?b("React").createElement("span",null,g._("Page responded privately")):null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PagesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setConnectionClass=function(a){this.$1.connection_class=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventLocation=function(a){this.$1.event_location=a;return this};a.prototype.setEventTarget=function(a){this.$1.event_target=a;return this};a.prototype.setLogSource=function(a){this.$1.log_source=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setRawClientTime=function(a){this.$1.raw_client_time=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setTags=function(a){this.$1.tags=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={connection_class:!0,event:!0,event_location:!0,event_target:!0,log_source:!0,page_id:!0,raw_client_time:!0,sessionid:!0,tags:!0,time:!0,weight:!0};e.exports=a}),null);
__d("UFIPrivateReplyLink.react",["cx","fbt","ActorURI","BootloadedComponent.react","JSResource","Link.react","MessengerDiscoveryEntryPoint","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesPrivateReplyConstants","React","XPagesMessagingPrivateReplyDialogController","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("PagesPrivateReplyConstants").Status,k=b("PagesPrivateReplyConstants").Type,l=b("keyMirror")(k),m=!1,n=new Set(),o=new Set();c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$5=function(){b("PagesLogger").log(this.props.context.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").COMMENT_MESSAGE_BUTTON,null,["business_messaging_growth"],{comment_id:this.props.activityID,messenger_entry_point:b("MessengerDiscoveryEntryPoint").PRIVATE_REPLY,activity_type:this.$6()})}.bind(this),c}a.willRender=function(a,b){if(!a)return!1;return a.hasReplyPermission&&b===a.pageID?!0:!1};a.prototype.render=function(){var a=this.props.context;if(a.hasReplyPermission&&this.props.actorID===a.pageID){if(a.status===j.REPLYABLE)return this.$2();else if(a.status===j.ALREADY_REPLIED)return this.$3();return this.$4()}return null};a.prototype.$7=function(){if(!this.props.shouldShowNuxToPage||m)return null;if(n.has(this.props.activityID)){m=!0;return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",{className:"hidden_elem"}),bootloadLoader:b("JSResource")("UFICommentPrivateReplyNux.react").__setRef("UFIPrivateReplyLink.react"),nuxContext:function(){return this.$1}.bind(this),activityType:this.props.context.activityType,nuxKey:"pages_comment_pr_nux",shouldShowGeneralNuxContent:this.props.shouldShowGeneralNuxContent})}else n.add(this.props.activityID);return null};a.prototype.$2=function(){var a=b("ActorURI").create(b("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",this.props.activityID).getURI(),this.props.context.pageID);o.has(this.props.activityID)||(b("PagesLogger").log(this.props.context.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").COMMENT_MESSAGE_BUTTON,null,["business_messaging_growth"],{comment_id:this.props.activityID,messenger_entry_point:b("MessengerDiscoveryEntryPoint").PRIVATE_REPLY,activity_type:this.$6()}),o.add(this.props.activityID));return b("React").createElement(b("Link.react"),{className:"-cx-PRIVATE-UFI__privatereplylink -cx-PRIVATE-UFI__privatereplylinkcentered -cx-PRIVATE-Interaction__ufiprivatereplylinkmessage",onClick:this.$5,href:a,ref:function(a){this.$1=a}.bind(this),rel:"dialog"},this.$8(),this.$7())};a.prototype.$4=function(){var a;switch(this.props.context.status){case j.EXPIRED:a=h._({"comments":"You can't send a message response to comments that are older than 6 months.","reviews":"You can't send a message response to reviews that are older than 6 months.","posts":"You can't send a message response to posts that are older than 6 months."},[h._enum(this.$9(),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case j.NOT_USER_CREATED:a=h._("Pages can't send private messages to other Pages.");break;case j.CANNOT_MESSAGE:a=h._("This person can't receive a message reply from your Page.");break}return b("React").createElement("span",{className:"-cx-PRIVATE-UFI__privatereplylink -cx-PRIVATE-UFI__privatereplydisabled -cx-PRIVATE-UFI__privatereplylinkcentered","data-hover":a?"tooltip":null,"data-tooltip-content":a},this.$8())};a.prototype.$3=function(){return b("React").createElement(b("Link.react"),{className:"-cx-PRIVATE-UFI__privatereplylink -cx-PRIVATE-Interaction__ufiprivatereplylinkseereply -cx-PRIVATE-UFI__privatereplylinkcentered",href:this.props.context.permalink||"#"},this.props.seeResponseLabel?h._("See Response"):this.$8())};a.prototype.$8=function(){return h._("Message")};a.prototype.$9=function(){switch(this.props.context.activityType){case k.COMMENT_PAGE_POST:case k.COMMENT_WALL_POST:case k.COMMENT_CUSTOMER_GROUP_USER_POST:case k.COMMENT_REVIEW:return"comments";case k.REVIEW:return"reviews";default:return"posts"}};a.prototype.$6=function(){switch(this.props.context.activityType){case k.COMMENT_PAGE_POST:return l.COMMENT_PAGE_POST;case k.COMMENT_WALL_POST:return l.COMMENT_WALL_POST;case k.COMMENT_CUSTOMER_GROUP_USER_POST:return l.COMMENT_CUSTOMER_GROUP_USER_POST;case k.COMMENT_REVIEW:return l.COMMENT_REVIEW;case k.REVIEW:return l.REVIEW;default:return"UNKOWN"}};e.exports=a}),null);
__d("UFICommentActions.react",["ix","cx","fbt","BootloadedComponent.react","CommentApprovalsResponsibleUserAction","FluxContainer","JSResource","Middot.react","PublicConversationsUnicornTypedLogger","React","ReactFragment","UFIAddCommentAction","UFICentralUpdates","UFICommentAction","UFICommentLikeCount.react","UFICommentLikeLink.react","UFICommentMetadata.react","UFICommentReactionCount.react","UFICommentSubscribeLink.react","UFIConfig","UFIConstants","UFIFeedbackPinnedCommentLink.react","UFILivePinnedCommentStore","UFILiveVODUnpinCommentLink.react","UFIPrivateReplyIndicator.react","UFIPrivateReplyLink.react","UFISharedDispatcher","UFIStoryAction","UFIThreadedFacecastCommentsUtils","WebCommentViewOption","emptyFunction","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;a=b("React").PropTypes;var k=b("UFIConstants").UFIStatus,l="fsm fwn fcg UFICommentActions",m="UFIDeletedMessageIcon",n="UFIDeletedMessage";c=babelHelpers.inherits(o,b("React").Component);j=c&&c.prototype;o.getStores=function(){return[b("UFILivePinnedCommentStore")]};o.calculateState=function(a,c){a=c.comment;c=b("UFILivePinnedCommentStore").getPinnedCommentID(a.ftentidentifier);a=this.calculatePinActionLinkState(a,c);return{pinActionLinkState:a}};o.calculatePinActionLinkState=function(a,b){if(a.__typename==="local")return"None";return b===a.id?"MayUnpin":"MayPin"};function o(a){j.constructor.call(this,a),this.state=o.calculateState(null,a)}o.prototype.render=function(){__p&&__p();var a=this.props,c=a.comment,d=a.permalink,e=a.feedback,f=a.parentCanComment,h=a.markedAsSpamHere,j=a.showReplyLink,o=a.hideAsSpamForPageAdmin,p=a.translateLink,q=a.isAuthorPinnedComment,r=c.status===k.SPAM_DISPLAY,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=c.__typename!=="local"&&c.status!==k.LIVE_DELETED&&!c.tipOptionIndex;if(G){(c.needsApproval||c.canAppeal||c.canSecure||c.appealStatus!==null)&&(B=b("React").createElement("a",{onClick:function(c){return this.context.dispatch(b("UFICommentAction").remove(a.contextArgs,a.comment,c.target,b("emptyFunction")))}.bind(this),href:"#",role:"button"},i._("Delete")));c.canAppeal&&c.appealStatus!==b("CommentApprovalsResponsibleUserAction").APPEALED&&(C=b("React").createElement("a",{onClick:function(d){return this.context.dispatch(b("UFICommentAction").appealSpam(a.contextArgs,c,d.target,a.feedback))}.bind(this),href:"#",role:"button"},i._("Not Spam")));c.canSecure&&c.appealStatus!==b("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT&&(D=b("React").createElement("a",{onClick:function(d){return this.context.dispatch(b("UFICommentAction").secureAccount(a.contextArgs,c,d.target,a.feedback))}.bind(this),href:"#",role:"button"},i._("I didn't post this")));c.needsApproval&&(A=b("React").createElement("a",{onClick:function(d){return this.context.dispatch(b("UFICommentAction").keepSpam(a.contextArgs,c,d))}.bind(this),href:"#",role:"button"},i._("Keep Comment")));r&&!h?(a.viewerCanMarkNotSpam&&(s=b("React").createElement("a",{onClick:function(d){return this.context.dispatch(b("UFICommentAction").markAsNotSpam(a.contextArgs,c,d))}.bind(this),className:"UFICommentNotSpamLink",href:"#",role:"button"},i._("Unhide"))),o&&e.isthreaded&&c.cancomment&&j&&(w=this.renderCommentReply(c))):(t=b("UFICommentLikeLink.react").getCanRender(c)?b("React").createElement(b("UFICommentLikeLink.react"),{comment:c,contextArgs:a.contextArgs,feedback:e}):null,(e.isthreaded&&c.cancomment&&j||!!c.parentcommentid&&e.cancomment&&f&&!a.isInLiveVideoReplyMode)&&(w=this.renderCommentReply(c)),c.canviewerreact?u=!this.props.hideReactionCount&&c.reactioncount>0?b("React").createElement(b("UFICommentReactionCount.react"),{comment:c,actorForPost:e.actorforpost,supportedReactions:e.supportedreactions,contextArgs:a.contextArgs}):null:u=!this.props.hideReactionCount&&c.likecount>0?b("React").createElement(b("UFICommentLikeCount.react"),{comment:c,actorForPost:e.actorforpost,contextArgs:a.contextArgs}):null,x=this.renderMessageReply(c,e));if(c.attachment&&c.attachment.type==="share"&&!c.attachment.disableRemove&&c.canremove){G="-cx-PRIVATE-Interaction__uficommentactionsremovepreview";y=b("React").createElement("a",{className:G,href:"#",onClick:function(d){return this.context.dispatch(b("UFICommentAction").removePreview(a.contextArgs,c,d.target))}.bind(this),role:"button"},i._("Remove Preview"))}c.cansubscribe&&(E=b("React").createElement(b("UFICommentSubscribeLink.react"),{contextArgs:a.contextArgs,comment:c}))}b("UFIConfig").publicConversationsUnicornWhitelist&&(z=b("React").createElement("a",{className:"share_action_link",href:"#",role:"button",title:"[FB Only] Mark this comment as a great comment for futher review.",onClick:function(a){return new(b("PublicConversationsUnicornTypedLogger"))().setCommentFbid(c.fbid).log()}},"Unicorn"));r=a.contextArgs.islivestreaming||a.contextArgs.isActiveLivingRoom;h=r?null:b("React").createElement(b("UFICommentMetadata.react"),{comment:c,onRetrySubmit:function(){return this.context.dispatch(b("UFIAddCommentAction").retrySubmit(a.contextArgs,c))}.bind(this),permalink:d,shortenTimestamp:a.contextArgs.shortenTimestamp,showPermalink:a.showPermalink,contextArgs:a.contextArgs,helpUri:this.props.editNuxHelpUri,showEditNux:!this.props.hasSeenEditNux,onEditNuxCloseClick:this.props.onEditNuxCloseClick,isAuthorPinnedComment:q,displayVerticalCommentVote:this.props.displayVerticalCommentVote});o=null;if(a.contextArgs.enablePinLiveComments&&!c.tipOptionIndex)if((a.contextArgs.islivestreaming||a.contextArgs.isActiveLivingRoom)&&this.state.pinActionLinkState!=="None")o=b("React").createElement(b("UFIFeedbackPinnedCommentLink.react"),{commentID:c.id,commentFBID:c.fbid,contextArgs:a.contextArgs,isPinned:this.state.pinActionLinkState==="MayUnpin"});else if(a.contextArgs.isLiveVOD&&this.state.pinActionLinkState==="MayUnpin"){j=b("UFILivePinnedCommentStore").getPinEventID(a.contextArgs.ftentidentifier);j!=null&&(o=b("React").createElement(b("UFILiveVODUnpinCommentLink.react"),{commentID:c.id,contextArgs:a.contextArgs,pinEventID:j}))}var H={};if(e.customcommentactionlinks){f=function(a){var d=e.customcommentactionlinks[a];if(d.showInMenu)return"continue";a=function(a){return b("UFICentralUpdates").inform(d.type,{comment:c,feedback:e})};H[d.type]=b("React").createElement("a",{href:"#",onClick:a,role:"button"},d.title)};for(var I in e.customcommentactionlinks){G=f(I);if(G==="continue")continue}}c.needsApproval?r=babelHelpers["extends"]({keepToggle:A,deleteToggle:B,metadata:h},H):c.canAppeal||c.canSecure||(c.appealStatus===b("CommentApprovalsResponsibleUserAction").APPEALED||c.appealStatus===b("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT)&&!c.isApproved?r=babelHelpers["extends"]({appealToggle:C,secureToggle:D,deleteToggle:B,metadata:h},H):a.orderingMode===b("WebCommentViewOption").LIVE_STREAMING&&(a.contextArgs.islivestreaming||a.contextArgs.isLiveVOD)&&b("UFIThreadedFacecastCommentsUtils").isEnabled(a.contextArgs)?r=babelHelpers["extends"]({likeToggle:t,unicornButton:z,commentReply:w,spamToggle:s,likeCount:u,spamCount:v,livePinCommentLink:o,metadata:h},H,{removePreview:y}):a.orderingMode===b("WebCommentViewOption").LIVE_STREAMING?r=babelHelpers["extends"]({likeToggle:t,unicornButton:z,spamToggle:s,likeCount:u,spamCount:v,livePinCommentLink:o,metadata:h},H,{removePreview:y}):a.contextArgs.entstream?r=babelHelpers["extends"]({livePinCommentLink:o,metadata:h,likeToggle:t,unicornButton:z,likeCount:u,commentReply:w,translateLink:p,messageReply:x,subscribeComment:E,spamCount:v,spamToggle:s,removePreview:y},H):e.isthreaded?(this.props.displayVerticalCommentVote&&(F=a.renderCommentCloseButton()),r=babelHelpers["extends"]({likeToggle:t,unicornButton:z,commentReply:w,translateLink:p,messageReply:x,spamToggle:s,removePreview:y,subscribeComment:E,likeCount:u,spamCount:v},H,{livePinCommentLink:o,metadata:h,commentCloseButton:F})):r=babelHelpers["extends"]({livePinCommentLink:o,metadata:h,likeToggle:t,unicornButton:z,subscribeComment:E,likeCount:u,spamCount:v,commentReply:w,translateLink:p,messageReply:x,spamToggle:s,removePreview:y},H);if(c.status===k.LIVE_DELETED){d=i._("Comment deleted");q=b("React").createElement("span",{className:n},b("React").createElement("i",{"aria-label":d,className:m,"data-hover":"tooltip","data-tooltip-content":d,role:"img"}));r.deletionWarning=q}if(c.isApproved){j=i._("This comment was originally marked as spam");r.isApproved=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("Image.react").__setRef("UFICommentActions.react"),bootloadPlaceholder:b("React").createElement("span",null),"data-hover":"tooltip","data-tooltip-content":j,"aria-label":j,src:g("LVV25DVM6VO_images/assets_DO_NOT_HARDCODE/fb_glyphs/checkmark-solid_12_fig-green.png"),"data-tooltip-alignh":"left"})}G=!0;f={};for(var J in r){o=r[J];o&&(G?f[J]=o:this.props.displayVerticalCommentVote?f[J]=b("React").createElement("span",{className:"-cx-PRIVATE-ufiCommentVoteIcons__actionwrapperinblingbar"},o):f[J]=b("ReactFragment").create({middot:b("React").createElement(b("Middot.react"),{key:"middot-"+J}),action:o}),G=!1)}return b("React").createElement("div",{className:l},b("ReactFragment").create(f))};o.prototype.renderCommentReply=function(a){var c=!this.props.contextArgs.isScheduledLive&&(this.props.contextArgs.islivestreaming||this.props.orderingMode===b("WebCommentViewOption").LIVE_STREAMING&&this.props.contextArgs.isLiveVOD),d;c?d=b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(a,this.props.contextArgs,this.props.feedback):d=function(){var c=this.props,d=c.contextArgs;c=c.feedback;c.isthreaded&&a.cancomment?this.context.dispatch(b("UFIStoryAction").showReplies(d,a.id,a)):a.parentcommentid&&this.context.dispatch(b("UFIStoryAction").showReplies(d,a.parentcommentid,a));c.targetiscomment&&b("UFISharedDispatcher").dispatch(b("UFIStoryAction").showComments(d))}.bind(this);return b("React").createElement("a",{className:"UFIReplyLink -cx-PRIVATE-Interaction__uficommentactionsreply","data-testid":"ufi_reply_link",href:"#",onClick:d,role:"button"},c&&a.parentcommentid&&!this.props.isInLiveVideoReplyMode?i._("See Thread"):i._("Reply"))};o.prototype.renderMessageReply=function(a,c){__p&&__p();if(a.messagereply){if(b("UFIPrivateReplyLink.react").willRender(a.messagereply,c.actorforpost))return b("React").createElement(b("UFIPrivateReplyLink.react"),{actorID:c.actorforpost,activityID:a.id,context:a.messagereply,seeResponseLabel:!0,shouldShowNuxToPage:this.props.contextArgs.shouldShowPrivateReplyNuxToPage,shouldShowGeneralNuxContent:this.props.contextArgs.shouldShowGeneralPrivateReplyNuxContent});else if(b("UFIPrivateReplyIndicator.react").willRender(a.messagereply.status))return b("React").createElement(b("UFIPrivateReplyIndicator.react"),{replyStatus:a.messagereply.status})}else if(a.chattobuy){c="-cx-PRIVATE-Interaction__uficommentactionssaleitemmessage";return b("React").createElement("a",{className:c,href:a.chattobuy,role:"button",rel:"async-dialog"},i._("Message"))}return null};o.contextTypes={dispatch:a.func};e.exports=b("FluxContainer").create(o,{withProps:!0})}),null);
__d("GamesVideoFanSupportAttachmentHandler",["cx","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="tip_attachment_support_link";a={_registeredLinks:new Set(),registerFanSupportAttachment:function(a){if(!a)return;a=a.querySelector('[name="'+h+'"]');a&&!this._registeredLinks.has(a)&&(a.addEventListener("mouseover",this._onLinkMouseover.bind(this,a)),a.addEventListener("click",this._onLinkClick.bind(this,a)),this._registeredLinks.add(a))},_onLinkMouseover:function(a){var b="-cx-PRIVATE-gamesDesktopFanSupportAttachment__supportlinkdisabled";this._isSupportOverlayRegistered()?a.classList.remove(b):a.classList.add(b)},_onLinkClick:function(a,b){if(this._isSupportOverlayRegistered()){a=this._getTahoeView();a&&a.toggleSupportOverlay();b.stopPropagation()}},_isSupportOverlayRegistered:function(){var a=this._getTahoeView();return a&&a.isSupportOverlayRegistered()},_getTahoeView:function(){var a=void 0;b("ifRequired")("Tahoe",function(c){b("ifRequired")("TahoeVideoView",function(b){var d=c.get();if(d){d=d.getView();d instanceof b&&(a=d)}})});return a}};e.exports=a}),null);
__d("LitestandEllipsis",["BinarySearch","DOMQuery","concatMap","getElementText","isTextNode"],(function(a,b,c,d,e,f){__p&&__p();var g,h="\u2026";function i(a,b,c){a=a.slice(0,b).join(" ")+h;c===0&&(a=a.trimLeft());return a}function j(a,b,c){a=a.substr(0,b).trimRight()+h;c===0&&(a=a.trimLeft());return a}a={add:function(a,c,d){__p&&__p();d=d||a;b("DOMQuery").scry(a,"br").forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)});var e=d.offsetHeight||0;if(e<=c)return;var f=l(a),g=f.length-1,m=c+1;e=function(){__p&&__p();var a=b("getElementText")(f[g]).split(/[\n\s]/g),c=b("BinarySearch").greatestLowerBound(function(b){k(f[g],i(a,b,g));return d.offsetHeight||0},m,0,a.length,function(a,b){return a-b});if(c>0){k(f[g],i(a,c,g));return"break"}c=b("BinarySearch").greatestLowerBound(function(b){k(f[g],j(a[0],b,g));return d.offsetHeight||0},m,0,a[0].length-h.length-2,function(a,b){return a-b});if(c>-1){k(f[g],j(a[0],c,g));return"break"}k(f[g],"");g--};while(g>=0){a=e();if(a==="break")break}}};function k(a,b){g=g||(a.textContent!=null?"textContent":"innerText"),a[g]=b}function l(a){return b("isTextNode")(a)?[a]:b("concatMap")(l,Array.from(a.childNodes))}e.exports=a}),null);
__d("LitestandShareAttachment",["csx","cx","CSS","DOMQuery","LitestandEllipsis","queryThenMutateDOM"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=22,j=16,k=5,l=3,m=3,n=2,o=2,p=5,q=5,r="-cx-PRIVATE-fbEntstreamAttachmentShare__simplecrop",s="-cx-PRIVATE-fbEntstreamAttachmentShare__root",t=20,u=20,v=2;function w(a){return b("CSS").matchesSelector(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__largeformat")}function x(a){return b("CSS").matchesSelector(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__hasverysmallmedia")}function y(a){return b("CSS").matchesSelector(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__commentformat")}function z(a){return b("CSS").matchesSelector(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__sutrotruncation")}function A(a){return b("CSS").matchesSelector(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__hasexplicitseverecompressionlevel")}function B(a,c){a=a.getElementsByTagName?b("DOMQuery").scry(a,c)[0]:null;return a?a:null}function C(a){return!!B(a,"^div.-cx-PUBLIC-fbDesktopHscrollUnit__hscrollcontainer")}function D(a){return B(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__detailsfooter")}function E(a){return B(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__title")}function F(a){return B(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__description")}function G(a){return B(a,".-cx-PRIVATE-fbEntstreamAttachmentShare__content")}function H(a){__p&&__p();if(y(a))return o;else if(C(a))return n;else if(w(a))if(z(a))return v;else return l;else if(x(a))return m;else return k}function I(a,b,c){__p&&__p();var d=G(a);if(!b||!d||A(a))return 0;var e=D(a),f=w(a),g=y(a),h=Math.round(b.scrollHeight/J(a));if(w(a)&&z(a))if(h==v)return 0;else return Math.max(v-h,0);if(h>c&&!g)return 0;h=d.offsetHeight-p-b.offsetHeight-(e?e.offsetHeight:0)-(f?0:q)+1;return Math.floor(Math.max(h,0)/K(a))}function J(a){return y(a)?u:i}function K(a){return z(a)?t:j}a={getSimpleCropClass:function(){return r},_truncateText:function(a,c){var d,e,f,g=H(a);b("queryThenMutateDOM")(function(){d=E(a),e=F(a),f=I(a,d,g)},function(){if(!a.offsetHeight){c&&b("CSS").addClass(a,r);return}!f?(e&&b("CSS").hide(e),d&&b("LitestandEllipsis").add(d,g*J(a))):e&&f&&(b("CSS").show(e),b("LitestandEllipsis").add(e,f*K(a)))})},getDetailsBreakingNewsPlaceholder:function(a){a=this.getDetailsFooterBrandName(a);if(!a)return null;var b=B(a.parentNode,"div.-cx-PRIVATE-fbEntstreamAttachmentShare__detailsbreakingnewsplaceholder");b||(b=document.createElement("div"),b.className="clearfix -cx-PRIVATE-fbEntstreamAttachmentShare__detailsbreakingnewsplaceholder",a.parentNode.insertBefore(b,a));return b},getBreakingBanner:function(a){a=B(a,"div.-cx-PRIVATE-BreakingNewsBanner__root");return a},getDetailsFooterBrandName:function(a){a=B(a,"div.-cx-PRIVATE-fbEntstreamAttachmentShare__detailsfooter");return!a?null:B(a,"div.-cx-PRIVATE-fbEntstreamStream__graylinks")},getDetailsFooterForBreaking:function(a){return B(a,"div.-cx-PRIVATE-fbEntstreamAttachmentShare__detailsfooter")},getTitleNode:function(a){return B(a,"div.-cx-PRIVATE-fbEntstreamAttachmentShare__title")},getContentNode:function(a){return B(a,"div.-cx-PRIVATE-fbEntstreamAttachmentShare__content")},init:function(a,c){__p&&__p();if(b("CSS").hasClass(a,r)){var d=!1;b("queryThenMutateDOM")(function(){a.offsetHeight&&(d=!0)},function(){d?(b("CSS").removeClass(a,r),this._truncateText(a,!0)):c||window.setTimeout(function(){return this.init(a,!0)}.bind(this),300)}.bind(this));return}else{var e=b("CSS").hasClass(a,s);this._truncateText(a,e)}},getNumDescriptionLines:function(a){return I(a,E(a),H(a))},getDescriptionLineHeight:function(a){return K(a)}};e.exports=a}),null);
__d("UFICommentAttachment.react",["cx","AsyncRequest","BootloadedComponent.react","CSS","DOM","DOMQuery","GamesVideoFanSupportAttachmentHandler","HTML","Image.react","JSResource","Placeholder.react","lazyLoadComponent","Link.react","LitestandShareAttachment","Random","React","ReactDOM","SubscriptionsHandler","UFILocallyComposedCommentStore","XAnimatedImageInLiveCommentPreviewController","XChatCommandResultCommentPreviewController","XDonationCommentPreviewController","XFileCommentPreviewController","XTipJarCommentPreviewController","XUISpinner.react","XVideoInLiveCommentPreviewController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("lazyLoadComponent")(b("JSResource")("PageCommentQuestionMessageCard.react").__setRef("UFICommentAttachment.react")),j=b("lazyLoadComponent")(b("JSResource")("PagePrivateReplyMessageCard.react").__setRef("UFICommentAttachment.react")),k=55,l="ufi_comment_photo",m=80,n="ufi_comment_sticker";c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={localCommentIDs:b("UFILocallyComposedCommentStore").getStateForInstance(this.props.comment.ufiinstanceid),randomInstanceID:Math.floor(b("Random").random()*1e4)}}a.prototype.$2=function(a){return a.photo_comment||a.video_comment||a.file_comment||a.attachment};a.prototype.$3=function(a,b){var c=this.props.allowCustomStickers?k:m,d,e,f;b>a?(f=c/b,d=a*f,e=b*f):(f=c/a,d=a*f,e=b*f);return{height:Math.round(d),width:Math.round(e)}};a.prototype.componentDidMount=function(){var a=this.$2(this.props.comment);a&&this.renderAttachment(a);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("UFILocallyComposedCommentStore").addListener(function(){this.setState({localCommentIDs:b("UFILocallyComposedCommentStore").getStateForInstance(this.props.comment.ufiinstanceid)})}.bind(this)))};a.prototype.shouldComponentUpdate=function(a,b){b=this.$2(this.props.comment);a=this.$2(a.comment);if(!b&&!a)return!1;if(!b||!a||b.markup!=a.markup)return!0;else return!1};a.prototype.componentDidUpdate=function(a){a=this.$2(this.props.comment);if(!a)return;a.type!=="sticker"&&a.type!=="photo"&&this.renderAttachment(a)};a.prototype.componentWillUnmount=function(){if(this.refs&&this.refs.contents){var a=b("ReactDOM").findDOMNode(this.refs.contents);b("DOM").empty(a)}this.$1&&this.$1.release()};a.prototype.renderAttachment=function(a){__p&&__p();if(this.props.isPinnedLivingRoomPhotoComment)return;if(a&&this.refs&&this.refs.contents&&a.markup){var c=a.markup;b("HTML").isHTML(c.markup)&&(c=b("HTML").replaceJSONWrapper(c.markup).getRootNode());var d=c.parentNode,e=b("ReactDOM").findDOMNode(this.refs.contents);d&&d!==e&&(c=c.cloneNode(!0));if(this.props.disableTheater){d=c.querySelector('a[rel="theater"]');d&&b("DOM").setAttributes(d,{target:"_blank",rel:""})}b("DOM").setContent(e,c);if(a.type=="share"){d="-cx-PRIVATE-fbEntstreamAttachmentShare__root";d=e&&b("CSS").hasClass(e,d)?e:b("DOMQuery").scry(e,"."+d)[0];d=d?d:e;d instanceof HTMLElement&&b("LitestandShareAttachment").init(d)}else a.type==="TIP_JAR_PAYMENT"&&b("GamesVideoFanSupportAttachmentHandler").registerFanSupportAttachment(c)}else if(a&&a.type=="video"&&!a.markup){e=b("XVideoInLiveCommentPreviewController").getURIBuilder();new(b("AsyncRequest"))(e.getURI()).setMethod("POST").setData({video_id:a.target.id}).setHandler(function(a){this.renderAttachment(a.payload.video_preview.video_comment)}.bind(this)).send()}else a&&a.type=="gif"&&!a.markup?new(b("AsyncRequest"))(b("XAnimatedImageInLiveCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="file"&&!a.markup?new(b("AsyncRequest"))(b("XFileCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="donation"&&!a.markup?new(b("AsyncRequest"))(b("XDonationCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="TIP_JAR_PAYMENT"&&!a.markup?new(b("AsyncRequest"))(b("XTipJarCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send():a&&a.type=="chat_command_result"&&!a.markup&&new(b("AsyncRequest"))(b("XChatCommandResultCommentPreviewController").getURIBuilder().getURI()).setMethod("POST").setData({comment_id:this.props.comment.id,dom_selector:"div#"+this.$4(a.type)}).send()};a.prototype.renderSticker=function(a){var c=this.$3(Number(a.metadata.height),Number(a.metadata.width)),d=null,e=null;window.devicePixelRatio&&window.devicePixelRatio>1?(d=a.metadata.sprite_uri_2x,e=a.metadata.source_uri_2x):(d=a.metadata.sprite_uri,e=a.metadata.source_uri);return b("React").createElement(b("BootloadedComponent.react"),{accessibilityLabel:a.metadata.accessibilityLabel,bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("Sticker.react").__setRef("UFICommentAttachment.react"),className:"UFICommentStickerAttachment",animationTrigger:"load_and_hover",frameCount:a.metadata.frameCount,frameRate:a.metadata.frameRate,framesPerCol:a.metadata.framesPerCol,framesPerRow:a.metadata.framesPerRow,spriteURI:d,sourceHeight:c.height,sourceURI:e,sourceWidth:c.width,testID:n})};a.prototype.renderPhoto=function(a){var c="-cx-PRIVATE-fbEntstreamMediaPhoto__photocommentlink -cx-PRIVATE-fbEntstreamMediaPhoto__photolink";return b("React").createElement("div",{className:"-cx-PRIVATE-fbEntstreamMediaPhoto__livephotocommentwrapper"},b("React").createElement(b("Link.react"),{className:c,"data-testid":l,rel:"theater",href:a.metadata.url},b("React").createElement("div",{style:{height:a.metadata.height}},b("React").createElement(b("Image.react"),{src:a.metadata.preview_uri}))))};a.prototype.renderShare=function(a){return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("UFILiveCommentLinkPreview.react").__setRef("UFICommentAttachment.react"),attachment:a})};a.prototype.renderLivePlaceInfo=function(a){return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("PlaceListLiveCommentAttachment.react").__setRef("UFICommentAttachment.react"),commentID:this.props.comment.fbid,data:a,postID:this.props.comment.ftentidentifier})};a.prototype.renderPlaceInfo=function(a){var c=this.props.comment.__typename==="local"||this.state.localCommentIDs[this.props.comment.id];return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("MultiPlacePageInfoCard.react").__setRef("UFICommentAttachment.react"),isLocallyComposed:c,postID:this.props.comment.ftentidentifier,actorID:this.props.comment.author},a.props))};a.prototype.renderProductInfo=function(a){return a.props.category==="Books"?b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("ProductBookRecommendationCard.react").__setRef("UFICommentAttachment.react")},a.props)):b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),bootloadLoader:b("JSResource")("ProductRecommendationCard.react").__setRef("UFICommentAttachment.react")},a.props))};a.prototype.renderUpsellInfo=function(a){if(a.subtype){if(a.subtype=="question_triggered_page_msg")return b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement(b("XUISpinner.react"),null)},b("React").createElement(i,a));if(a.subtype=="private_reply_user_msg")return b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement(b("XUISpinner.react"),null)},b("React").createElement(j,a))}return b("React").createElement("span",null)};a.prototype.$4=function(a){return a+"_comment_attachment_"+this.props.comment.id+this.state.randomInstanceID};a.prototype.render=function(){__p&&__p();var a=this.$2(this.props.comment);if(a)if(a.type==="sticker")return this.renderSticker(a);else if(a.type==="gif"||a.type==="donation"||a.type==="TIP_JAR_PAYMENT"||a.type==="chat_command_result")return b("React").createElement("div",{ref:"contents",id:this.$4(a.type)},b("React").createElement(b("XUISpinner.react"),null));else if(a.type==="photo")return this.renderPhoto(a);else if(a.type==="live_share")return this.renderShare(a);else if(a.type=="comment_place_info")return this.renderPlaceInfo(a);else if(a.type=="live_comment_place_info")return this.renderLivePlaceInfo(a);else if(a.type=="comment_product_info")return this.renderProductInfo(a);else if(a.type=="upsell_info")return this.renderUpsellInfo(a);else return b("React").createElement("div",{ref:"contents"});return b("React").createElement("span",null)};e.exports=a}),null);
__d("isRTL",["UnicodeBidi","UnicodeBidiDirection"],(function(a,b,c,d,e,f){function a(a){return b("UnicodeBidi").getDirection(a)===b("UnicodeBidiDirection").RTL}e.exports=a}),null);
__d("TextDelightRange.react",["cx","Bootloader","CommentPrivacyValue","PrivateCommentsConfig","React","SubscriptionsHandler","createObjectFrom"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=!1,this.$3=new(b("SubscriptionsHandler"))(),c}a.prototype.componentDidMount=function(){this.$2=!0,this.props.campaignID&&b("Bootloader").loadModules(["TextDelightController"],function(a){if(this.$2===!1)return;this.$3.addSubscriptions(a.attachClickListener(this.$1,this.props.campaignID,this.props.children,this.props.surface));this.$4=a}.bind(this),"TextDelightRange.react")};a.prototype.componentWillUnmount=function(){this.$2=!1,this.$3.release(),this.$4&&this.$4.stopAnimation()};a.prototype.render=function(){__p&&__p();var a=this.props.delightStyles.filter(function(a){a=a.style;return a!=null&&!(a==="color"&&this.props.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER&&b("PrivateCommentsConfig").dark_comment_theme_enabled)}.bind(this));return b("React").createElement("span",{className:"-cx-PRIVATE-textdelight__delight -cx-PUBLIC-textdelight__delight",style:b("createObjectFrom")(a.map(function(a){a=a.style;return a.replace(/-([a-z])/gi,function(a,b){return b.toUpperCase()})}),a.map(function(a){a=a.value;return a?a.replace("bold","600"):a})),ref:function(a){this.$1=a}.bind(this)},this.props.children)};e.exports=a}),null);
__d("VideoTimestampsClicksWWWTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setIsContentTimestamp=function(a){this.$1.is_content_timestamp=a;return this};a.prototype.setLocalCommentFeedbackID=function(a){this.$1.local_comment_feedback_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoTimestamp=function(a){this.$1.video_timestamp=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={comment_id:!0,is_content_timestamp:!0,local_comment_feedback_id:!0,time:!0,vc:!0,video_timestamp:!0,weight:!0};e.exports=a}),null);
__d("UFISocialContext.react",["fbt","HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=27;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=this.props.topMutualFriend,c=this.props.otherMutualCount,d=this.props.commentAuthor,e=b("HovercardLink").constructEndpoint(a).toString();e=b("React").createElement("a",{href:a.uri,"data-hovercard":e,key:"top"},a.name);var f=d.name.length+a.name.length,h;if(c===0)h=g._("Friends with {name}",[g._param("name",e)]);else if(f<i){c==1?f=g._("1 other"):f=g._({"*":"{count} others"},[g._param("count",c,[0])]);h=g._("Friends with {name} and {others}",[g._param("name",e),g._param("others",this.getOthersLink(f,d,a))])}else{e=g._({"*":"{count} mutual friends"},[g._param("count",c+1,[0])]);h=this.getOthersLink(e,d)}return b("React").createElement("span",{className:"UFICommentSocialContext"},h)};a.prototype.getOthersLink=function(a,c,d){var e=b("ProfileBrowserTypes").MUTUAL_FRIENDS,f={uid:c.id};c=new(b("URI"))("/ajax/mutual_friends/tooltip.php").setQueryData({friend_id:c.id});d&&c.addQueryData({exclude_id:d.id});d=b("ProfileBrowserLink").constructDialogURI(e,f).toString();return b("React").createElement("a",{ajaxify:d,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":c.toString(),href:b("ProfileBrowserLink").constructPageURI(e,f).toString(),key:"others",rel:"dialog"},a)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentAuthorName.react",["ix","cx","Badge.react","BootloadedComponent.react","Image.react","JSResource","Placeholder.react","React","TrackingNodes","UFIActor.react","UFISocialContext.react","asset","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("lazyLoadComponent")(b("JSResource")("GroupMemberBadgeWithTooltip.react").__setRef("UFICommentAuthorName.react"));c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.author,d=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_NAME),e=null,f=a.isAuthorOriginalPoster&&!a.isFeatured;f&&(e=b("React").createElement("div",{className:"UFIOPIconContainer","data-tooltip-alignh":"center","data-hover":"tooltip","data-tooltip-content":"Original poster",key:"badge"},b("React").createElement("i",{className:"UFIOriginalPosterIcon"})));return b("React").createElement(b("UFIActor.react"),{author:c,"data-ft":d,disableAuthorLink:a.disableAuthorLink,focusOnMount:a.focusOnMount,groupOrEventID:a.groupOrEventID,hovercardLocation:a.hovercardLocation,isAdminViewer:a.isAdminViewer,isAuthorBot:a.isAuthorBot,isAuthorNonCoworker:a.isAuthorNonCoworker,isAuthorWeakReference:a.isAuthorWeakReference,isPublic:this.props.isPublic,key:"author",dialogUrl:a.dialogUrl,target:this.props.openLinkInNewTab?"_blank":"_self",onClick:this.props.onLinkClickCallback,showHovercard:a.showHovercard,useFirstName:a.useFirstName},e,a.isFeatured?b("React").createElement(b("Badge.react"),{key:"badge",size:"xsmall",type:"verified"}):null,this.$1(c),this.$2(c),this.$3(),this.$4(),a.socialContext?b("React").createElement(b("UFISocialContext.react"),{topMutualFriend:a.authorProfiles[a.socialContext.topmutualid],otherMutualCount:a.socialContext.othermutualcount,commentAuthor:c}):null)};a.prototype.$2=function(a){var c=this.props.constituentBadge;if(c&&c.officeTitle&&c.representativeName&&c.commentId)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:b("React").createElement("div",null),authorFirstName:a.firstName,authorId:a.id,commentId:c.commentId,ftId:c.ftId,isOwner:c.isOwner,key:"constituentTitle",officeTitle:c.officeTitle,representativeName:c.representativeName,representativeId:c.representativeId,upsellEnabled:c.upsellEnabled});return this.props.hasConstituentBadge?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ConstituentBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:b("React").createElement("div",null),authorFirstName:a.firstName,authorId:a.id,commentId:this.props.commentID,key:"constituentTitle"}):null};a.prototype.$1=function(a){return this.props.hasFriendsOnlyBadge?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FriendsOnlyBadge.react").__setRef("UFICommentAuthorName.react"),bootloadPlaceholder:b("React").createElement(b("Image.react"),{key:"friendsOnlyBadge",src:g("FuwX9SL5BTA_images/assets_DO_NOT_HARDCODE/facebook_icons/friends_filled_12_fds-blue-60.png"),style:{marginLeft:"3px",verticalAlign:"-1px"}}),key:"friendsOnlyBadge",viewerIsAuthor:!!this.props.viewerIsAuthor,authorFirstName:a.firstName,commentPrivacyValue:this.props.commentPrivacyValue}):null};a.prototype.$3=function(){return!this.props.moderatorBadgeText?null:b("React").createElement(b("Image.react"),{className:"-cx-PRIVATE-UFICommentActor_badge__root",key:"moderatorBadge",src:g("PxEXj4a7ewo_images/assets_DO_NOT_HARDCODE/facebook_icons/badge-moderator_filled_12_fig-blue.png"),"data-hover":"tooltip","data-tooltip-content":this.props.moderatorBadgeText})};a.prototype.$4=function(){var a=this.props.groupMemberBadge;return!a?null:b("React").createElement(b("Placeholder.react"),{key:"groupMemberBadge",fallback:b("React").createElement("div",null)},b("React").createElement(j,babelHelpers["extends"]({className:"-cx-PRIVATE-fbGroupsMemberTag__commentglyphtag",badgeText:"",renderAsPill:!1,showText:!1},a)))};function a(){i.apply(this,arguments)}a.propTypes={author:c.object.isRequired,authorProfiles:c.object.isRequired,commentID:c.string,commentPrivacyValue:c.number,constituentBadge:c.object,groupMemberBadge:c.object,dialogUrl:c.string,disableAuthorLink:c.bool,focusOnMount:c.bool,groupOrEventID:c.string,hasConstituentBadge:c.bool,hasFriendsOnlyBadge:c.bool,hovercardLocation:c.string,isAdminViewer:c.bool,isAuthorBot:c.bool,isAuthorNonCoworker:c.bool,isAuthorWeakReference:c.bool,isAuthorOriginalPoster:c.bool,isFeatured:c.bool,isPublic:c.bool,moderatorBadgeText:c.string,showHovercard:c.bool,socialContext:c.object,useFirstName:c.bool,viewerIsAuthor:c.bool,openLinkInNewTab:c.bool,onLinkClickCallback:c.func};e.exports=a}),null);
__d("UFICommentBody.react",["cx","CommentPrivacyValue","IntlLang","Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UFICommentUtils","UFIConfig","UFIConstants","UnicodeBidi"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.commentText,d=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_MESSAGE),e=b("UnicodeBidi").isDirectionLTR(c),f=!e,g=e&&b("Locale").isRTL()?"ltr":f&&!b("Locale").isRTL()?"rtl":null,h=b("IntlLang").getLang(c),i=b("UFICommentUtils").getCommentBodyInterpolator(a.groupOrEventID,a.ufiInstanceID,a.commentFBID,!!a.isLiveStreaming,a.commentPrivacy);i=b("React").createElement(b("TruncatedTextWithEntities.react"),{key:"comment-body",className:"UFICommentBody"+(a.showEmojisStandalone?" -cx-PRIVATE-UFISutroComment__standaloneemojis":""),interpolator:i,ranges:a.commentRanges,textDelightRanges:a.textDelightRanges,text:c,truncationPercent:b("UFIConstants").commentTruncationPercent,maxLength:a.maxLength,maxLines:a.maxLines,renderEmoticons:b("UFIConfig").renderEmoticons,renderEmoji:b("UFIConfig").renderEmoji,showEmojisStandalone:a.showEmojisStandalone,"data-ft":d,dir:g,lang:h,markViewerHasInteracted:this.props.markViewerHasInteracted,allowSeeMoreLinebreakOnLongWords:!0,shouldExpand:this.props.shouldExpand});if(a.socialContext)i=b("React").createElement("div",{key:"body"},i);else{c=(e&&b("Locale").isRTL()?"-cx-PRIVATE-intlTextDirFix__alignleft":"")+(e&&b("Locale").isRTL()?" -cx-PRIVATE-intlTextDirFix__clearleft":"")+(f&&!b("Locale").isRTL()?" -cx-PRIVATE-intlTextDirFix__alignright":"")+(f&&!b("Locale").isRTL()?" -cx-PRIVATE-intlTextDirFix__clearright":"");i=c?b("React").createElement("div",{key:"body",className:c},i):[" ",i]}return b("React").createElement("span",null,i)};function a(){h.apply(this,arguments)}a.propTypes={commentText:c.string.isRequired,commentRanges:c.array,commentPrivacy:c.oneOf(Object.values(b("CommentPrivacyValue"))),textDelightRanges:c.array,showEmojisStandalone:c.bool,groupOrEventID:c.string,maxLength:c.number,maxLines:c.number,socialContext:c.object,markViewerHasInteracted:c.func,ufiInstanceID:c.string,commentFBID:c.oneOfType([c.string,c.number]),isLiveStreaming:c.bool,shouldExpand:c.bool};e.exports=a}),null);
__d("UFICommentLiveVideoAnnouncementImage.react",["ix","cx","CurrentUser","Image.react","LiveVideoAnnouncementGlyph","React","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.$1();if(!a)return b("React").createElement("span",null);var c=b("CurrentUser").isWorkUser();return this.props.isJoinEvent?b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentLiveVideoAnnouncement__background"},b("React").createElement(b("Image.react"),{className:"-cx-PRIVATE-UFICommentLiveVideoAnnouncement__joineventimage",src:a})):b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentLiveVideoAnnouncement__background"+(c?"":" -cx-PRIVATE-UFICommentLiveVideoAnnouncement__sutrobackground")+(c?" -cx-PRIVATE-UFICommentLiveVideoAnnouncement__sutroworkplacebackground":"")},b("React").createElement(b("Image.react"),{className:"-cx-PRIVATE-UFICommentLiveVideoAnnouncement__image",height:20,src:a,width:20}))};a.prototype.$1=function(){__p&&__p();if(!this.props.isJoinEvent)if(b("CurrentUser").isWorkUser())return g("CJrthjYcEqu_images/assets_DO_NOT_HARDCODE/fb_glyphs/app-workplace_20_fig-dark-50.png");else return g("29MdUfMIEwu_images/assets_DO_NOT_HARDCODE/fb_glyphs/app-facebook_20_fig-white.png");if(this.props.image)return this.props.image;switch(this.props.glyphName){case b("LiveVideoAnnouncementGlyph").COMMENT:return g("Ak0oUAu8_iX_images/assets_DO_NOT_HARDCODE/fb_glyphs/comment_20_fig-white.png");case b("LiveVideoAnnouncementGlyph").EYE:return g("j-ZYuR86P8p_images/assets_DO_NOT_HARDCODE/fb_glyphs/eye_20_fig-white.png");case b("LiveVideoAnnouncementGlyph").BULB:return g("q5XFCyjNvbs_images/assets_DO_NOT_HARDCODE/fb_glyphs/bulb_20_fig-white.png");case b("LiveVideoAnnouncementGlyph").LIKE:return g("DTEx7lMqfQX_images/assets_DO_NOT_HARDCODE/fb_glyphs/like_20_fig-white.png");default:return null}};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AuthorPinnedCommentsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCommentID=function(a){this.$1.comment_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={comment_id:!0,event:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XUIAbstractGlyphButton.react",["cx","AbstractButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"-cx-PRIVATE-xuiGlyphButton__root"),label:this.props.label}))};function a(){h.apply(this,arguments)}a.propTypes=b("AbstractButton.react").propTypes;e.exports=a}),null);
__d("XUICircleDotsButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=this.props,c=a.className,d=a.label;a=a.tooltip;var e=this.props.title;!this.props.title&&!a&&(e=d);return b("React").createElement(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:d,title:e,"data-hover":a&&"tooltip","data-tooltip-alignh":a&&"center","data-tooltip-content":a,className:b("joinClasses")(c,"-cx-PRIVATE-xuiCircleDotsButton__button")}))};function a(){"use strict";i.apply(this,arguments)}a.defaultProps={label:h._("Manage")};e.exports=a}),null);
__d("XUICloseButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=this.props.size,c=this.props.shade;a="-cx-PRIVATE-xuiCloseButton__root"+(a==="small"?" -cx-PRIVATE-xuiCloseButton__small":"")+(a==="medium"?" -cx-PRIVATE-xuiCloseButton__medium":"")+(a==="large"?" -cx-PRIVATE-xuiCloseButton__large":"")+(c==="light"?" -cx-PRIVATE-xuiCloseButton__light":"")+(c==="dark"?" -cx-PRIVATE-xuiCloseButton__dark":"");c=this.props.label;var d=this.props.title;!this.props.title&&!this.props.tooltip&&(d=c);return b("React").createElement(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:c,title:d,type:this.props.href?void 0:this.props.type,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:b("joinClasses")(this.props.className,a)}))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={shade:c.oneOf(["light","dark"]),size:c.oneOf(["small","medium","large"]),title:c.string,tooltip:c.string,type:c.oneOf(["submit","button","reset"])};a.defaultProps={label:h._("Remove"),size:"medium",shade:"dark",type:"button"};e.exports=a}),null);
__d("XUIDotsButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=this.props,c=a.label,d=a.shade,e=a.size;a=a.tooltip;e=(e==="small"?"-cx-PRIVATE-xuiDotsButton__small":"")+(e==="medium"?" -cx-PRIVATE-xuiDotsButton__medium":"")+(e==="large"?" -cx-PRIVATE-xuiDotsButton__large":"")+(d==="light"?" -cx-PRIVATE-xuiDotsButton__light":"")+(d==="dark"?" -cx-PRIVATE-xuiDotsButton__dark":"");d=this.props.title;!this.props.title&&!a&&(d=c);return b("React").createElement(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:c,title:d,"data-hover":a&&"tooltip","data-tooltip-alignh":a&&"center","data-tooltip-content":a,className:b("joinClasses")(this.props.className,e)}))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={shade:c.oneOf(["light","dark"]),size:c.oneOf(["small","medium","large"]),title:c.node,tooltip:c.node};a.defaultProps={label:h._("Manage"),size:"small",shade:"dark"};e.exports=a}),null);
__d("XUIEditButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=this.props.label,c=this.props.title;!this.props.title&&!this.props.tooltip&&(c=a);return b("React").createElement(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:a,title:c,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:b("joinClasses")(this.props.className,"-cx-PRIVATE-xuiEditButton__small -cx-PRIVATE-xuiEditButton__dark")}))};function a(){"use strict";i.apply(this,arguments)}a.defaultProps={label:h._("Edit")};e.exports=a}),null);
__d("UFICommentMenu.react",["ix","cx","AuthorPinnedCommentLogger","Bootloader","Image.react","React","XUICircleDotsButton.react","XUICloseButton.react","XUIDotsButton.react","XUIEditButton.react","fbglyph","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k;c=b("React").PropTypes;var l,m,n,o,p,q=b("keyMirror")({EDIT:!0,CLOSE:!0,CHEVRON:!0,DOTS:!0,TOOLTIP:!0});d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={bootloading:!1,bootloaded:!1,needsExpand:!1},this.onClickGuard=function(a){if(this.state.bootloading)return;else!this.state.bootloaded&&this.props.menuData&&(this.setState({bootloading:!0}),b("Bootloader").loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu","XUIMenuSeparator.react"],function(a,b,c,d){l=a,m=b,n=c,o=c.Item,p=d,this.setState({bootloading:!1,bootloaded:!0,needsExpand:!0})}.bind(this),"UFICommentMenu.react"));this.props.onClick&&this.props.onClick(a)}.bind(this),c}a.prototype.shouldComponentUpdate=function(a,b){return this.state.needsExpand&&!b.needsExpand?!1:!0};a.prototype.componentDidUpdate=function(){this.state.needsExpand&&(this.refs.menu.showPopover(),this.props.onMenuShown&&this.props.onMenuShown(),this.setState({needsExpand:!1}))};a.prototype.$1=function(){switch(this.props.menuType){case q.EDIT:return b("XUIEditButton.react");case q.CLOSE:return b("XUICloseButton.react");case q.DOTS:return this.props.showRedesign?b("XUICircleDotsButton.react"):b("XUIDotsButton.react");case q.TOOLTIP:return r;case q.CHEVRON:default:return s}};a.prototype.$2=function(a){return a.map(function(a){var c=this.$3(a.value),d=this.props.commentID||"";a.testid==="ufi_comment_menu_pin_by_author"?b("AuthorPinnedCommentLogger").logPinButtonShown(d.toString()):a.testid==="ufi_comment_menu_unpin_by_author"&&b("AuthorPinnedCommentLogger").logUnpinButtonShown(d.toString());return b("React").createElement(o,{className:"-cx-PRIVATE-UFICommentMenu__item","data-testid":a.testid,key:a.value,value:a.value},c,a.label)}.bind(this))};a.prototype.$3=function(a){__p&&__p();switch(a){case"edit":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__edit"});case"hide":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__hide"});case"remove":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__remove"});case"delete_and_block":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__delete_and_block"});case"delete_comment_with_feedback":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__delete_comment_with_feedback"});case"delete_comment_and_remove_commenter":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__delete_comment_and_remove_commenter"});case"mute_member":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__mute_member"});case"hide_text_delights":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__hide_text_delights"});case"pin_by_author":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__pin_by_author"});case"unpin_by_author":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__unpin_by_author"});case"live_video_pin":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__live_video_pin"});case"live_video_unpin":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__live_video_unpin"});case"view_edit_history":return b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentMenu__icon -cx-PRIVATE-UFICommentMenu__view_edit_history"});default:return null}};a.prototype.render=function(){var a=this.$1();if(this.state.bootloaded){var c=[];this.props.menuData&&c.push.apply(c,this.$2(this.props.menuData));this.props.menuUserSection&&(c&&c.push(b("React").createElement(p,{key:"xui_separator"})),c.push.apply(c,this.$2(this.props.menuUserSection)));c=b("React").createElement(n,{onItemClick:this.props.onAction},c);return b("React").createElement(m,babelHelpers["extends"]({},this.props,{alignh:"right",position:this.props.showRedesign?"above":null,layerBehaviors:[l],menu:c,ref:"menu",onShow:this.props.onPopoverMenuShow,onHide:this.props.onPopoverMenuHide}),b("React").createElement(a,babelHelpers["extends"]({},this.props,{href:"#",onClick:this.onClickGuard})))}else return b("React").createElement(a,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"-cx-PRIVATE-Interaction__uficommentmenu"+(this.props.showPinnedCommentNux?" UFICommentCloseButtonNux":"")),href:"#",onClick:this.onClickGuard}))};a.MenuType=q;a.propTypes={menuData:c.array,menuUserSection:c.array,menuType:c.oneOf(Object.keys(q)).isRequired,onAction:c.func,onClick:c.func,onMenuShown:c.func,commentID:c.string};j=babelHelpers.inherits(r,b("React").Component);j&&j.prototype;r.prototype.render=function(){return b("React").createElement("a",this.props,b("React").createElement(b("Image.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,"aria-label":this.props.tooltip,src:g("VqnsoIUoaLW_images/assets_DO_NOT_HARDCODE/fb_glyphs/lock_12_fig-light-20.png"),"data-tooltip-alignh":"center"}))};function r(){j.apply(this,arguments)}k=babelHelpers.inherits(s,b("React").Component);k&&k.prototype;s.prototype.render=function(){return b("React").createElement("a",this.props,b("React").createElement(b("Image.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,"aria-label":this.props.tooltip,src:g("BFhiVQLZBhJ_images/assets_DO_NOT_HARDCODE/fb_glyphs/chevron-down_16_fig-light-20.png")}))};function s(){k.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentPlayerStatsCard.react",["cx","fbt","Image.react","Link.react","React","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="\xb7";i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.shouldComponentUpdate=function(){return!1};a.prototype.$1=function(){return b("React").createElement(b("Link.react"),{href:"#"},b("React").createElement(b("Image.react"),{className:"-cx-PRIVATE-gamesPlayerStatsCard__image"}))};a.prototype.$2=function(){return b("React").createElement(b("Link.react"),{href:"#"},b("React").createElement(b("XUIText.react"),{weight:"bold"},"Linkable"))};a.prototype.$3=function(a){return b("React").createElement("span",null,h._("{Stat Label}: {Stat Value}",[h._param("Stat Label",a.label),h._param("Stat Value",a.value)]))};a.prototype.$4=function(a){var c=a.stats.map(this.$3,this),d=[];for(var e=0;e<c.length;e+=2){var f=[];f.push(b("React").createElement("span",{key:"first_stat"},c[e]));e+1<c.length&&(f.push(b("React").createElement("span",{key:"separator"},b("React").createElement(b("XUIText.react"),{size:"header3"}," ",j," "))),f.push(b("React").createElement("span",{key:"second_stat"},c[e+1])));d.push(b("React").createElement("div",{key:"stat_row_"+e},f))}return b("React").createElement("div",{className:"-cx-PRIVATE-gamesPlayerStatsCard__statscontainer"},b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},a.persona)),d)};a.prototype.render=function(){var a=this.props.comment.playerStatsCardData;return!a?b("React").createElement("div",null):b("React").createElement("div",{className:"-cx-PRIVATE-gamesPlayerStatsCard__root"},this.$4(a))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentTranslationLink.react",["cx","ContentTranslationStrings","Link.react","React","TranslationTrigger","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();if(!this.props.showTranslation)return b("React").createElement(b("Link.react"),{className:"UFITranslateLink",onClick:function(){return this.$1()}.bind(this)},b("ContentTranslationStrings").SEE_TRANSLATION);var a=this.props.translationData;if(!a)return b("React").createElement("div",{className:"UFITranslateLink"},b("React").createElement(b("XUISpinner.react"),{background:"light",size:"small"}));var c=a.translatedText;if(!c||!c.text)return b("React").createElement("div",{className:"UFITranslationErrorText"},b("ContentTranslationStrings").NO_TRANSLATION_AVAILABLE);c=this.props.isShowingOriginal||a.trigger===b("TranslationTrigger").LOGGED_OUT_AUTO_TRANSLATION;c=c?b("React").createElement("div",{className:"UFITranslateAttribution"},b("ContentTranslationStrings").AUTOMATICALLY_TRANSLATED):b("React").createElement(b("Link.react"),{className:"UFITranslateLink",onClick:function(){return this.$2()}.bind(this)},this.props.shownInCommentActions?b("React").createElement("div",null,b("React").createElement("span",null,b("ContentTranslationStrings").SEE_ORIGINAL_LINK),b("React").createElement("span",null," ("+a.sourceDialectName+")")):b("ContentTranslationStrings").SEE_ORIGINAL_LINK);return c};a.prototype.$1=function(){this.props.onSeeTranslation&&this.props.onSeeTranslation()};a.prototype.$2=function(){this.props.onSeeOriginal&&this.props.onSeeOriginal()};function a(){h.apply(this,arguments)}a.defaultProps={shownInCommentActions:!1};e.exports=a}),null);
__d("UFICommentTranslationText.react",["cx","React","TranslationTrigger","TruncatedTextWithEntities.react","UFIConfig","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a);a=this.props.translationData;this.state={shouldExpand:this.props.shouldExpand||!!a&&a.trigger===b("TranslationTrigger").SEE_TRANSLATION}}a.prototype.render=function(){var a=this.props.translationData;if(!a||!this.props.showTranslation)return null;a=a.translatedText;return b("React").createElement(b("TruncatedTextWithEntities.react"),{className:"UFICommentBody",ranges:a.ranges,text:a.text,truncationPercent:b("UFIConstants").commentTruncationPercent,maxLength:b("UFIConstants").commentTruncationLength,maxLines:b("UFIConstants").commentTruncationMaxLines,renderEmoticons:b("UFIConfig").renderEmoticons,renderEmoji:b("UFIConfig").renderEmoji,dir:a.dir,shouldExpand:this.state.shouldExpand,markViewerHasInteracted:function(){return this.setState({shouldExpand:!this.state.shouldExpand})}.bind(this)})};a.defaultProps={shouldExpand:!1};e.exports=a}),null);
__d("UFICommentVPVTracker.react",["OnVisible.react","React","UFICommentVPVs","UFIConfig","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={timer:null},this.maybeScheduleVPVLogging=function(){if(this.state.timer!==null)return;var a=this.props.comment.id,c=this.props.contextArgs.instanceid;if(b("UFICommentVPVs").hasLoggedVPV(c,a))return;this.setState({timer:b("setTimeout")(function(){b("UFICommentVPVs").logVPV(c,a),this.setState({timer:null})}.bind(this),b("UFIConfig").vpvLoggingTimeout)})}.bind(this),this.cancelScheduledVPVLogging=function(){if(this.state.timer===null)return;b("clearTimeout")(this.state.timer);this.setState({timer:null})}.bind(this),c}a.prototype.render=function(){var a=this.props.comment.id,c=this.props.contextArgs.instanceid,d=this.props.children;c=b("UFICommentVPVs").hasLoggedVPV(c,a);return b("React").createElement(b("OnVisible.react"),{onVisible:c?null:this.maybeScheduleVPVLogging,onHidden:c?null:this.cancelScheduledVPVLogging},d)};a.prototype.shouldComponentUpdate=function(a,b){return b.timer===this.state.timer};a.prototype.UNSAFE_componentWillReceiveProps=function(){this.cancelScheduledVPVLogging()};a.prototype.componentWillUnmount=function(){this.cancelScheduledVPVLogging()};a.propTypes={comment:c.object.isRequired,contextArgs:c.object.isRequired};e.exports=a}),null);
__d("UFICommentVoteArrow.react",["cx","Arbiter","FBFeedLocations","JSResource","Placeholder.react","React","UFIConstants","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("lazyLoadComponent")(b("JSResource")("UFICommentVoteFirstArrowNUX.react").__setRef("UFICommentVoteArrow.react")),j=b("lazyLoadComponent")(b("JSResource")("UFICommentVoteNUX.react").__setRef("UFICommentVoteArrow.react")),k="TahoeView/selectCommentTab";c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={enableFirstArrowNux:!0},this.arrowRef=null,this.setArrowRef=function(a){this.arrowRef=a,this.$1()&&this.forceUpdate()}.bind(this)}a.prototype.componentDidMount=function(){this.props.isFirstComment&&this.props.contextArgs.feedLocationType===b("FBFeedLocations").TAHOE&&(this.setState({enableFirstArrowNux:!1}),b("Arbiter").subscribe(k,function(){return this.setState({enableFirstArrowNux:!0})}.bind(this)))};a.prototype.render=function(){var a=this.props,c=a.arrowType,d=a.hasViewerVoted,e=a.onArrowClick;a=a.UIVersion;var f=c===b("UFIConstants").UFICommentVoteType.UPVOTE,g=f&&d;f=f&&!d;c=c===b("UFIConstants").UFICommentVoteType.DOWNVOTE;var h=c&&d;c=c&&!d;return b("React").createElement("a",{className:(a===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE?"-cx-PUBLIC-ufiCommentVoteIcons__16":"")+(g?" -cx-PRIVATE-ufiCommentVoteIcons__highlighteduparrow":"")+(f?" -cx-PRIVATE-ufiCommentVoteIcons__uparrow":"")+(h?" -cx-PRIVATE-ufiCommentVoteIcons__highlighteddownarrow":"")+(c?" -cx-PRIVATE-ufiCommentVoteIcons__downarrow":""),href:"#",onClick:function(){e(),this.shouldRenderArrowNUX=!0}.bind(this),ref:this.setArrowRef,role:"button"},this.$2(),this.$3())};a.prototype.$2=function(){if(!this.shouldRenderArrowNUX)return null;var a=null;this.props.UIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE&&(a=this.props.nuxConfigs.voteArrowNUXV2);return!a||!this.arrowRef?null:b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(j,{context:this.arrowRef,nuxConfig:a,UIVersion:this.props.UIVersion,arrowNUXTextV2:this.props.arrowNUXTextV2}))};a.prototype.$1=function(){return Boolean(this.props.isFirstComment&&this.props.nuxConfigs.voteFirstArrowNUXV2&&this.props.UIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE&&this.arrowRef&&this.state.enableFirstArrowNux)};a.prototype.$3=function(){return!this.$1()?null:b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(i,{context:this.arrowRef,firstArrowNUXTitleV2:this.props.firstArrowNUXTitleV2,firstArrowNUXBodyV2:this.props.firstArrowNUXBodyV2,nuxConfig:this.props.nuxConfigs.voteFirstArrowNUXV2}))};e.exports=a}),null);
__d("UFICommentVoteArrowTooltip.react",["cx","BootloadedComponent.react","JSResource","React","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=300;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("ReactCSSTransitionGroup").__setRef("UFICommentVoteArrowTooltip.react"),context:this.refs.root,transitionEnter:!0,transitionEnterTimeout:2*i,transitionLeave:!0,transitionLeaveTimeout:2*i,transitionName:{enter:"-cx-PUBLIC-ufiCommentVoteTooltips__arrowtooltipbubble-enter",enterActive:"-cx-PUBLIC-ufiCommentVoteTooltips__arrowtooltipbubble-enteractive",leave:"-cx-PUBLIC-ufiCommentVoteTooltips__arrowtooltipbubble-leave",leaveActive:"-cx-PUBLIC-ufiCommentVoteTooltips__arrowtooltipbubble-leaveactive"}},this.$1())};a.prototype.$1=function(){if(this.props.UIVersion!==b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE||this.props.displayedArrowTooltipType===b("UFIConstants").UFICommentVoteType.NONE)return null;var a=null;switch(this.props.displayedArrowTooltipType){case b("UFIConstants").UFICommentVoteType.UPVOTE:a=this.props.promoteText;break;case b("UFIConstants").UFICommentVoteType.DOWNVOTE:a=this.props.demoteText;break}return a===null?null:b("React").createElement("div",{className:"-cx-PUBLIC-ufiCommentVoteTooltips__arrowtooltipbubble"},a)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentVoteCount.react",["cx","React","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.voteCount,d=a.voteState,e=a.UIVersion;a=a.voteCountFormatter;var f=d===b("UFIConstants").UFICommentVoteType.UPVOTE,g=d===b("UFIConstants").UFICommentVoteType.DOWNVOTE;d=d===b("UFIConstants").UFICommentVoteType.NONE;e=e===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE;var h=null;e&&(c<0?g?h=a(-1):h=a(0):h=a(c));return h===null?null:b("React").createElement("a",{className:(e?"-cx-PUBLIC-ufiCommentVoteIcons__16":"")+" -cx-PRIVATE-ufiCommentVoteIcons__count"+(f?" -cx-PRIVATE-ufiCommentVoteIcons__upvotedcolor":"")+(g?" -cx-PRIVATE-ufiCommentVoteIcons__downvotedcolor":"")+(d?" -cx-PRIVATE-ufiCommentVoteIcons__notvotedcolor":""),href:"#"},h)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentVote.react",["cx","React","UFICommentVoteArrow.react","UFICommentVoteArrowTooltip.react","UFICommentVoteCount.react","UFIConstants","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=babelHelpers.inherits(i,b("React").Component);h=a&&a.prototype;function i(a){h.constructor.call(this,a),this.state={displayedArrowTooltipType:b("UFIConstants").UFICommentVoteType.NONE},this.$2=function(){this.setState({displayedArrowTooltipType:b("UFIConstants").UFICommentVoteType.NONE})}.bind(this),i.disableFirstArrowTooltipDisplay=this.props.nuxConfigs.voteArrowNUXV2!==null,this.$1=b("debounce")(this.$2,this.props.arrowTooltipDisplayTimeMS)}i.prototype.render=function(){var a=this.props,c=a.contextArgs,d=a.feedback,e=a.UIVersion,f=a.voteCount,g=a.voteState,h=a.onUpArrowClick,i=a.onDownArrowClick,j=a.arrowNUXTextV2,k=a.firstArrowNUXTitleV2;a=a.firstArrowNUXBodyV2;var l=this.props.voteCountFormatter(f).length<4;return b("React").createElement("div",{className:(e===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE?"-cx-PRIVATE-ufiCommentVoteIcons__verticalroot":"")+(l?" -cx-PRIVATE-ufiCommentVoteIcons__verticalrootshortcountalign":"")+(l?"":" -cx-PRIVATE-ufiCommentVoteIcons__verticalrootlongcountalign")},b("React").createElement(b("UFICommentVoteArrow.react"),{arrowType:b("UFIConstants").UFICommentVoteType.UPVOTE,contextArgs:c,feedback:d,hasViewerVoted:g===b("UFIConstants").UFICommentVoteType.UPVOTE,UIVersion:e,onArrowClick:function(){h(),this.$3(b("UFIConstants").UFICommentVoteType.UPVOTE)}.bind(this),isFirstComment:this.props.isFirstComment,arrowNUXTextV2:j,firstArrowNUXTitleV2:k,firstArrowNUXBodyV2:a,nuxConfigs:this.props.nuxConfigs}),b("React").createElement(b("UFICommentVoteCount.react"),{voteCount:f,voteCountFormatter:this.props.voteCountFormatter,voteState:g,UIVersion:e}),b("React").createElement(b("UFICommentVoteArrow.react"),{arrowType:b("UFIConstants").UFICommentVoteType.DOWNVOTE,contextArgs:c,feedback:d,hasViewerVoted:g===b("UFIConstants").UFICommentVoteType.DOWNVOTE,UIVersion:e,onArrowClick:function(){i(),this.$3(b("UFIConstants").UFICommentVoteType.DOWNVOTE)}.bind(this),arrowNUXTextV2:j,firstArrowNUXTitleV2:k,firstArrowNUXBodyV2:a,nuxConfigs:this.props.nuxConfigs}),this.props.promoteText&&this.props.demoteText&&b("React").createElement(b("UFICommentVoteArrowTooltip.react"),{displayedArrowTooltipType:this.state.displayedArrowTooltipType,UIVersion:e,promoteText:this.props.promoteText,demoteText:this.props.demoteText}))};i.prototype.$3=function(a){if(i.disableFirstArrowTooltipDisplay){i.disableFirstArrowTooltipDisplay=!1;return}var c=this.state.displayedArrowTooltipType;c===b("UFIConstants").UFICommentVoteType.NONE?this.props.voteState===a?this.$2():this.$4(a):c===a?this.$2():this.$4(a)};i.prototype.$4=function(a){this.setState({displayedArrowTooltipType:a}),this.$1()};i.disableFirstArrowTooltipDisplay=!1;i.defaultProps={arrowTooltipDisplayTimeMS:0,arrowNUXTextV2:"",firstArrowNUXTitleV2:"",firstArrowNUXBodyV2:"",nuxConfigs:{voteArrowNUXV2:null,voteFirstArrowNUXV2:null},voteCountFormatter:function(a){return a.toString()}};e.exports=i}),null);
__d("UFICommentVoteContainer.react",["FluxContainer","React","ReactDOM","UFICommentAction","UFICommentVote.react","UFICommentVoteSyncStore","UFIConstants","intlSummarizeNumber"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=function(a){return b("intlSummarizeNumber")(a)};c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getStores=function(){return[b("UFICommentVoteSyncStore")]};a.calculateState=function(a,c){return{voteCount:b("UFICommentVoteSyncStore").getVoteCount(c.comment.fbid),voteState:b("UFICommentVoteSyncStore").getVoteState(c.comment.fbid)}};a.prototype.render=function(){var a=this.props,c=a.comment,d=a.contextArgs,e=a.feedback;a=a.UIVersion;var f=this.state,g=f.voteCount,i=f.voteState,j=b("ReactDOM").findDOMNode(this.refs.trigger);return b("React").createElement(b("UFICommentVote.react"),{contextArgs:d,feedback:e,UIVersion:a,voteCount:g,voteState:i,onUpArrowClick:function(){return this.$1(d,c,j,i)}.bind(this),onDownArrowClick:function(){return this.$2(d,c,j,i)}.bind(this),isFirstComment:this.props.isFirstComment,promoteText:c.upvoteLabel,demoteText:c.downvoteLabel,arrowTooltipDisplayTimeMS:parseInt(c.voteLabelVisibleDuration*1e3,10),arrowNUXTextV2:c.arrowNUXTextV2,firstArrowNUXTitleV2:c.firstArrowNUXTitleV2,firstArrowNUXBodyV2:c.firstArrowNUXBodyV2,nuxConfigs:c.voteNuxConfigs,voteCountFormatter:h})};a.prototype.$1=function(a,c,d,e){this.$3(a,c,d,e,b("UFIConstants").UFICommentVoteType.UPVOTE)};a.prototype.$2=function(a,c,d,e){this.$3(a,c,d,e,b("UFIConstants").UFICommentVoteType.DOWNVOTE)};a.prototype.$3=function(a,c,d,e,f){this.context.dispatch(b("UFICommentAction").changeVote(a,c,d,e,f))};function a(){g.apply(this,arguments)}a.contextTypes={dispatch:c.func};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("UFILiveCommentRedesignActions.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","UFIReactionsLinkImpl.react","UFIThreadedFacecastCommentsUtils","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){var c=a.comment,d=a.commentMenu,e=a.contextArgs,f=a.feedback;if(c.__typename==="local")return null;var h=b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(c,e,f);return b("React").createElement("div",{className:"-cx-PUBLIC-UFILiveCommentRedesignActions__container"},b("React").createElement(b("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},e,{ftentidentifier:c.id}),comment:c,reaction:c.viewerreaction,supportedReactions:f.supportedreactions,ftIdentifier:e.ftentidentifier,showAlternateButtonForLiveStreamingRedesign:!0}),a.isInLiveVideoReplyMode||!b("UFIThreadedFacecastCommentsUtils").isEnabled(e)?null:b("React").createElement(b("AbstractButton.react"),{className:"-cx-PRIVATE-UFILiveCommentRedesignActions__replybutton",label:i._("Reply"),labelIsHidden:!0,onClick:function(a){a.preventDefault(),h&&h()},role:"button",image:b("React").createElement(b("Image.react"),{src:g("1vS1ZXmoX48_images/assets_DO_NOT_HARDCODE/facebook_icons/reply_filled_12_fds-gray-25.png")})}),d)};e.exports=a}),null);
__d("UFILiveCommentTimestamp.react",["cx","fbt","CommentPostedLiveState","Middot.react","React","ShimButton.react","TimeOffset","Tooltip.react","UFIVideoPlayerRegistry","VideoTimestampsClicksWWWTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.comment,d=a.contextArgs;a=a.isInLiveVideoReplyMode;a=c.parentcommentid&&a;var e=null;if(!a){var f=typeof c.videoTimeOffset==="number"?c.videoTimeOffset:0;e=b("React").createElement(b("ShimButton.react"),{className:"-cx-PRIVATE-uiLink__subtle",form:"link",onClick:function(a){a.preventDefault();a=new(b("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(f).setIsContentTimestamp(!0);c.__typename==="local"?a.setLocalCommentFeedbackID(c.ftentidentifier):a.setCommentID(c.fbid);a.log();b("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(d.instanceid,f)}},b("TimeOffset").timeToTimestamp(f))}a=null;c.postedLiveState===b("CommentPostedLiveState").LIVE?a=b("React").createElement(b("Tooltip.react"),{tooltip:h._("Comment posted while the video was live")},b("React").createElement(b("Middot.react"),{className:"-cx-PRIVATE-UFILiveCommentTimestamp__livedot"})):c.postedLiveState===b("CommentPostedLiveState").ON_DEMAND?a=b("React").createElement(b("Tooltip.react"),{tooltip:h._("Comment posted after the live video ended")},b("React").createElement(b("Middot.react"),{className:"-cx-PRIVATE-UFILiveCommentTimestamp__voddot"})):a=b("React").createElement(b("Middot.react"),{className:"-cx-PRIVATE-UFILiveCommentTimestamp__voddot"});return b("React").createElement("span",null,a,e)};function a(){i.apply(this,arguments)}a.propTypes={comment:c.shape({fbid:c.string,__typename:c.string,postedLiveState:c.oneOf([b("CommentPostedLiveState").LIVE,b("CommentPostedLiveState").ON_DEMAND]),videoTimeOffset:c.number,parentcommentid:c.string}).isRequired,contextArgs:c.shape({instanceid:c.string.isRequired}).isRequired,isInLiveVideoReplyMode:c.bool.isRequired};e.exports=a}),null);
__d("UFIReactionBadgeDecorator.react",["cx","FBFeedLocations","FeedbackSourceType","React","UFICommentReactionCount.react","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=300,j=180,k=200;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.rootElement=null,this.renderAtBottomCanceller=null,this.state={renderAtBottom:!0},b}a.prototype.componentDidMount=function(){this.props.onRenderAtBottomChange&&this.props.onRenderAtBottomChange(this.state.renderAtBottom);var a=i;this.props.contextArgs.source===b("FeedbackSourceType").PHOTOS_SNOWLIFT?a=j:this.props.contextArgs.source===b("FeedbackSourceType").TAHOE&&(a=k);var c=!0;this.renderAtBottomCanceller=b("queryThenMutateDOM")(function(){c=this.rootElement!==void 0&&this.rootElement!==null&&this.rootElement.offsetWidth>=a||this.props.isFullWidthAttachment===!0}.bind(this),function(){this.renderAtBottomCanceller=null,c||(this.setState({renderAtBottom:!1}),this.props.onRenderAtBottomChange&&this.props.onRenderAtBottomChange(!1))}.bind(this))};a.prototype.componentWillUnmount=function(){this.renderAtBottomCanceller&&this.renderAtBottomCanceller.cancel()};a.prototype.render=function(){var a,c=this.props.comment.reactioncount>0&&this.props.contextArgs.feedLocationType!=b("FBFeedLocations").CE_PII_AND_ATTACHMENTS_STRIPPED_FEED&&this.props.contextArgs.feedLocationType!=b("FBFeedLocations").CE_PII_STRIPPED_FEED?b("React").createElement(b("UFICommentReactionCount.react"),{comment:this.props.comment,actorForPost:this.props.feedback.actorforpost,supportedReactions:this.props.feedback.supportedreactions,contextArgs:this.props.contextArgs,showLiveStreamingRedesign:this.props.showLiveStreamingRedesign}):null;return b("React").createElement("div",{className:"-cx-PRIVATE-UFISutroComment__withreactionbadge"+(this.state.renderAtBottom?" -cx-PRIVATE-UFISutroComment__bottombadge":"")+(this.props.isFlexibleWidthAttachment?" -cx-PRIVATE-UFISutroComment__withflexiblewidthattachment":"")+(this.props.isFullWidthAttachment?" -cx-PRIVATE-UFISutroComment__withfullwidthattachment":"")+("comment_place_info"===((a=this.props.comment)!=null?(a=a.attachment)!=null?a.type:a:a)?" -cx-PRIVATE-fbPlacePageReadOnlyCard__isfullwidthattachment":""),ref:function(a){this.rootElement=a}.bind(this)},this.props.children,b("React").createElement("div",{className:"-cx-PRIVATE-UFISutroComment__reactionbadge"+(this.props.comment.reactioncount?" -cx-PRIVATE-UFISutroComment__reactionbadgewithcount":"")},c))};e.exports=a}),null);
__d("UFIComment.react",["ix","csx","cx","fbt","Arbiter","AsyncRequest","AvailableListState","BootloadedComponent.react","Bootloader","CommentApprovalsResponsibleUserAction","CommentPrivacyValue","Dialog","DOM","EmojiRenderer","FBFeedLocations","FeedbackActionType","FeedbackSourceType","FluxContainer","FRXDiglossiaQE","FRXEntryPoint","FRXServerFbt.react","HovercardLink","HTML","IdentityBadges.react","Image.react","InlineBlock.react","JSResource","LiveVideoAnnouncementCTAType","LiveVideoPinnedCommentUtils","LiveWWWFeedbackTypedLogger","LivingRoomPresenceBadge","LivingRoomProfileTileBadge.react","LoadingDialog.react","NFXStoryLocation","Placeholder.react","PrivateCommentsConfig","QE2Logger","React","ReactDOM","SelfCommentsGatingConfig","ShareNowConstants","ShimButton.react","SubscriptionsHandler","SutroBlingBarGatingConfig","SutroPhase2GatingConfig","Text.react","TextDelightNuxID","TrackingNodes","TranslationTrigger","UFIActorIconContainer.react","UFICentralUpdates","UFICommentAction","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentLiveVideoAnnouncementImage.react","UFICommentMenu.react","UFICommentPlayerStatsCard.react","UFIComments","UFICommentTranslationLink.react","UFICommentTranslationText.react","UFICommentUtils","UFICommentVoteContainer.react","UFICommentVPVDTracker.react","UFICommentVPVTracker.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIConfig","UFIConstants","UFIImageBlock.react","UFIInsightsSharingCommentTag.react","UFILiveCommentRedesignActions.react","UFILiveCommentTimestamp.react","UFILivePinnedCommentStore","UFIODSLogger","UFIReactionBadgeDecorator.react","UFIRootRegistry","UFISharedDispatcher","UFIThreadedFacecastCommentsUtils","UFIUIEvents","UFIVersion","UserHovercardLocation","VideoTipJarCommentBackground.react","WebCommentViewOption","WorkModeConfig","XRapidReportingDialogController","XSRXActionDialogController","XUFIEditCommentNuxController","XUIButton.react","XUIText.react","asset","emptyFunction","fbglyph","gkx","joinClasses","keyMirror","lazyLoadComponent","requireDeferred","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("lazyLoadComponent")(b("JSResource")("UFICommonalityBanner.react").__setRef("UFIComment.react")),m=b("requireDeferred")("PresenceStatus");c=b("React").PropTypes;var n=b("UFIConstants").UFIStatus,o="share_on_comment_v1",p="/ajax/nfx/start_dialog",q=Object.freeze({NEWSSTAND:"newsstand"}),r=b("keyMirror")({edit:!0,hide:!0,remove:!0,embed:!0,manageConstituentBadge:!0,delete_and_block:!0,delete_comment_with_feedback:!0,delete_comment_and_remove_commenter:!0,mute_member:!0,hide_text_delights:!0,bulk_review:!0,pin_by_author:!0,live_video_pin:!0,live_video_unpin:!0,report:!0,more:!0}),s="ufi_comment_close_button",t="ufi_highlighted_comment";d="ufi_comment_menu_delete";f="ufi_comment_menu_edit";h="ufi_comment_menu_hide";var u="ufi_comment_menu_report";i="ufi_comment_menu_embed";var v="ufi_comment_menu_manage_constituent_badge",w="ufi_comment_menu_delete_and_block",x="ufi_comment_menu_delete_comment_and_remove_commenter",y="ufi_comment_menu_delete_comment_with_feedback",z="ufi_comment_menu_mute_member",A="ufi_comment_hide_text_delights",B="ufi_comment_menu_pin_by_author",C="ufi_comment_menu_unpin_by_author",D="ufi_comment_menu_live_video_pin",E="ufi_comment_menu_live_video_unpin",F={testid:d,value:r.remove,label:j._("Delete Comment...")},G={testid:f,value:r.edit,label:j._("Edit...")},H={testid:h,value:r.hide,label:j._("Hide Comment")},I={testid:i,value:r.embed,label:j._("Embed")},J={testid:w,value:r.delete_and_block,label:j._("Delete Comment And Block User...")},K={testid:y,value:r.delete_comment_with_feedback,label:j._("Remove Comment")},L={testid:x,value:r.delete_comment_and_remove_commenter,label:j._("Delete Comment And Remove Member")},M={testid:d,value:r.remove,label:j._("Delete...")},N={testid:v,value:r.manageConstituentBadge,label:j._("Manage Constituent Badge")},O={testid:z,value:r.mute_member,label:j._("Mute Member")},P={testid:z,value:r.mute_member,label:j._("Unmute Member")},Q={testid:A,value:r.hide_text_delights,label:j._("Remove Text Effects")},R={testid:A,value:r.hide_text_delights,label:j._("Add Text Effects")},S={testid:B,value:r.pin_by_author,label:j._("Pin Comment")},T={testid:C,value:r.pin_by_author,label:j._("Unpin Comment")},U={testid:D,value:r.live_video_pin,label:j._("Pin Comment")},V={testid:E,value:r.live_video_unpin,label:j._("Unpin Comment")},W=14,X=3,Y=null,Z=function(a){a=a.status;return a===n.FAILED_ADD||a===n.FAILED_EDIT},$=function(a,b){return!!a.tipOptionIndex&&b===q.NEWSSTAND};function aa(a){return a.commenterIsFOF!==void 0&&a.userIsMinor!==void 0&&a.reportLink!==void 0&&a.isBroadcast!==void 0&&a.showStreamBanControls!==void 0}f=babelHelpers.inherits(a,b("React").Component);k=f&&f.prototype;a.prototype.getReportActionMenuData=function(){var a=this.props.contextArgs.frxActionTitle;return{testid:u,value:r.report,label:a?b("React").createElement(b("FRXServerFbt.react"),{blob:a}):null}};function a(a){__p&&__p();k.constructor.call(this,a);this.$1=null;this.$4=function(a){this.context.dispatch(b("UFICommentAction").markAsSpam(this.props.contextArgs,this.props.comment,a.target)),this.setState({markedAsSpamHere:!0})}.bind(this);this.$10=function(a){this.context.dispatch(b("UFICommentAction").markAsNotSpam(this.props.contextArgs,this.props.comment,a)),this.setState({markedAsSpamHere:!1})}.bind(this);this.$11=function(a){this.context.dispatch(b("UFICommentAction").remove(this.props.contextArgs,this.props.comment,a.target,function(){return this.setState({isInlinePageDeleted:!0})}.bind(this)))}.bind(this);this.$12=function(a){this.context.dispatch(b("UFICommentAction").remove(this.props.contextArgs,this.props.comment,a.target,b("emptyFunction")))}.bind(this);this.$18=function(a){this.context.dispatch(b("UFICommentAction").inlineBan(this.props.contextArgs,this.props.comment,a,this.props.feedback.ownerid)),this.setState({isInlineBanned:!0})}.bind(this);this.$19=function(a){this.context.dispatch(b("UFICommentAction").undoInlineBan(this.props.contextArgs,this.props.comment,a,this.props.feedback.ownerid)),this.setState({isInlineBanned:!1})}.bind(this);this.$20=function(a){this.context.dispatch(b("UFICommentAction").inlineStreamBan(this.props.contextArgs,this.props.comment,a,this.props.feedback.ownerid)),this.setState({isInlineStreamBanned:!0})}.bind(this);this.$21=function(a){this.context.dispatch(b("UFICommentAction").undoInlineStreamBan(this.props.contextArgs,this.props.comment,a,this.props.feedback.ownerid)),this.setState({isInlineStreamBanned:!1})}.bind(this);this.$24=function(a,c){__p&&__p();var d=c.item,e=d.getValue();window.setTimeout(function(){__p&&__p();var c=this.props,f=c.comment,g=c.contextArgs;c=c.feedback;if(e===r.remove)this.$12(a);else if(e===r.delete_and_block)this.$13(d);else if(e===r.delete_comment_with_feedback)this.$14(a);else if(e===r.delete_comment_and_remove_commenter)this.$15(a);else if(e===r.edit)this.context.dispatch(b("UFICommentAction").edit(g,f));else if(e===r.hide)this.$4(a);else if(e===r.report)this.$5(a);else if(e===r.more)this.$9(a);else if(e===r.mute_member)this.$16(a);else if(e===r.bulk_review)this.context.dispatch(b("UFICommentAction").bulkReview(g,f));else if(e===r.hide_text_delights)this.$17(a);else if(e===r.embed)this.context.dispatch(b("UFICommentAction").embed(g,f));else if(e===r.manageConstituentBadge)this.context.dispatch(b("UFICommentAction").manageConstituentBadge(g,f));else if(e===r.pin_by_author)this.context.dispatch(b("UFICommentAction").pinByAuthor(g,f,!f.ispinnedbyauthor));else if(e===r.live_video_pin||e===r.live_video_unpin){var h=e===r.live_video_unpin;if(h&&g.isLiveVOD){var i=b("UFILivePinnedCommentStore").getPinEventID(g.ftentidentifier);i!=null&&this.$2.addSubscriptions(b("LiveVideoPinnedCommentUtils").unpinVODComment(f.id,i,g))}else b("LiveVideoPinnedCommentUtils").toggleCommentPin({commentFBID:f.fbid,commentID:f.id,contextArgs:g,isPinned:h})}else b("UFICentralUpdates").inform(e,{comment:f,feedback:c})}.bind(this),0)}.bind(this);this.$25=function(){this.setState({showPinnedCommentNux:!1})}.bind(this);this.$28=function(a){this.setState({renderReactionBadgeAtBottom:a})}.bind(this);var c=a.comment;a=a.contextArgs;this.state={isHighlighting:c.highlightcomment,wasHighlighted:c.highlightcomment,markedAsSpamHere:!1,isInlinePageDeleted:!1,isInlineBanned:!1,isInlineStreamBanned:!1,loggedLiveUpdate:!1,showBody:!1,hideSpamComment:this.$3(),loadingDialogWhenSharing:!1,isHiddenInStreamingBecauseParentIsHidden:!1,hasSeenEditNux:!0,editNuxHelpUri:"",liveStreamingRedesignPopoverMenuShown:!1,renderReactionBadgeAtBottom:!0,showPinnedCommentNux:!!a.shouldShowPinnedCommentNux,authorPresenceStatus:b("AvailableListState").OFFLINE}}a.getStores=function(){return[b("UFILivePinnedCommentStore")]};a.calculateState=function(a,c){c=b("UFILivePinnedCommentStore").getPinnedCommentID(c.contextArgs.ftentidentifier);return babelHelpers["extends"]({},a,{currentPinnedCommentID:c})};a.prototype.$5=function(a){b("WorkModeConfig").is_work_user?this.$6(a):this.$7(a)};a.prototype.$7=function(a){a=b("XRapidReportingDialogController").getURIBuilder().setString("context",this.$8()).getURI();new(b("AsyncRequest"))(a).send()};a.prototype.$6=function(a){new(b("AsyncRequest"))().setURI(p).setData({context:this.$8()}).send()};a.prototype.$9=function(a){a=b("XSRXActionDialogController").getURIBuilder().setString("context",this.$8()).getURI();new(b("AsyncRequest"))(a).send()};a.prototype.$8=function(){var a=b("NFXStoryLocation").FEED;this.props.contextArgs.location==="event"?a=b("NFXStoryLocation").EVENT:this.props.feedback.isownerpage?a=b("NFXStoryLocation").PAGE:this.props.feedback.grouporeventid&&this.props.feedback.grouporeventid.length>0&&(a=b("NFXStoryLocation").GROUP);return JSON.stringify({reportable_ent_token:this.props.comment.fbid,story_location:a,entry_point:b("FRXEntryPoint").COMMENT})};a.prototype.$13=function(a){this.context.dispatch(b("UFICommentAction").removeAndBlock(this.props.contextArgs,this.props.comment,a,b("emptyFunction")))};a.prototype.$14=function(a){this.context.dispatch(b("UFICommentAction").deleteCommentWithFeedback(this.props.contextArgs,this.props.comment,a.target))};a.prototype.$15=function(a){this.context.dispatch(b("UFICommentAction").delete_comment_and_remove_commenter(this.props.contextArgs,this.props.comment,a.target,b("emptyFunction")))};a.prototype.$16=function(a){this.context.dispatch(b("UFICommentAction").mute_member(this.props.contextArgs,this.props.comment,a.target,b("emptyFunction")))};a.prototype.$17=function(a){this.context.dispatch(b("UFICommentAction").toggle_text_delights(this.props.contextArgs,this.props.comment,a.target)),b("Bootloader").loadModules(["TextDelightNUXLogger"],function(a){a.menuItemClick(this.props.comment.fbid)}.bind(this),"UFIComment.react")};a.prototype.$22=function(a){this.$23()&&this.setState({liveStreamingRedesignPopoverMenuShown:a})};a.prototype.$26=function(){return[G,M]};a.prototype.$27=function(){this.setState({showBody:!b("UFIConfig").shouldTranslationsReplaceContent}),this.props.comment.translationdata||this.context.dispatch(b("UFICommentAction").translate(this.props.contextArgs,this.props.comment,b("TranslationTrigger").SEE_TRANSLATION))};a.prototype.$29=function(){__p&&__p();var a=null,c=null,d=null,e=null,f=b("UFICommentMenu.react").MenuType.CLOSE,g=this.props,h=g.comment;g=g.contextArgs;var i=h.canEditConstituentTitle,k=h.canembed&&b("UFIConfig").showCommentEmbedOption,l=h.canremove&&h.candeleteandblockcommenter,m=!1,n=!1,o=!1;if(this.$23()&&g.enablePinLiveComments&&!h.tipOptionIndex&&h.__typename!=="local"){var p=h.id===this.state.currentPinnedCommentID;if(g.islivestreaming)m=!p,n=p;else if(g.isLiveVOD&&p){p=b("UFILivePinnedCommentStore").getPinEventID(g.ftentidentifier);n=p!=null}}if(this.$3()){h.needsApproval?g=this.props.authorProfiles[h.author].name:g=this.props.feedback.actorname;return{closeTooltip:j._("Only you and {author_name} can see this comment",[j._param("author_name",g)]),menuType:b("UFICommentMenu.react").MenuType.TOOLTIP,onClick:a,menuData:c,menuUserSection:d,reportActionPossible:o}}p=this.props.contextArgs.feedLocationType===b("FBFeedLocations").FUNDRAISER_PAGE?!1:this.props.hideAsSpamForPageAdmin;g=this.props.contextArgs.feedLocationType===b("FBFeedLocations").PAGE_TIMELINE&&this.props.feedback.isownerpage&&b("gkx")("YMtXOw0jxGz:page_admins_comments_frx_flow");var q=this.props.comment.candeletecommentwithfeedback;q=q?K:F;var r=!this.props.viewerIsAuthor&&(!h.canremove||g);h.canremove&&!p?this.props.viewerIsAuthor&&h.canedit?(e=k?j._("Edit, delete or embed this"):j._("Edit or delete this"),f=b("UFICommentMenu.react").MenuType.EDIT,i?(c=[N],c=c.concat(this.$26())):c=this.$26()):this.props.showRemoveReportMenu?(k?e=r?j._("Remove, hide, report or embed this"):j._("Remove, hide or embed this"):e=r?j._("Remove, hide or report this"):j._("Remove or hide this"),c=[q,H],r&&(c.push(this.getReportActionMenuData()),o=!0)):this.props.feedback.customcommentactionlinks?(e=k?j._("Remove this"):j._("Remove or embed this"),c=[q],f=b("UFICommentMenu.react").MenuType.EDIT):(e=k?j._("Remove or embed this"):j._("Remove this"),!k&&!l&&!m&&!n?a=this.$12:c=[M]):this.props.feedback.customcommentactionlinks&&!g?(e=k?j._("Hide or embed this"):j._("Hide this"),c=[H],f=b("UFICommentMenu.react").MenuType.EDIT):h.canreport&&(k?e=r?j._("Hide, report or embed this"):j._("Hide or embed this"):e=r?j._("Hide or report this"):j._("Hide this"),c=[H],r&&(c.push(this.getReportActionMenuData()),o=!0));k&&(c||(c=[]),c.push(I),f=b("UFICommentMenu.react").MenuType.CHEVRON);h.canremove&&h.canviewerremovecommenter&&(d||(d=[]),d.push(L));l&&(c||(c=[]),c.push(J));typeof h.ispinnedbyauthor==="boolean"&&(h.canviewerpin&&!h.ispinnedbyauthor&&(c||(c=[]),c.push(S)),h.canviewerunpin&&h.ispinnedbyauthor&&(c||(c=[]),c.push(T)));if(m||n){c||(c=[]);p=m?U:V;c.length>0&&c[0]===G?c.splice(1,0,p):c.unshift(p);e=j._("Moderate comment")}h.canmutemembers&&!this.props.viewerIsAuthor&&(d||(d=[]),h.ismuted?d.push(P):d.push(O));h.canedit&&this.props.viewerIsAuthor&&this.$30(h)&&(c||(c=[]),h.text_delights_are_hidden?c.push(R):c.push(Q));if(this.props.feedback.customcommentactionlinks)for(var s in this.props.feedback.customcommentactionlinks){i=this.props.feedback.customcommentactionlinks[s];if(!i.showInMenu)continue;c||(c=[]);c.push({testid:i.type,value:i.type,label:i.title})}q=c?c.length:0;g=d?d.length:0;(q+g>1||f===b("UFICommentMenu.react").MenuType.CLOSE)&&(f=b("UFICommentMenu.react").MenuType.DOTS);return{closeTooltip:e,menuType:f,onClick:a,menuData:c,menuUserSection:d,reportActionPossible:o}};a.prototype.$31=function(){var a=b("XUFIEditCommentNuxController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){this.setState({hasSeenEditNux:!!a.payload.seen_nux,editNuxHelpUri:a.payload.help_uri})}.bind(this)).send()};a.prototype.$30=function(a){if(a.body&&a.body.ranges&&a.canhidetextdelights){for(var b=0;b<a.body.ranges.length;b++)if(a.body.ranges[b].campaign)return!0;return a.text_delights_are_hidden}return!1};a.prototype.$32=function(){__p&&__p();if(this.props.contextArgs.feedLocationType===b("FBFeedLocations").CE_PII_STRIPPED_FEED||this.props.contextArgs.feedLocationType===b("FBFeedLocations").CE_PII_AND_ATTACHMENTS_STRIPPED_FEED||this.props.inReviewView)return b("React").createElement("div",null);var a=this.$29(),c=a.onClick,d=a.menuData,e=a.menuUserSection,f=a.closeTooltip,g=a.menuType,h=null;this.props.comment.canedit&&this.props.viewerIsAuthor&&this.$30(this.props.comment)&&(h=b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("TextDelightNUX.react").__setRef("UFIComment.react"),container:this,contextRef:function(){return this.refs.comment_menu}.bind(this),nuxId:b("TextDelightNuxID").COMMENT_OPT_OUT_NUX,instance:this.props.comment.fbid},j._("You can control whether you and your friends see text color and animation on this comment.")),c===null&&(c=function(a){b("Bootloader").loadModules(["TextDelightNUXLogger"],function(a){a.menuClick(this.props.comment.fbid)}.bind(this),"UFIComment.react")}.bind(this)));var i=(this.$3()?"":"UFICommentCloseButton")+(c===null&&d===null&&!this.$3()?" hdn":"")+(h!==null?" UFICommentCloseButtonNux":"")+(this.$3()?" UFICommentSpamTooltip":""),k=null,l=null;this.props.contextArgs.viewas&&(k="/ajax/profile/link_disabled_in_viewas.php",l="dialog",c=null);var m=this.$33(),n=this.$23(),o=function(d){a.reportActionPossible&&b("FRXDiglossiaQE").maybeExpose(),c!=null&&c(d)};k=b("React").createElement(b("UFICommentMenu.react"),{ajaxify:k,"aria-label":f,className:i,"data-testid":s,onClick:o,rel:l,tooltip:f,menuUserSection:e,menuData:d,menuType:g,onMenuShown:this.$25,onAction:this.$24,ref:"comment_menu",showRedesign:n,showPinnedCommentNux:this.state.showPinnedCommentNux,onPopoverMenuShow:function(){return this.$22(!0)}.bind(this),onPopoverMenuHide:function(){return this.$22(!1)}.bind(this),commentID:this.props.comment.fbid});return b("React").createElement("span",{className:(m?"":"-cx-PRIVATE-Interaction__uficommentclosebutton")+(m?" -cx-PRIVATE-ufiCommentVoteIcons__verticalroot":"")+(m?" -cx-PUBLIC-ufiCommentVoteIcons__16":"")+(m?" -cx-PRIVATE-ufiCommentVoteIcons__commentclosebuttoninblingbar":"")+(this.state.liveStreamingRedesignPopoverMenuShown||((i=this.props.contextArgs.liveVideoCommentRedesignConfig)==null?void 0:i.alwaysShowButtons)?" -cx-PRIVATE-UFILiveCommentRedesignActions__menushown":"")},n?b("React").createElement(b("UFILiveCommentRedesignActions.react"),{contextArgs:this.props.contextArgs,comment:this.props.comment,commentMenu:k,feedback:this.props.feedback,isInLiveVideoReplyMode:!!this.props.isInLiveVideoReplyMode}):k,h,this.$34())};a.prototype.$34=function(){var a=this.state.showPinnedCommentNux;return a?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("UFIGroupsPinnedCommentsNux.react").__setRef("UFIComment.react"),contextRef:function(){return this.refs.comment_menu}.bind(this),commentID:this.props.comment.fbid}):null};a.prototype.componentDidMount=function(){__p&&__p();var a=this.props,c=a.comment,d=a.contextArgs;a=a.orderingMode;this.$2=new(b("SubscriptionsHandler"))();if(d.source===b("FeedbackSourceType").NEWS_FEED){var e=!!c.parentcommentid;e?b("UFIODSLogger").bump("comment.newsfeed.replies.componentDidMount",b("UFIVersion").LEGACY):b("UFIODSLogger").bump("comment.newsfeed.toplevel.componentDidMount",b("UFIVersion").LEGACY)}c.trackingID&&this.props.isOptimisticallyRendered&&b("UFICommonInteractionLogger").endInteraction(c.trackingID+b("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT);if(this.state.isHighlighting){var f=d.feedLocationType===b("FBFeedLocations").WORKPLACE_HUB_PREVIEW,g=b("ReactDOM").findDOMNode(this),h=c.body&&c.body.text;h&&(g=this.$1);var i=parseInt(c.scrolltopoffset||0,10);this.$2.addSubscriptions(b("Bootloader").loadModules(["UFIScrollHighlight"],function(a){__p&&__p();window.setTimeout(function(){if(b("UFIRootRegistry").isSnowliftNode(d.rootid)||f)f?a.actOnWorkplaceHubSnowliftElem(g,i):a.actOnSnowliftElem(g,i);else if(c.privacy_value===b("CommentPrivacyValue").OWNER_OR_COMMENTER&&b("PrivateCommentsConfig").dark_comment_theme_enabled)a.actOnPrivateComment(g,i);else if(b("SelfCommentsGatingConfig").blue_self_comments_enabled&&this.props.viewerIsAuthor){var e=b("DOM").scry(g,"^.-cx-PUBLIC-work__root");a.actOnSelfComment(g,i,e.length>0)}else a.actOn(g,i,h)}.bind(this),0)}.bind(this),"UFIComment.react"));this.setState({isHighlighting:!1})}c.fbid&&window.setTimeout(function(){return b("UFISharedDispatcher").dispatch(b("UFICommentAction").mounted(d,{comment:c,isLivePinnedComment:Boolean(this.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(this.props.isInLiveVideoReplyMode)}))}.bind(this),0);e=function(a,b){return this.setState({markedAsSpamHere:!0})}.bind(this);b("Arbiter").subscribe("bulk_actions_hidden",e);var j=c.parentcommentid;if(a===b("WebCommentViewOption").LIVE_STREAMING&&!!j){this.$2.addSubscriptions(b("UFICentralUpdates").subscribe("update-actions",function(a,c){__p&&__p();if(!c.actions)return;c.actions.forEach(function(a){switch(a.actiontype){case b("FeedbackActionType").CONFIRM_COMMENT_REMOVAL:if(a.commentid===j){a=b("UFIComments").getComment(j);this.setState({isHiddenInStreamingBecauseParentIsHidden:a?a.status===b("UFIConstants").UFIStatus.SPAM_DISPLAY:!1})}break;default:return}}.bind(this))}.bind(this)));e=b("UFIComments").getComment(j);this.setState({isHiddenInStreamingBecauseParentIsHidden:e?e.status===b("UFIConstants").UFIStatus.SPAM_DISPLAY:!1})}d.enableCommentPresence&&!this.props.viewerIsAuthor&&this.$2.addSubscriptions(m.onReady(function(a){var b=function(){this.setState({authorPresenceStatus:a.get(c.author)})}.bind(this);this.$2.addSubscriptions(a.subscribe("change",b));b()}.bind(this)))};a.prototype.componentDidUpdate=function(a){this.props.comment.trackingID&&a.isOptimisticallyRendered&&!this.props.isOptimisticallyRendered&&b("UFICommonInteractionLogger").endInteraction(this.props.comment.trackingID+b("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT),this.props.comment.originalTimestamp&&this.props.comment.canedit&&this.state.editNuxHelpUri===""&&this.$31(),a.comment.attachment==null&&this.props.comment.attachment!=null&&b("Arbiter").inform(b("UFIUIEvents").CommentChanged,{ftentidentifier:this.props.contextArgs.ftentidentifier})};a.prototype.componentWillUnmount=function(){this.props.comment.fbid&&window.setTimeout(function(){return b("UFISharedDispatcher").dispatch(b("UFICommentAction").unmounted(this.props.contextArgs,{comment:this.props.comment,isLivePinnedComment:Boolean(this.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(this.props.isInLiveVideoReplyMode)}))}.bind(this),0),this.$2.release()};a.prototype.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return a.comment!==c.comment||a.showReplyLink!==c.showReplyLink||a.isFirst!==c.isFirst||a.isLast!==c.isLast||a.isFirstCommentComponent!==c.isFirstCommentComponent||a.isLastCommentComponent!==c.isLastCommentComponent||a.isFirstComponent!==c.isFirstComponent||a.isLastComponent!==c.isLastComponent||a.isFeatured!==c.isFeatured||a.hasPartialBorder!==c.hasPartialBorder||a.showTranslation!==c.showTranslation||b.wasHighlighted!==d.wasHighlighted||b.isHighlighting!==d.isHighlighting||b.markedAsSpamHere!==d.markedAsSpamHere||b.isInlinePageDeleted!==d.isInlinePageDeleted||b.isInlineBanned!==d.isInlineBanned||b.isInlineStreamBanned!==d.isInlineStreamBanned||b.showBody!==d.showBody||b.hideSpamComment!==d.hideSpamComment||b.loadingDialogWhenSharing!==d.loadingDialogWhenSharing||b.isHiddenInStreamingBecauseParentIsHidden!==d.isHiddenInStreamingBecauseParentIsHidden||b.hasSeenEditNux!==d.hasSeenEditNux||b.currentPinnedCommentID!==d.currentPinnedCommentID||b.showPinnedCommentNux!==d.showPinnedCommentNux};a.prototype.$23=function(){var a=this.props.contextArgs.liveVideoCommentRedesignConfig;return!!a&&a.showRedesign&&this.props.orderingMode===b("WebCommentViewOption").LIVE_STREAMING};a.prototype.$3=function(){var a=this.props.comment,c=a.needsApproval,d=a.canAppeal,e=a.canSecure,f=a.appealStatus;a=a.isApproved;return c||d||e||(f===b("CommentApprovalsResponsibleUserAction").APPEALED||f===b("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT)&&!a};a.prototype.render=function(){__p&&__p();if(this.state.isHiddenInStreamingBecauseParentIsHidden)return null;var a=this.props,c=a.contextArgs,d=a.comment;a=a.feedback;var e=d.status===n.DELETED,f=d.status===n.LIVE_DELETED,g=d.status===n.SPAM_DISPLAY,h=this.state.hideSpamComment;if(e)return null;e=this.state.markedAsSpamHere;var i=this.state.isInlinePageDeleted,k=this.props.hideAsSpamForPageAdmin,l=this.state.isInlineBanned,m=this.state.isInlineStreamBanned;d.islive&&!this.state.loggedLiveUpdate&&(new(b("LiveWWWFeedbackTypedLogger"))().setEvent("update_view").setUpdateType("comment").setCommentID(d.id).log(),this.setState({loggedLiveUpdate:!0}));var o=aa(d),p=!d.status&&(d.isunseen||d.__typename==="local");if(!d.status&&a.lastseentime){var q=d.originalTimestamp||(d.timestamp||{}).time||0;p=p||q>a.lastseentime}q=c.markedcomments;q&&q[d.legacyid]&&(p=!0);(this.props.orderingMode===b("WebCommentViewOption").LIVE_STREAMING||this.props.isLivePinnedComment)&&(p=!1);a="UFIRow"+(this.props.inReviewView?" UFICommentInReview":"")+(this.props.isFirst?" -cx-PUBLIC-UFIComment__ufifirstcomment":"")+(this.props.isLast?" UFILastComment":"")+(this.props.isFirstCommentComponent?" -cx-PUBLIC-UFIComment__ufifirstcommentcomponent":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(!this.$33()&&(this.props.isFirstComponent||b("SutroBlingBarGatingConfig").enabled&&this.props.isFirstCommentComponent)?" -cx-PUBLIC-UFIComment__ufifirstcomponent":"")+(this.props.isLastComponent?" -cx-PUBLIC-UFIComment__ufilastcomponent":"")+(this.props.isLivePinnedComment?" UFILivePinnedComment":"");q=j._("Comment");var r=j._("Comment reply");r=d.parentcommentid?r:q;if(o)if(Y){q=null;o=null;var s=null,u=null,v=null;k?(s=l?this.$19:this.$18,u=m?this.$21:this.$20,i?q=j._("You've deleted this comment so no one can see it."):e&&(q=j._("Now this is only visible to the person who wrote it and their friends."),v=this.$11,o=this.$10)):e&&(q=j._("This comment has been hidden."),v=this.$11,o=this.$10);if(q)return b("React").createElement("div",{className:a,role:"article","aria-label":r},b("React").createElement(Y,{notice:q,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:o,onBanAction:s,onStreamBanAction:u,onDeleteAction:v,isInlineBanned:l,isInlinePageDeleted:i,isInlineStreamBanned:m,hideAsSpamForPageAdmin:k,pageID:this.props.feedback.ownerid}))}else b("Bootloader").loadModules(["UFICommentRemovalControls.react"],function(a){Y=a,window.setTimeout(function(){this.forceUpdate()}.bind(this))}.bind(this),"UFIComment.react");e="comment_"+b("uniqueID")();q=b("joinClasses")(a,"UFIComment"+(Z(d)?" UFICommentFailed":"")+(b("PrivateCommentsConfig").dark_comment_theme_enabled&&d.privacy_value===b("CommentPrivacyValue").OWNER_OR_COMMENTER?" UFIPrivateCommentDarkTheme":"")+($(d,c.location)?" UFITipJarComment":"")+(f||g||this.props.isTranslucent||this.$3()&&!h||d.parentNeedsApproval?" UFITranslucentComment":"")+(this.state.isHighlighting?" highlightComment":"")+" -cx-PUBLIC-UFIComment__uficomponent"+(this.props.hasPartialBorder?" UFIPartialBorder":"")+(p?" UFIUnseenItem":"")+(d.isAnnouncement?" UFICommentLiveVideoAnnouncement":"")+(d.isLivingRoomAnnouncement?" UFICommentLivingRoomAnnouncement":""));o=this.renderComment();s=c.mayLogVPVs&&this.props.orderingMode===b("WebCommentViewOption").RANKED_THREADED;d.__typename!=="local"&&!d.isAnnouncement&&(s&&(o=b("React").createElement(b("UFICommentVPVTracker.react"),{comment:d,contextArgs:c},o)),o=b("React").createElement(b("UFICommentVPVDTracker.react"),{renderedComment:{comment:d,isLivePinnedComment:Boolean(this.props.isLivePinnedComment),isInLiveVideoReplyMode:Boolean(this.props.isInLiveVideoReplyMode)},contextArgs:this.props.contextArgs},o));return b("React").createElement("div",{id:e,className:q,role:"article","aria-label":r,"data-testid":this.state.wasHighlighted?t:null,"data-ft":this.props["data-ft"]},o)};a.prototype.$35=function(a,c){__p&&__p();var d=this.props,e=d.comment,f=d.feedback,g=this.state.hideSpamComment,h=e.appealStatus,i=e.body?e.body.text:"",k=b("UFICommentUtils").shallowCopyRanges(e.body&&e.body.ranges),l=b("UFICommentUtils").shallowCopyRanges(e.body&&e.body.delight_ranges),m=b("React").createElement(b("ShimButton.react"),{className:"UFICommentShowComment",form:"link",onClick:function(){return this.setState({hideSpamComment:!1})}.bind(this)},j._("Show comment"));if(g&&this.$3()){if(h===b("CommentApprovalsResponsibleUserAction").SECURED_ACCOUNT&&e.needsApproval===!1){g=b("React").createElement(b("Text.react"),null,j._({"*":"Thanks for securing your account. We recommend deleting this comment now. If you don't, it will be automatically deleted in {number} days.","_1":"Thanks for securing your account. We recommend deleting this comment now. If you don't, it will be automatically deleted in 1 day."},[j._plural(e.daysToExpire,"number")]));h=b("React").createElement(b("ShimButton.react"),{className:"UFICommentShowComment",form:"link",onClick:function(a){return this.$12(a)}.bind(this)},j._("Delete"));return b("React").createElement("span",null,g,m,j._("or"),h)}g=e.needsApproval?b("React").createElement(b("Text.react"),null,j._("{name}'s comment was marked as spam.",[j._param("name",c)])):b("React").createElement(b("Text.react"),null,j._("Your comment was marked as spam."));return b("React").createElement("span",null,g,m)}i=b("UFICommentUtils").getCommentTextWithTruncatedURIs(k,i);h=null;c=null;!d.isLocallyComposed&&!this.state.wasHighlighted&&(c=b("UFIConstants").commentTruncationLength,h=b("UFIConstants").commentTruncationMaxLines);if(e.body&&e.body.markdown_enabled&&e.body.markup&&b("HTML").isHTML(e.body.markup))return b("React").createElement("span",{dangerouslySetInnerHTML:e.body.markup});if(e.isJoinEvent)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIJoinEvent.react").__setRef("UFIComment.react"),bootloadPlaceholder:b("React").createElement("span",null),comment:e});g=this.$36(i);return b("React").createElement(b("UFICommentBody.react"),{socialContext:e.socialcontext,commentText:i,commentRanges:k,commentPrivacy:e.privacy_value,textDelightRanges:l,showEmojisStandalone:g,groupOrEventID:f.grouporeventid,maxLength:c,maxLines:h,markViewerHasInteracted:this.props.markViewerHasInteracted,shouldExpand:a,ufiInstanceID:this.props.contextArgs.instanceid,commentFBID:e.fbid,isLiveStreaming:d.contextArgs.islivestreaming})};a.prototype.$36=function(a){if(!a||a.length>W*X)return!1;var c=b("EmojiRenderer").parse(a);if(!c)return!1;var d=0;c.forEach(function(a){d+=a.length});return a.length==d&&c.length<=X};a.prototype.$37=function(a){this.setState({loadingDialogWhenSharing:!0});a=a&&a.shareOptions&&a.shareOptions.shareNowURI?a.shareOptions.shareNowURI:null;a&&new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){this.setState({loadingDialogWhenSharing:!1}),this.$38(a.payload.message||b("ShareNowConstants").success)}.bind(this)).setErrorHandler(function(a){this.setState({loadingDialogWhenSharing:!1}),this.$38(a.payload.message||b("ShareNowConstants").error)}.bind(this)).send()};a.prototype.$38=function(a){return new(b("Dialog"))().setBody(a).setAutohide(2500).setModal(!0).show()};a.prototype.$39=function(a){return this.$40(a)?b("React").createElement("span",{className:"UFICommentShareOptionsItem"},b("React").createElement(b("XUIButton.react"),{image:b("React").createElement(b("Image.react"),{src:g("WRZIo20mtGe_images/assets_DO_NOT_HARDCODE/facebook_icons/app-messenger_filled_12_fig-black.png")}),label:j._("Send a Message"),href:"#",ajaxify:a&&a.shareOptions&&a.shareOptions.shareMessageURI?a.shareOptions.shareMessageURI:null,rel:"dialog",use:"default"})):null};a.prototype.$41=function(a){return this.$42(a)?b("React").createElement("span",{className:"UFICommentShareOptionsItem"},b("React").createElement(b("XUIButton.react"),{image:b("React").createElement(b("Image.react"),{src:g("Kexqicyzrp3_images/assets_DO_NOT_HARDCODE/facebook_icons/compose_filled_12_fig-black.png")}),label:j._("Share..."),href:"#",ajaxify:a&&a.shareOptions&&a.shareOptions.sharePostURI?a.shareOptions.sharePostURI:null,rel:"dialog",use:"default"})):null};a.prototype.$43=function(a){var c=a&&a.shareOptions&&a.shareOptions.privacyText?j._("Share Now ({privacyText})",[j._param("privacyText",a.shareOptions.privacyText)]):"";return this.$44(a)?b("React").createElement("span",{className:"UFICommentShareOptionsItem"},b("React").createElement(b("XUIButton.react"),{image:b("React").createElement(b("Image.react"),{src:g("Gr-_5gZGFMh_images/assets_DO_NOT_HARDCODE/fb_glyphs/reshare_16_fig-black.png")}),label:c,href:"#",onClick:function(){return this.$37(a)}.bind(this),use:"default"})):null};a.prototype.$44=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.shareNowURI!=null};a.prototype.$40=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.shareMessageURI!=null};a.prototype.$42=function(a){return a!=null&&a.shareOptions!=null&&a.shareOptions.sharePostURI!=null};a.prototype.$45=function(){return b("React").createElement("div",null,j._("Share Post:"))};a.prototype.$46=function(a){a=a.contextArgs.shareLinkConfig;var c=this.$43(a),d=this.$41(a);a=this.$39(a);var e=this.$45(),f=this.$47(),g=c||d||a;b("QE2Logger").logExposureForUser(o);return g?b("React").createElement("span",{className:"UFICommentShareOptionsContainer"},b("React").createElement("span",{className:"UFICommentShareOptionsDescription"},e),b("React").createElement("span",{className:"UFICommentShareOptions"},c,d,a,f)):null};a.prototype.$47=function(){return b("React").createElement(b("LoadingDialog.react"),{shown:this.state.loadingDialogWhenSharing})};a.prototype.$48=function(a,c,d){return c.isLivingRoomAnnouncement?b("React").createElement("div",null,b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:0},d),b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFILivingRoomAnnouncementCTA.react").__setRef("UFIComment.react"),bootloadPlaceholder:b("React").createElement("span",null),comment:c})):b("React").createElement("div",{className:"UFICommentLiveVideoAnnouncementBody -cx-PRIVATE-UFICommentLiveVideoAnnouncement__sutroprompt"},b("React").createElement(b("InlineBlock.react"),{alignv:"middle",className:"UFICommentLiveVideoAnnouncementMessage",height:0},d),b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFILiveVideoAnnouncementCTAContainer.react").__setRef("UFIComment.react"),bootloadPlaceholder:b("React").createElement("span",null),comment:c,contextArgs:a}))};a.prototype.renderComment=function(){__p&&__p();var a=this.props,c=a.comment,d=a.permalink,e=a.feedback,f=this.state.authorPresenceStatus,h=a.authorProfiles[c.author],i=c.status===n.SPAM_DISPLAY,k=c.status===n.LIVE_DELETED,m=this.$33();i=!(i||k||c.isAnnouncement||m);k=!1;this.props.featuredCommentIDs&&this.props.featuredCommentIDs.indexOf(this.props.comment.fbid)>-1&&(k=!0);var o=e.canremoveall||c.hiddenbyviewer,p=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.SMALL_ACTOR_PHOTO),q;if(!a.contextArgs.viewas&&!c.isAnnouncement){if(!h)throw new Error("Got unexpected null author on comment "+JSON.stringify(c)+" with profiles "+JSON.stringify(a.authorProfiles));q=b("HovercardLink").constructEndpointWithGroupLocationAndExtraParams(h,e.grouporeventid,c.hovercardlocation?c.hovercardlocation:b("UserHovercardLocation").UFI,c.isauthorweakreference,{on_public_ufi:e.ispublic}).toString()}var r=c.isAnnouncement?null:b("React").createElement(b("UFICommentAuthorName.react"),{author:h,authorProfiles:a.authorProfiles,commentID:c.id?c.id.toString():null,commentPrivacyValue:c.privacy_value,constituentBadge:c.constituentTitle,disableAuthorLink:a.contextArgs.disableCommentAuthorLink,focusOnMount:a.focusOnMount,groupMemberBadge:c.groupmemberbadge,groupOrEventID:e.grouporeventid,isAdminViewer:a.feedback.isadminviewer,isAuthorBot:c.isauthorbot,isAuthorNonCoworker:c.isauthornoncoworker,isAuthorWeakReference:c.isauthorweakreference,isAuthorOriginalPoster:c.isauthororiginalposter,isFeatured:a.isFeatured,isPublic:e.ispublic,dialogUrl:c.dialogurl,hasConstituentBadge:c.hasConstituentBadge,hasFriendsOnlyBadge:c.hasFriendsOnlyBadge,hovercardLocation:c.hovercardlocation,moderatorBadgeText:c.moderator_badge_text,showHovercard:!!q,socialContext:c.socialcontext,openLinkInNewTab:a.contextArgs.islivestreaming||a.contextArgs.isLiveVOD||a.contextArgs.isActiveLivingRoom,viewerIsAuthor:!!a.viewerIsAuthor}),s=c.identityBadges&&c.identityBadges.length>0?b("React").createElement(b("IdentityBadges.react"),{badges:c.identityBadges,canShowMultipleBadges:a.contextArgs.canShowMultipleBadges,commentID:c.fbid}):null,t=this.$35(k,r),u=c.translationdata,v=u&&u.translatedText&&u.translatedText.text,w=!v||this.state.showBody||u.trigger===b("TranslationTrigger").LOGGED_OUT_AUTO_TRANSLATION;v=this.props.showTranslation&&!u||!!u&&(!b("UFIConfig").shouldTranslationsReplaceContent||!w||!v||u.trigger===b("TranslationTrigger").LOGGED_OUT_AUTO_TRANSLATION);var x;if(c.isAnnouncement)x=this.$48(a.contextArgs,c,t);else{var y;(c.istranslatable||!!u)&&(y=b("React").createElement("div",null,b("React").createElement(b("UFICommentTranslationText.react"),{shouldExpand:k,showTranslation:v,translationData:u})));x=b("React").createElement("span",null,w?t:null,y)}k=null;a.comment.insightsComment&&(k=b("React").createElement(b("UFIInsightsSharingCommentTag.react"),{showMiddot:!0,feedbackTargetID:a.contextArgs.ftentidentifier,commentId:a.comment.insightsComment.ufiCommentId,formattedValue:a.comment.insightsComment.insightsComment.formattedValue}));t=null;(a.contextArgs.isLiveVOD||!a.contextArgs.islivestreaming&&a.contextArgs.showVODCommentTimestamps&&a.comment.videoTimeOffset)&&(t=b("React").createElement(b("UFILiveCommentTimestamp.react"),{comment:c,contextArgs:a.contextArgs,isInLiveVideoReplyMode:!!a.isInLiveVideoReplyMode}));var z=b("React").createElement(b("UFICommentAttachment.react"),{allowCustomStickers:e.allowgaminglivestreamcustomstickers,comment:a.comment,isPinnedLivingRoomPhotoComment:this.props.isLivePinnedComment&&a.contextArgs.isActiveLivingRoom&&c.photo_comment&&!this.props.isStaticUFILoading}),A=b("React").createElement(b("UFICommentPlayerStatsCard.react"),{comment:a.comment}),B=h&&h.living_room_presence_badge===b("LivingRoomPresenceBadge").HOST?b("React").createElement(b("LivingRoomProfileTileBadge.react"),{asset:null,isCommentating:!1,isSpeaking:!1,size:"regular",useBackgroundColor:!1}):null,C;if(this.state.hideSpamComment)C=b("React").createElement("div",null);else if(c.isAnnouncement)C=b("React").createElement(b("UFICommentLiveVideoAnnouncementImage.react"),{accentColor:c.accentColor,contextArgs:a.contextArgs,glyphName:c.glyphName,image:c.image,isJoinEvent:c.isJoinEvent});else{var D=h.uri||h.isBusinessPersona,E=D?b("UFICommentUtils").annotateProfileURIIfPublic(e.ispublic,h.uri):null;C=b("React").createElement(b("UFIActorIconContainer.react"),{actorID:c.author});var F=a.contextArgs.islivestreaming||a.contextArgs.isLiveVOD?"_blank":"_self";c.dialogurl?C=b("React").createElement("a",{className:"UFICommentAuthorWithPresence","data-ft":p,"data-hovercard":q,ajaxify:c.dialogurl,rel:"dialog",target:F,href:E},C,B,b("React").createElement("div",{className:"UFICommentAuthorPresence"+(f===b("AvailableListState").ACTIVE?" UFICommentAuthorActive":"")+(B!==null?" UFICommentAuthorLivingRoomHost":"")})):D&&(C=b("React").createElement("a",{className:"UFICommentAuthorWithPresence","data-ft":p,"data-hovercard":q,target:F,href:E},C,B,b("React").createElement("div",{className:"UFICommentAuthorPresence"+(f===b("AvailableListState").ACTIVE?" UFICommentAuthorActive":"")+(B!==null?" UFICommentAuthorLivingRoomHost":"")})))}D=null;if(this.props.isLivePinnedComment){p=j._("Pinned Comment");D=b("React").createElement("span",{className:"UFILivePinnedCommentLabel"},b("React").createElement(b("Image.react"),{className:"UFILivePinnedCommentGlyph",src:g("IHxLrMlPhKd_images/assets_DO_NOT_HARDCODE/fb_glyphs/pushpin_12_accent-blue.png")}),p)}F=c.tipOptionIndex?b("React").createElement(b("VideoTipJarCommentBackground.react"),{tipOptionIndex:c.tipOptionIndex}):null;E=c.body&&c.body.text;f=!1;B=!1;E&&(B=this.$36(c.body.text));p=null;c.commonalities&&E&&(p=b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement(b("React").Fragment,null)},b("React").createElement(l,{commonalities:c.commonalities})));var G=!this.state.hideSpamComment&&(c.photo_comment||c.video_comment||c.attachment||c.file_comment);G&&B&&(x=b("React").createElement("div",{className:"-cx-PRIVATE-UFISutroComment__closebuttoncontainer"},x,i?this.$32():null));var H=null;if(!this.state.hideSpamComment&&c.privacy_value===b("CommentPrivacyValue").OWNER_OR_COMMENTER&&(b("PrivateCommentsConfig").privacy_text_above_comment_enabled||b("PrivateCommentsConfig").privacy_text_inside_comment_enabled)){h=a.viewerIsAuthor?e.actorshortname||e.actorname:h.firstName||h.name;H=b("React").createElement("div",{className:"UFIPrivateCommentLabel"+(c.parentcommentid?" UFIPrivateCommentReplyLabel":"")+(!E&&!c.isAnnouncement||B?" UFIPrivateCommentActorOnly":"")},b("React").createElement("div",{className:"UFIPrivateCommentLabelIcon"}),c.parentcommentid?null:b("React").createElement("div",{className:"UFIPrivateCommentLabelText"},j._("Only you and {user} can see this",[j._param("user",h)])))}h=c.parentcommentauthorid;var I=null;if(h!=null){h=a.authorProfiles[h];if(h&&!a.isInLiveVideoReplyMode&&a.orderingMode===b("WebCommentViewOption").LIVE_STREAMING){h=j._("Replying to {name}",[j._param("name",h.firstName)]);I=b("React").createElement("div",{className:"-cx-PRIVATE-UFIFacecastThreadedComments__replyannotation"},this.$23()?b("React").createElement("a",{className:"-cx-PRIVATE-xuiText__sizebody3 -cx-PRIVATE-xuiText__secondarylight",href:"#",onClick:b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(c,a.contextArgs,e)},h):b("React").createElement(b("XUIText.react"),{size:"body3",color:"secondary"},h))}}h=b("React").createElement("span",{className:(!E&&!c.isAnnouncement?"UFICommentActorOnly":"")+(E||c.isAnnouncement?" UFICommentActorAndBody":"")+(c.isJoinEvent?" -cx-PRIVATE-UFICommentLiveVideoAnnouncement__sutrojoineventbody":"")+(c.isAnnouncement&&c.ctaAction!==b("LiveVideoAnnouncementCTAType").NONE?" -cx-PRIVATE-UFICommentLiveVideoAnnouncement__sutroctaprompt":"")+(B?" -cx-PRIVATE-UFISutroComment__withstandaloneemojis":""),ref:function(a){this.$1=a}.bind(this)},p,b("React").createElement("div",{className:"UFICommentActorAndBodySpacing"+(p?" -cx-PUBLIC-UFICommonalityBanner__hasbanner":"")},I,s,this.state.hideSpamComment?null:r,k,t,r||t?" ":null,b("PrivateCommentsConfig").privacy_text_inside_comment_enabled?H:null,x));p=b("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments?c.attachment&&(c.attachment.type==="comment_place_info"||c.attachment.type==="comment_product_info"||c.attachment.type==="gif")&&!c.photo_comment&&!c.video_comment:c.attachment&&(c.attachment.type==="share"||c.attachment.type==="comment_place_info"||c.attachment.type==="comment_product_info"||c.attachment.type==="gif")&&!c.photo_comment&&!c.video_comment;I=b("SutroPhase2GatingConfig").enabled_narrow_bubble_attachments&&c.attachment&&c.attachment.type==="share";G?z=b("React").createElement(b("UFIReactionBadgeDecorator.react"),{comment:c,feedback:e,contextArgs:a.contextArgs,isFlexibleWidthAttachment:I,isFullWidthAttachment:p,showLiveStreamingRedesign:this.$23(),onRenderAtBottomChange:this.$28},z):B?h=b("React").createElement("span",{className:(!E&&!c.isAnnouncement?"UFICommentActorOnly":"")+(E||c.isAnnouncement?" UFICommentActorAndBody":"")+(c.isJoinEvent?" -cx-PRIVATE-UFICommentLiveVideoAnnouncement__sutrojoineventbody":"")+(B?" -cx-PRIVATE-UFISutroComment__withstandaloneemojis":""),ref:function(a){this.$1=a}.bind(this)},s,this.state.hideSpamComment?null:r,t,r||t?" ":null,b("PrivateCommentsConfig").privacy_text_inside_comment_enabled?H:null,b("React").createElement("div",{className:"-cx-PRIVATE-UFISutroComment__closebuttoncontainer"},b("React").createElement(b("UFIReactionBadgeDecorator.react"),{comment:c,feedback:e,contextArgs:a.contextArgs,showLiveStreamingRedesign:this.$23(),onRenderAtBottomChange:this.$28},x),i?this.$32():null)):h=b("React").createElement(b("UFIReactionBadgeDecorator.react"),{comment:c,feedback:e,contextArgs:a.contextArgs,showLiveStreamingRedesign:this.$23(),onRenderAtBottomChange:this.$28},h);f=!0;!E&&z?z=b("React").createElement("div",{className:"-cx-PRIVATE-UFISutroComment__closebuttoncontainer"},z,i?this.$32():null):!B&&(E&&!z||E&&z)&&(h=b("React").createElement("div",{className:"-cx-PRIVATE-UFISutroComment__closebuttoncontainer"},h,i?this.$32():null));var J;(c.istranslatable||!!u)&&(J=b("React").createElement(b("UFICommentTranslationLink.react"),{translationData:u,showTranslation:v,isShowingOriginal:w,onSeeTranslation:function(){return this.$27()}.bind(this),onSeeOriginal:function(){return this.setState({showBody:!0})}.bind(this),shownInCommentActions:!0}));k=c.isAnnouncement||this.state.hideSpamComment||this.props.inReviewView||this.props.contextArgs.feedLocationType===b("FBFeedLocations").CE_PII_STRIPPED_FEED||this.props.contextArgs.feedLocationType===b("FBFeedLocations").CE_PII_AND_ATTACHMENTS_STRIPPED_FEED||this.$23()?null:b("React").createElement(b("UFICommentActions.react"),{comment:c,feedback:e,hideReactionCount:f,parentCanComment:a.parentCanComment,permalink:d,viewerCanMarkNotSpam:Boolean(o),showPermalink:a.showPermalink,showReplyLink:a.showReplyLink,translateLink:J,contextArgs:a.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:a.hideAsSpamForPageAdmin||this.state.hideSpamComment,hideSpamComment:this.state.hideSpamComment,orderingMode:a.orderingMode,isInLiveVideoReplyMode:a.isInLiveVideoReplyMode,isAuthorPinnedComment:a.isAuthorPinnedComment,renderCommentCloseButton:function(){return this.$32()}.bind(this),displayVerticalCommentVote:m,hasSeenEditNux:this.state.hasSeenEditNux,editNuxHelpUri:this.state.editNuxHelpUri,onEditNuxCloseClick:function(){this.setState({hasSeenEditNux:!0})}.bind(this)});G=b("UFIComments").getCacheVariable("shareOnComment");I=this.props.contextArgs.feedLocationType===b("FBFeedLocations").TAHOE&&this.props.isLocallyComposed&&G&&G[c.ftentidentifier]===c.id&&!c.parentcommentid?this.$46(a):null;p=this.props.viewerIsAuthor&&b("SelfCommentsGatingConfig").blue_self_comments_enabled;s=m?b("React").createElement(b("UFICommentVoteContainer.react"),{comment:c,contextArgs:a.contextArgs,feedback:e,UIVersion:c.commentVoteUIVersion,isFirstComment:this.props.isFirstCommentComponent}):null;r=this.$23()&&c.reactioncount>0;t=b("React").createElement("div",null,D,b("PrivateCommentsConfig").privacy_text_above_comment_enabled&&!c.parentcommentid?H:null,b("React").createElement(b("UFIImageBlock.react"),{spacing:"medium"},C,b("React").createElement("div",{className:m?"UFICommentContentBlockWithVote":""},b("React").createElement("div",{className:"UFICommentContentBlock"},b("React").createElement("div",{className:"UFICommentContent"+(p?" -cx-PUBLIC-UFISutroComment__viewerisauthor":"")+(p?" -cx-PRIVATE-UFISutroComment__viewerisauthor":"")+(c.surveyGalleryHighlight?" -cx-PRIVATE-UFISutroComment__surveygalleryhighlight":"")+(m?" UFICommentVerticalVoteFlexGrow":"")+(r?" UFICommentLiveRedesignBadgedContent":"")+(r&&this.state.renderReactionBadgeAtBottom?" UFICommentLiveRedesignPaddedBadgedContent":"")},h,this.state.hideSpamComment?null:z,this.state.hideSpamComment?null:A),k,I),s),F));if(this.props.contextArgs.feedLocationType===b("FBFeedLocations").SURVEY_GALLERY)return b("React").createElement("div",{className:"-cx-PRIVATE-FBUnclickableOverlay__root"},b("React").createElement("div",{className:"-cx-PRIVATE-FBUnclickableOverlay__overlay"}),t);else return t};a.prototype.$33=function(){return!this.props.inReviewView&&!this.props.contextArgs.islivestreaming&&this.props.orderingMode!==b("WebCommentViewOption").LIVE_STREAMING&&b("gkx")("aGmMrCheGzl:crowdsource_ranking_www")&&b("gkx")("VxouV2fv0YI:crowdsource_ranking_www_v2")&&!!this.props.comment.voteEnabled&&this.props.comment.commentVoteUIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE};a.propTypes={authorProfiles:c.object.isRequired,comment:c.object.isRequired,contextArgs:c.object.isRequired,feedback:c.object.isRequired,"data-ft":c.string,featuredCommentIDs:c.array,focusOnMount:c.bool,hasPartialBorder:c.bool,hideAsSpamForPageAdmin:c.bool,isFeatured:c.bool,isFirst:c.bool,isFirstCommentComponent:c.bool,isFirstComponent:c.bool,isLast:c.bool,isLastCommentComponent:c.bool,isLastComponent:c.bool,isLivePinnedComment:c.bool,isLocallyComposed:c.bool,isStaticUFILoading:c.bool,parentCanComment:c.bool,permalink:c.string,showPermalink:c.bool,showRemoveReportMenu:c.bool,showReplyLink:c.bool,viewerIsAuthor:c.bool,orderingMode:c.string,markViewerHasInteracted:c.func,showTranslation:c.bool};a.contextTypes={dispatch:c.func};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("UFICommentCount.react",["cx","fbt","ActorURI","NumberFormat","React","XUFICommentTooltipController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){var a=this.props.commentCount,c=a==1;typeof a==="number"&&(a=b("NumberFormat").formatInteger(a));return h._({"Comment":"{count} Comment","Comments":"{count} Comments"},[h._param("count",a),h._enum(c?"Comment":"Comments",{Comment:"Comment",Comments:"Comments"})])};a.prototype.render=function(){var a=this.props.feedback,c=a.entidentifier;a=a.actorforpost;var d=this.$1(),e="fcg",f=null;c&&a&&(f=b("ActorURI").create(b("XUFICommentTooltipController").getURIBuilder().setString("ft_ent_identifier",c).getURI(),a));if(f)return b("React").createElement("span",{className:e,"data-hover":"tooltip","data-tooltip-uri":f},d);else return b("React").createElement("span",{className:e},d)};function a(){i.apply(this,arguments)}a.propTypes={commentCount:c.oneOfType([c.number,c.string]).isRequired,feedback:c.object.isRequired};e.exports=a}),null);
__d("UFICommentDisabledNotice.react",["cx","React","TextWithEntities.react","linkifyEntityRange"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.feedback,c=a.commentdisablednotice;a.isviewermuted&&(c=a.mutednotice);a.arecommentsdisabled&&(c=a.commentdisablednotice);a=b("React").createElement("div",{className:"UFINotice"},b("React").createElement(b("TextWithEntities.react"),{interpolator:b("linkifyEntityRange"),ranges:c.ranges,aggregatedranges:c.aggregated_ranges,text:c.text}));return b("React").createElement("div",{className:"UFIRow -cx-PUBLIC-UFIComment__ufifirstcomponent -cx-PUBLIC-UFIComment__ufilastcomponent -cx-PUBLIC-UFIComment__uficomponent"},a)};function a(){h.apply(this,arguments)}a.propTypes={feedback:c.object.isRequired};e.exports=a}),null);
__d("UFIPager.react",["cx","LeftRight.react","React","SutroBlingBarGatingConfig","UFIImageBlock.react","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.onPagerClick=function(a){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick(),a.nativeEvent.prevent()}.bind(this),b}a.prototype.render=function(){var a=this.onPagerClick,c=b("SutroBlingBarGatingConfig").enabled,d=b("joinClasses")("UFIRow"+(this.props.isUnseen?" UFIUnseenItem":"")+" UFIPagerRow -cx-PUBLIC-UFIComment__uficomponent"+(this.props.isFirstCommentComponent?" -cx-PUBLIC-UFIComment__ufifirstcommentcomponent":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(this.props.isFirstComponent||c&&this.props.isFirstCommentComponent?" -cx-PUBLIC-UFIComment__ufifirstcomponent":"")+(this.props.isLastComponent?" -cx-PUBLIC-UFIComment__ufilastcomponent":"")),e=null;this.props.isLoading&&(e=b("React").createElement(b("XUISpinner.react"),{className:"mls",background:"light",size:"small"}));e=b("React").createElement("a",{className:"UFIPagerLink",onClick:a,href:"#",role:"button"},this.props.pagerLabel,e);var f="fcg UFIPagerCount";c=c&&b("React").createElement("span",{className:f},this.props.countSentence);this.props.contextArgs.entstream||!this.props.isReply?f=b("React").createElement(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.right},e,c):f=b("React").createElement(b("UFIImageBlock.react"),null,b("React").createElement("a",{className:"UFIPagerIcon",onClick:a,href:"#",role:"button"}),e,c);return b("React").createElement("div",{className:d,"data-ft":this.props["data-ft"]},f)};e.exports=a}),null);
__d("UFIPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return b("NumberFormat").formatInteger(a.count)}var i={VIEW_ONE:"view_one",VIEW_ONE_MORE:"view_one_more",VIEW_ALL:"view_all",VIEW_MORE_EXPLICIT:"view_more_explicit",VIEW_MORE:"view_more",VIEW_PREVIOUS:"view_previous",VIEW_PREVIOUS_EXPLICIT:"view_previous_explicit",_getReplyLabel:function(a,b){switch(a){case i.VIEW_ONE:return g._("View 1 reply");case i.VIEW_ONE_MORE:return g._("View 1 more reply");case i.VIEW_ALL:return g._({"*":"View all {count} replies"},[g._param("count",h(b),[0,b.count])]);case i.VIEW_MORE_EXPLICIT:return g._({"*":{"*":"View {count} more replies","_1":"View {count} more reply"}},[g._param("count",h(b),[0,b.count]),g._plural(b.count)]);case i.VIEW_MORE:return g._("View more replies");case i.VIEW_PREVIOUS:return g._("View previous replies");case i.VIEW_PREVIOUS_EXPLICIT:return g._({"*":{"*":"View {count} previous replies","_1":"View {count} previous reply"}},[g._param("count",h(b),[0,b.count]),g._plural(b.count)]);default:return null}},_getCommentLabel:function(a,b){switch(a){case i.VIEW_ONE:return g._("View 1 comment");case i.VIEW_ONE_MORE:return g._("View 1 more comment");case i.VIEW_ALL:return g._({"*":"View all {count} comments"},[g._param("count",h(b),[0,b.count])]);case i.VIEW_MORE_EXPLICIT:return g._({"*":{"*":"View {count} more comments","_1":"View {count} more comment"}},[g._param("count",h(b),[0,b.count]),g._plural(b.count)]);case i.VIEW_MORE:return g._("View more comments");case i.VIEW_PREVIOUS_EXPLICIT:return g._({"*":{"*":"View {count} previous comments","_1":"View {count} previous comment"}},[g._param("count",h(b),[0,b.count]),g._plural(b.count)]);case i.VIEW_PREVIOUS:return g._("View previous comments");default:return null}},_getCommentLabelWithHiddenCommentCount:function(a,b){switch(a){case i.VIEW_ONE:return g._("See comments");case i.VIEW_ALL:return g._("See all comments");case i.VIEW_ONE_MORE:case i.VIEW_MORE_EXPLICIT:case i.VIEW_MORE:return g._("See more comments");case i.VIEW_PREVIOUS_EXPLICIT:case i.VIEW_PREVIOUS:return g._("See previous comments");default:return null}},_getQuestionLabel:function(a,b){switch(a){case i.VIEW_ONE:return g._("View 1 question");case i.VIEW_ONE_MORE:return g._("View 1 more question");case i.VIEW_ALL:return g._({"*":"View all {count} questions"},[g._param("count",h(b),[0,b.count])]);case i.VIEW_MORE_EXPLICIT:return g._({"*":{"*":"View {count} more questions","_1":"View {count} more question"}},[g._param("count",h(b),[0,b.count]),g._plural(b.count)]);case i.VIEW_MORE:return g._("View more questions");case i.VIEW_PREVIOUS:return g._("View previous questions");case i.VIEW_PREVIOUS_EXPLICIT:return g._({"*":{"*":"View {count} previous questions","_1":"View {count} previous question"}},[g._param("count",h(b),[0,b.count]),g._plural(b.count)]);default:return null}},_getAnswerLabel:function(a,b){switch(a){case i.VIEW_ONE:return g._("View 1 answer");case i.VIEW_ONE_MORE:return g._("View 1 more answer");case i.VIEW_ALL:return g._({"*":"View all {count} answers"},[g._param("count",h(b),[0,b.count])]);case i.VIEW_MORE_EXPLICIT:return g._({"*":{"*":"View {count} more answers","_1":"View {count} more answer"}},[g._param("count",h(b),[0,b.count]),g._plural(b.count)]);case i.VIEW_MORE:return g._("View more answers");case i.VIEW_PREVIOUS_EXPLICIT:return g._({"*":{"*":"View {count} previous answers","_1":"View {count} previous answer"}},[g._param("count",h(b),[0,b.count]),g._plural(b.count)]);case i.VIEW_PREVIOUS:return g._("View previous answers");default:return null}},getLabel:function(a,b,c){if(b)return i._getReplyLabel(a,c);else return c.hideCount?i._getCommentLabelWithHiddenCommentCount(a,c):i._getCommentLabel(a,c)}};e.exports=i}),null);
__d("UFIPagerGenerator",["fbt","NumberFormat","React","TrackingNodes","UFIConstants","UFIOrderingModeStore","UFIPager.react","UFIPagerLabel","UFIRange"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("UFIConstants").UFIPaging;a={isBottomPager:function(a,c,d){return b("UFIOrderingModeStore").isInverted(c,d)&&!a},needsStartOfRangePager:function(a){return a>0},renderPagers:function(a){__p&&__p();var c=a.commentCount,d=a.contextArgs,e=a.currentLength,f=a.currentOffset,i=a.deletedCount,j=a.feedback,k=a.hideCount,l=a.onPageCallback,m=a.orderingMode,n=a.range;a=a.targetID;var o=c-i;i=e-i;var p=a!==d.ftentidentifier,q=this.isBottomPager(p,m,a);m={topPager:null,bottomPager:null};var r=n.isLoadingPrev();n=n.isLoadingNext();k={count:0,hideCount:k};var s=f+e==c;if(c<d.pagesize&&s||i===0){var t=Math.min(c,d.pagesize);s=function(){return l(q?h.BOTTOM:h.TOP,new(b("UFIRange"))(c-t,t))};var u;i===0?o==1?u=b("UFIPagerLabel").VIEW_ONE:(k.count=o,u=b("UFIPagerLabel").VIEW_ALL):o-i==1?u=b("UFIPagerLabel").VIEW_ONE_MORE:(u=b("UFIPagerLabel").VIEW_MORE_EXPLICIT,k.count=o-i);var v=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);u=b("UFIPagerLabel").getLabel(u,p,k);j=b("React").createElement(b("UFIPager.react"),{key:"allPager"+a,ref:q?"topLevelBottomPager":null,contextArgs:d,isUnseen:j.hasunseencollapsed,isLoading:q?n:r,isReply:p,pagerLabel:u,onPagerClick:s,"data-ft":v});q?m.bottomPager=j:m.topPager=j;return m}u=b("UFIPagerLabel").getLabel(b("UFIPagerLabel").VIEW_MORE,p,k);s=b("UFIPagerLabel").getLabel(b("UFIPagerLabel").VIEW_PREVIOUS,p,k);if(this.needsStartOfRangePager(f)){var w=Math.max(f-d.pagesize,0),x=f+e-w,y;if(!p||i>1){v=b("NumberFormat").formatInteger(i);j=b("NumberFormat").formatInteger(o);y=g._("{countshown} of {totalcount}",[g._param("countshown",v),g._param("totalcount",j)])}k=function(){return l(q?h.BOTTOM:h.TOP,new(b("UFIRange"))(w,x))};q?m.bottomPager=b("React").createElement(b("UFIPager.react"),{key:"bottomPager"+a,ref:p?null:"topLevelBottomPager",contextArgs:d,isLoading:r,isReply:p,pagerLabel:u,onPagerClick:k,countSentence:y}):m.topPager=b("React").createElement(b("UFIPager.react"),{key:"topPager"+a,contextArgs:d,isLoading:r,isReply:p,pagerLabel:s,onPagerClick:k,countSentence:y})}if(f+e<c){var z=Math.min(e+d.pagesize,c-f);i=function(){return l(q?h.TOP:h.BOTTOM,new(b("UFIRange"))(f,z))};q?m.topPager=b("React").createElement(b("UFIPager.react"),{key:"topPager"+a,contextArgs:d,isLoading:n,isReply:p,pagerLabel:s,onPagerClick:i}):m.bottomPager=b("React").createElement(b("UFIPager.react"),{key:"bottomPager",ref:p?null:"topLevelBottomPager",contextArgs:d,isLoading:n,isReply:p,pagerLabel:u,onPagerClick:i})}return m}};e.exports=a}),null);
__d("UFICommentFilterFallbackWarning.react",["cx","fbt","React","UFIPagerGenerator","UFIPaging","WebCommentViewOption","distinctArrayBy"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;function j(a,c,d){var e=c.availableComments;c=c.repliesMap;d?d=c[a]||[]:d=e||[];d=b("distinctArrayBy")(d,function(a){return a.id});return d.length}i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.shouldRender=function(a,c,d,e){__p&&__p();if(!a)return!1;var f=a.availableComments,g=a.commentCounts,h=a.deletedCounts,i=a.hasPagedToplevel,k=a.orderingMode,l=a.ranges,m=a.repliesExpandedMap,n=a.repliesMap;if(!f||!g||!h||!k||!l||!m||!n)return!1;f=Math.max((g[c]||0)-(h[c]||0),0);n=l[c];if(!n||!f||k!==b("WebCommentViewOption").RANKED_THREADED||e&&!m[c]||!e&&!i)return!1;g=j(c,a,e);h=n.isLoadingPrev();l=n.isLoadingNext();m=n.getOffset();i=n.getLength();a=b("UFIPagerGenerator").isBottomPager(e,k,c);n=Math.min(i,f);if(d===b("UFIPaging").ALL)return!h&&!l&&m===0&&i>=f&&g<n;else if(!a&&d===b("UFIPaging").TOP||a&&d===b("UFIPaging").BOTTOM)return!h&&m===0&&g<n;else if(!a&&d===b("UFIPaging").BOTTOM||a&&d===b("UFIPaging").TOP)return!l&&m+i>=f&&g<n;return!1};a.prototype.$1=function(){__p&&__p();var a=this.props,b=a.asReplyWarning;a=a.ufiProps;a=a||{};var c=a.feedback,d=a.orderingMode;a=c&&c.orderingmodes||[];c=a.find(function(a){return a&&a.value===d});a=c&&c.name;if(b)if(a)return h._("{ordering mode name} is selected, so some replies may have been filtered out.",[h._param("ordering mode name",a)]);else return h._("Some replies may have been filtered out by the selected ordering mode.");else if(a)return h._("{ordering mode name} is selected, so some comments may have been filtered out.",[h._param("ordering mode name",a)]);else return h._("Some comments may have been filtered out by the selected ordering mode.")};a.prototype.render=function(){var a=this.props,c=a.ufiProps,d=a.targetID,e=a.pagingDirection;a=a.asReplyWarning;return!this.constructor.shouldRender(c,d,e,a)?null:b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentFilterFallbackWarning__root -cx-PUBLIC-UFIComment__uficomponent UFIRow"},b("React").createElement("div",{className:"-cx-PRIVATE-UFICommentFilterFallbackWarning__label"},this.$1()))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentHeader.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("h6",babelHelpers["extends"]({},this.props,{className:"accessible_elem"}),h._("Comments"))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentLink.react",["cx","fbt","React","TrackingNodes","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=h._("Leave a comment"),c='{ "tn": "'+b("TrackingNodes").encodeTN(b("TrackingNodes").types.COMMENT_LINK)+'", "type": 24 }';return b("React").createElement("a",{className:"comment_link -cx-PRIVATE-UFI__commentlink","data-testid":"fb-ufi-commentlink",role:"button",href:this.props.href?this.props.href:"#",title:a,ajaxify:this.props.ajaxify,rel:this.props.rel,onClick:this.props.onClick,"data-ft":c,ref:"root"},this.props.children)};function a(){i.apply(this,arguments)}a.propTypes={onClick:c.func,href:c.string,ajaxify:c.string,rel:c.string};a.defaultProps={onClick:b("emptyFunction")};e.exports=a}),null);
__d("ScrollableArea.react",["cx","Bootloader","React","ReactDOM","ScrollBoundaryContain","Style","SubscriptionsHandler","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i="uiScrollableArea native",j="uiScrollableAreaWrap scrollable",k="uiScrollableAreaBody",l="uiScrollableAreaContent";d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.$4=function(a){if(this.$2)return;this.$1=a.fromNative(b("ReactDOM").findDOMNode(this.refs.root),{fade:this.props.fade,persistent:this.props.persistent,shadow:this.props.shadow===void 0?!0:this.props.shadow,tabIndex:this.props.tabIndex});this.$5();(this.props.onScroll||this.props.onEndReached||this.props.onTopReached)&&this.$1&&this.$1.subscribe("scroll",this.$6)}.bind(this),this.$6=function(){this.props.onScroll&&this.props.onScroll(),this.$1&&this.$1.isScrolledToBottom()?this.props.onEndReached&&this.props.onEndReached():this.$1&&this.$1.isScrolledToTop()&&(this.props.onTopReached&&this.props.onTopReached())}.bind(this),this.$3=new(b("SubscriptionsHandler"))()}a.prototype.render=function(){var a={height:this.props.height},c=Object.assign({},this.props);delete c.maxHeight;delete c.fade;delete c.persistent;return b("React").createElement("div",babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,i),ref:"root",role:this.props.role,style:babelHelpers["extends"]({},this.props.style||{},a)}),b("React").createElement("div",{className:j,ref:"wrap",role:this.props.role,style:{maxHeight:this.props.maxHeight}},b("React").createElement("div",{className:k,ref:"body",role:this.props.role},b("React").createElement("div",{className:l,role:this.props.role},this.props.children))))};a.prototype.getArea=function(){return this.$1};a.prototype.componentDidMount=function(){b("Bootloader").loadModules(["ScrollableArea"],this.$4,"ScrollableArea.react");var a=b("ReactDOM").findDOMNode(this.refs.wrap);if(a){a=b("ScrollBoundaryContain").applyToElem(a);a&&this.$3.addSubscriptions(a)}};a.prototype.componentDidUpdate=function(a){a.width!==this.props.width&&this.$5();a=this.getArea();a&&a.throttledAdjustGripper()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.destroy(),this.$2=!0,this.$3.release()};a.prototype.$5=function(){var a=b("ReactDOM").findDOMNode(this.refs.body);b("Style").set(a,"width",this.props.width+"px")};a.propTypes={width:c.number,height:c.oneOfType([c.number,c.string]),maxHeight:c.oneOfType([c.number,c.string]),onScroll:c.func,onEndReached:c.func,onTopReached:c.func,shadow:c.bool,fade:c.bool,persistent:c.bool,role:c.string};e.exports=a}),null);
__d("UFICommentScrollableArea.react",["React","ScrollableArea.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").Children;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.children,d=a.scrollcomments;a=a.scrollwidth;return d&&a?b("React").createElement(b("ScrollableArea.react"),{width:a},h.only(c)):h.only(c)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("CommentsTimeSpentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEndTime=function(a){this.$1.end_time=a;return this};a.prototype.setOrderingMode=function(a){this.$1.ordering_mode=a;return this};a.prototype.setPostFbid=function(a){this.$1.post_fbid=a;return this};a.prototype.setStartTime=function(a){this.$1.start_time=a;return this};a.prototype.setTimeSpentID=function(a){this.$1.time_spent_id=a;return this};a.prototype.setViewerHasInteracted=function(a){this.$1.viewer_has_interacted=a;return this};c={end_time:!0,ordering_mode:!0,post_fbid:!0,start_time:!0,time_spent_id:!0,viewer_has_interacted:!0};e.exports=a}),null);
__d("UFISeenTracker.react",["BanzaiODS","OnVisible.react","React","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){var b=!1;return function(){b||(a(),b=!0)}}c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.state={seen:!1},this.$1=h(this.logSeen.bind(this))}a.prototype.render=function(){return this.state.seen?this.props.children:b("React").createElement(b("OnVisible.react"),{onVisible:this.$1},this.props.children)};a.prototype.logSeen=function(){b("setTimeout")(function(){return this.setState({seen:!0})}.bind(this),100),b("BanzaiODS").bumpEntityKey("unsampled_feedback","rendered_ufi_client")};a.defaultProps={children:null};e.exports=a}),null);
__d("UFIComponentLogger.react",["CommentsTimeSpentTracker.react","React","UFIConfig","UFISeenTracker.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.children,d=a.contextArgs,e=a.feedback,f=a.hasComments,g=a.isPermalink;a=a.viewerHasInteractedWithComments;if(!c)return null;c=b("React").createElement("div",null,c);if(f&&b("UFIConfig").logCommentsTimespent){f=a||g;c=b("React").createElement(b("CommentsTimeSpentTracker.react"),{contextArgs:d,viewerHasInteracted:f,targetFBID:e.commentstargetfbid},c)}b("UFIConfig").logWhetherUFISeen&&(c=b("React").createElement(b("UFISeenTracker.react"),null,c));return c};function a(){g.apply(this,arguments)}a.propTypes={contextArgs:c.object.isRequired,feedback:c.object.isRequired,hasComments:c.bool.isRequired,isPermalink:c.bool.isRequired,viewerHasInteractedWithComments:c.bool.isRequired};a.defaultProps={children:null};e.exports=a}),null);
__d("UFIContainer.react",["cx","PrivateCommentsConfig","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:(this.props.isReplyList?"":"UFIList")+(b("PrivateCommentsConfig").dark_comment_theme_enabled&&this.props.isPrivateComment?" UFIPrivateCommentDarkTheme":"")+(this.props.isReplyList?" UFIReplyList":"")+(this.props.inReviewView?" UFIWhiteReplyList":"")+(this.props.isParentLiveDeleted?" UFITranslucentReplyList":"")+(this.props.isFirstCommentComponent?" -cx-PUBLIC-UFIComment__ufifirstcommentcomponent":"")+(this.props.isLastCommentComponent?" UFILastCommentComponent":"")+(this.props.isFirstComponent?" -cx-PUBLIC-UFIComment__ufifirstcomponent":"")+(this.props.isLastComponent?" -cx-PUBLIC-UFIComment__ufilastcomponent":"")+(this.props.shouldHide?" hidden_elem":"")},this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("UFIDispatcherContext.react",["React","UFIDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.getChildContext=function(){return{dispatch:this.props.dispatcher.dispatch.bind(this.props.dispatcher),stores:this.props.stores}};a.prototype.render=function(){return this.props.children};function a(){g.apply(this,arguments)}a.childContextTypes={dispatch:c.func,stores:c.object};e.exports=a}),null);
__d("UFILikeLink.react",["cx","fbt","Bootloader","React","ReactDOM","TrackingNodes","UFILikeWebDriverIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=null;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.state={nuxShown:!1},this.onClick=function(a){if(this.props.href)return;a.preventDefault();this.props.onClick&&this.props.onClick(a);if(this.props.showLikeNuxForGroupMallAds){a=!this.props.likeAction;!a?(b("ReactDOM").findDOMNode(this.$1).focus(),this.setState({nuxShown:!0}),b("Bootloader").loadModules(["UFIGroupMallAdsLikeNux.react"],function(a){j=a},"UFILikeLink.react")):this.setState({nuxShown:!1})}}.bind(this),c}a.prototype.renderLayers=function(){return!this.state.nuxShown||!j?null:b("React").createElement(j,{nuxShown:this.state.nuxShown,nuxContent:this.props.likeNuxContent,contextRef:this.$1})};a.prototype.render=function(){var a=!this.props.likeAction,c=a?b("UFILikeWebDriverIDs").UNLIKE_LINK:b("UFILikeWebDriverIDs").LIKE_LINK,d=!a||!this.props.forcelegacyrendering?h._("Like"):h._("Unlike"),e=b("TrackingNodes").getTrackingInfo(a?b("TrackingNodes").types.UNLIKE_LINK:b("TrackingNodes").types.LIKE_LINK),f=a?h._("Unlike this"):h._("Like this");return b("React").createElement("span",{className:"-cx-PRIVATE-UFI__likelinkcentered"},b("React").createElement("a",{className:"-cx-PRIVATE-UFI__likelink UFILikeLink"+(a?" UFILinkBright":""),ref:function(a){return this.$1=a}.bind(this),"data-testid":c,href:this.props.href||"#",role:"button","aria-label":f,"aria-pressed":a,rel:this.props.rel,ajaxify:this.props.ajaxify,onBlur:this.props.onBlur,onClick:this.onClick,onClickCapture:this.props.onClickCapture,onDragStart:this.props.onDragStart,onFocus:this.props.onFocus,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onKeyDown:function(a,b){this.props.onKeyDown&&this.props.onKeyDown(a,b)}.bind(this),"data-ft":e},d),this.renderLayers())};a.propTypes={ajaxify:c.string,forcelegacyrendering:c.bool,href:c.string,likeAction:c.bool,likeNuxContent:c.string,rel:c.string,showLikeNuxForGroupMallAds:c.bool};a.defaultProps={forcelegacyrendering:!1,showLikeNuxForGroupMallAds:!1};e.exports=a}),null);
__d("UFILikeSentenceText.react",["cx","ActorURI","HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","TextWithEntities.react","URI","XUFIReactionProfileBrowserController","XUFIReactionProfileDialogController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;function i(a,c,d,e){__p&&__p();if(e.count!=null){var f=b("ProfileBrowserTypes").LIKES,g={id:a.targetfbid,actorid:a.actorid},h=[],i;for(var j=0;j<c.length;j++)if(!c[j].count){i=c[j];i=i.entity;h.push(i.id)}i=new(b("URI"))("/ajax/like/tooltip.php").setQueryData({comment_fbid:a.targetfbid,comment_from:a.actorforpost,seen_user_fbids:h.length?h:!0});i=b("ActorURI").create(i,a.actorforpost);a.displayreactions?(c=b("XUFIReactionProfileDialogController").getURIBuilder().setString("ft_ent_identifier",a.entidentifier).getURI(),c=b("ActorURI").create(c,a.actorforpost),j=b("XUFIReactionProfileBrowserController").getURIBuilder().setString("ft_ent_identifier",a.entidentifier).getURI(),j=b("ActorURI").create(j,a.actorforpost)):(c=b("ProfileBrowserLink").constructDialogURI(f,g).toString(),j=b("ProfileBrowserLink").constructPageURI(f,g).toString());return b("React").createElement("a",{"data-testid":"n_other_people_link",className:"-cx-PUBLIC-UFILikeSentence__ufinowrap",rel:"dialog",ajaxify:c,href:j,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":i.toString(),role:"button"},d)}else{h={source_feedback_owner_id:a.ownerid,source_feedback_identifier:a.entidentifier};return b("HovercardLinkInterpolator")(d,e,null,null,"ufi",h)}}h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.feedback,c=this.props.likeSentenceData,d,e=c.aggregatedranges||c.aggregated_ranges;d=i;d=d.bind(null,a,c.ranges);return b("React").createElement(b("TextWithEntities.react"),{interpolator:d,ranges:Object.values(c.ranges),aggregatedRanges:e,text:c.text})};function a(){h.apply(this,arguments)}a.propTypes={contextArgs:c.object.isRequired,feedback:c.object.isRequired,likeSentenceData:c.object.isRequired};e.exports=a}),null);
__d("UFILikeSentence.react",["cx","fbt","invariant","ActorURI","Bootloader","LeftRight.react","React","SutroBlingBarGatingConfig","UFILikeSentenceText.react","UFIReactionsSocialSentence.react","URI","XUFIGroupSeenByProfileBrowserController","XUFIGroupSeenByProfileDialogController","intlSummarizeNumber","isEmpty","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=null;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={bootloadedSelectorModule:!1,hasSelectorModule:!!k},b}a.rendersSocialSentence=function(a){var c=a.feedback;a=a.contextArgs;var d=c.likesentences;c=c.reactionsentences;return a.hideSocialSentence?!1:d&&!b("isEmpty")(d.current)||c&&c.current&&c.current.text};a.prototype.componentDidMount=function(){this.$1(this.props)};a.prototype.componentDidUpdate=function(){this.$1(this.props)};a.prototype.$1=function(a){a.showOrderingModeSelector&&!this.state.bootloadedSelectorModule&&(a.contextArgs.entstream&&i(0,2394),b("Bootloader").loadModules(["UFIOrderingModeSelectorContainer.react"],function(a){k=a,this.setState({hasSelectorModule:!0})}.bind(this),"UFILikeSentence.react"),this.setState({bootloadedSelectorModule:!0}))};a.prototype.$2=function(){var a=this.props.feedback;a=a.likesentences;a=a||{};a=a.current;return a||{}};a.prototype.$3=function(){var a=this.props,c=a.feedback,d=a.contextArgs;if(!this.constructor.rendersSocialSentence(a))return null;if(d.hasReactions&&c.displayreactions)return b("React").createElement(b("UFIReactionsSocialSentence.react"),{feedback:c,contextArgs:d});a=this.$2();return a&&a.text?b("React").createElement("div",{className:"UFILikeSentenceText"},b("React").createElement(b("UFILikeSentenceText.react"),{contextArgs:d,feedback:c,likeSentenceData:a})):null};a.prototype.$4=function(){var a=this.props,c=a.contextArgs;a=a.commentCounts;if(!c.showCommentHeader)return null;a=a[c.ftentidentifier];a?(a=b("intlSummarizeNumber")(a),c=h._("Comments ({commentCount})",[h._param("commentCount",a)])):c=h._("Comments");return b("React").createElement("div",{className:"-cx-PRIVATE-UFILikeSentence__header"},c)};a.prototype.renderOrderingModeSelector=function(){return!this.props.showOrderingModeSelector||!this.state.hasSelectorModule||!k?null:b("React").createElement(k,{key:"orderingmodeselector",contextArgs:this.props.contextArgs,feedback:this.props.feedback})};a.prototype.renderSeenState=function(){var a=this.props.feedback;if(!a.seencount||a.seencount===0||this.props.contextArgs.entstream)return null;var c=null;a.seenbyall?a.seencount==1||a.seencount==2&&a.disable_seen_by_everyone?c=h._("Seen by both of you"):c=h._("Seen by everyone"):c=a.seencount==1?h._("Seen by 1"):h._("Seen by {count}",[h._param("count",a.seencount)]);var d=new(b("URI"))("/ajax/ufi/seen_list_hovercard.php").setQueryData({id:a.entidentifier}),e=b("ActorURI").create(b("XUFIGroupSeenByProfileDialogController").getURIBuilder().setInt("id",a.entidentifier).getURI(),a.actorforpost);a=b("ActorURI").create(b("XUFIGroupSeenByProfileBrowserController").getURIBuilder().setInt("id",a.entidentifier).getURI(),a.actorforpost);return b("React").createElement("a",{key:"seenstate",rel:"dialog",ajaxify:e,href:a,"data-hovercard":d.toString(),className:"UFISeenCount UFISeenCountRight"},b("React").createElement("span",{className:"UFISeenCountIcon"}),c)};a.prototype.render=function(){__p&&__p();var a=b("SutroBlingBarGatingConfig").enabled,c=this.$3(),d=this.renderOrderingModeSelector(),e=this.renderSeenState();e=[e,d].filter(function(a){return a!==null});var f=null;e.length===1?f=e[0]:e.length>1&&(f=b("React").createElement("div",{className:"-cx-PUBLIC-UFILikeSentence__multirightcontent"},e));e=null;var g=null;a?e=d:(e=c,g=f);if(!e&&!g)return null;else e||(e=this.$4(),!e&&g&&(e=b("React").createElement("div",null)));d=null;e?d=b("React").createElement(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.right},e,g):d=g;return b("React").createElement("div",{className:b("joinClasses")("UFIRow"+(this.props.feedback.likesentences.isunseen?" UFIUnseenItem":"")+" UFILikeSentence"+(!a&&this.props.isFirstComponent||a&&this.props.isFirstComponent&&f!==null?" -cx-PUBLIC-UFIComment__ufifirstcomponent":"")+(this.props.isLastComponent?" -cx-PUBLIC-UFIComment__ufilastcomponent":"")+(this.props.contextArgs.hasReactions?" -cx-PRIVATE-ufiReactionsBling__wrapper":"")+(a?" -cx-PRIVATE-ufiReactionsBling__sutroblinglocation":""))},d)};a.propTypes={contextArgs:c.object.isRequired,feedback:c.object.isRequired,commentCounts:c.object,isFirstComponent:c.bool,isLastComponent:c.bool,onOrderingModeChange:c.func,hasCommentOrderInverted:c.bool,showOrderingModeSelector:c.bool};a.contextTypes={dispatch:c.func};e.exports=a}),null);
__d("UFIMentionsInputProxy.react",["cx","Promise","JSResource","JSResourceReference","React","UFICommonInteractionEvents","UFICommonInteractionLogger","promiseDone","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").createClass({displayName:"UFIMentionsInputProxy",_cmdBuffer:[],_interactionTrackingID:null,getInitialState:function(){return{component:null,viewComponent:null}},componentDidMount:function(){this._cmdBuffer=this._cmdBuffer||[],this.props.initialData&&this._bootload()},componentDidUpdate:function(a,c){this._interactionTrackingID&&this.state.component&&!c.component&&(b("UFICommonInteractionLogger").endInteraction(this._interactionTrackingID),this._interactionTrackingID=null),this.state.component&&this._drainFnBuffer()},hasEnteredText:function(){return this._fillCmdBuffer({fn:"hasEnteredText",args:[]})},getText:function(){return this._fillCmdBuffer({fn:"getText",args:[]})},focus:function(){this._bootload(),this._fillCmdBuffer({fn:"focus",args:[]}),this.state.component||(this._interactionTrackingID=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI_COMPOSER_INPUT_FOCUS))},onDummyFocus:function(){this.props.onDummyFocus&&this.props.onDummyFocus(),this.focus()},submitComment:function(a,b){this._fillCmdBuffer({fn:"submitComment",args:[a,b]})},insertMention:function(a){this._fillCmdBuffer({fn:"insertMention",args:[a]})},insertEmoticon:function(a){this._fillCmdBuffer({fn:"insertEmoticon",args:[a]})},insertEmoji:function(a){this._fillCmdBuffer({fn:"insertEmoji",args:[a]})},replaceText:function(a,b){this._fillCmdBuffer({fn:"replaceText",args:[a,b]})},_bootload:function(){b("promiseDone")(b("Promise").all([b("JSResource")("UFIMentionsInput.react").__setRef("UFIMentionsInputProxy.react").load(),new(b("Promise"))(function(a){this.props.viewComponent instanceof b("JSResourceReference")?this.props.viewComponent.load().done(a):a(this.props.viewComponent)}.bind(this))]),function(a){var b=a[0];a=a[1];this.isMounted()&&this.setState({component:b,viewComponent:a})}.bind(this))},_shouldDrainBuffer:function(){return this._cmdBuffer.length>0},_fillCmdBuffer:function(a){if(this.refs.mentionsinputchild)return this._execCmd(a);else this._cmdBuffer=this._cmdBuffer.concat([a])},_drainFnBuffer:function(){if(this._shouldDrainBuffer()){var a=this._cmdBuffer[0];this._execCmd(a);this._cmdBuffer=this._cmdBuffer.slice(1);b("setImmediate")(this._drainFnBuffer)}},_execCmd:function(a){var b=this.refs.mentionsinputchild;return b[a.fn].apply(b,a.args)},_renderProxyInput:function(){var a="-cx-PRIVATE-UFIMentionsInput__proxy mentionsHidden";return b("React").createElement("input",{className:a,name:"add_comment_text",ref:"proxyInput",onFocus:this.focus})},_renderDummy:function(){var a="UFIAddCommentInput -cx-PUBLIC-UFIMentionsInput__input -cx-PUBLIC-UFIMentionsInput__dummy -cx-PRIVATE-UFIComposer__input";return b("React").createElement("div",{onClick:this.onDummyFocus,className:"-cx-PRIVATE-UFIComposer__composer",onFocus:this.onDummyFocus,onMouseOver:this._bootload,role:"presentation"},b("React").createElement("div",{className:a},this._renderProxyInput(),this.props.placeholder))},render:function(){var a=this.state.component;return!a?this._renderDummy():b("React").createElement(a,babelHelpers["extends"]({key:"mentionsinputchild",ref:"mentionsinputchild"},this.props,{viewComponent:this.state.viewComponent}),this.props.children)}});e.exports=a}),null);
__d("UFIReplySocialSentence.react",["cx","fbt","Badge.react","Image.react","LiveTimer","Middot.react","NumberFormat","React","Timestamp.react","UFIImageBlock.react","WebCommentViewOption","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=43200;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props.isLoading?"UFIReplySocialSentenceLoading":"",c=b("joinClasses")("UFIRow UFIReplySocialSentenceRow"+(this.props.isFirstComponent?" -cx-PUBLIC-UFIComment__ufifirstcomponent":"")+(this.props.isLastComponent?" -cx-PUBLIC-UFIComment__ufilastcomponent":"")),d,e,f=b("NumberFormat").formatInteger(this.props.replies);if(this.props.isExpanded)d=this.props.replies>1?h._({"*":"Hide {count} Replies"},[h._param("count",f,[0,this.props.replies])]):h._("Hide 1 Reply");else{d=this.props.replies>1?h._({"*":"{count} Replies"},[h._param("count",f,[0,this.props.replies])]):h._("1 Reply");f=this.props.timestamp;if(f){var g=b("LiveTimer").getApproximateServerTime()/1e3-f.time;(g<j||this.props.orderingMode==b("WebCommentViewOption").RECENT_ACTIVITY)&&(e=b("React").createElement("span",{className:"fcg"},b("React").createElement(b("Middot.react"),{key:"middot-timestamp"}),b("React").createElement(b("Timestamp.react"),{shorten:this.props.contextArgs.shortenTimestamp,time:f.time,text:f.text,verbose:f.verbose})))}}g=this.props.author;f=null;var i;if(g&&!this.props.isExpanded){f=b("React").createElement(b("Image.react"),{alt:"",src:g.thumbSrc,className:"img UFIActorImage -cx-PRIVATE-uiSquareImage__size32"});var k=null;this.props.showVerified&&(k=b("React").createElement(b("Badge.react"),{size:"xsmall",type:"verified"}));var l=g.persona&&g.firstName?h._("{author} ({persona})",[h._param("author",g.firstName),h._param("persona",g.persona)]):g.name;g.i18nGender?i=[h._({"*":"{author}{verified_badge} replied"},[h._param("author",l,[1,g.i18nGender]),h._param("verified_badge",k)])]:i=[h._("{author}{verified_badge} replied",[h._param("author",l),h._param("verified_badge",k)])];i.push(b("React").createElement(b("Middot.react"),{key:"middot-author"}),d)}else i=d;l=g&&!this.props.isExpanded;return b("React").createElement("div",{className:c,"data-ft":this.props["data-ft"]},b("React").createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},b("React").createElement(b("UFIImageBlock.react"),null,b("React").createElement("div",{className:(l?"UFIReplyActorPhotoWrapper":"")+(l?" UFIReplyActor":"")},b("React").createElement("i",{className:(this.props.isExpanded?"":"UFIPagerIcon")+(this.props.isExpanded?" UFICollapseIcon":"")+(l?" UFIIconWithActor":"")}),f),b("React").createElement("span",{className:a},b("React").createElement("span",{className:"UFIReplySocialSentenceLinkText"+(this.props.showVerified?" UFIReplySocialSentenceVerified":"")},i),e))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("UFIShareLink.react",["cx","fbt","CurrentUser","React","TrackingNodes","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){if(this.props.href&&this.props.href!=="#"&&!this.props.onClick)return;a.preventDefault();this.props.onClick&&this.props.onClick(a)}.bind(this),b}a.prototype.render=function(){var a=h._("Send this to friends or post it on your timeline.");b("CurrentUser").isWorkUser()&&(a=h._("Send this to coworkers or post it on your timeline."));var c='{ "tn": "'+b("TrackingNodes").encodeTN(b("TrackingNodes").types.SHARE_LINK)+'", "type": 25 }',d=this.props,e=d.openOnInit;d=babelHelpers.objectWithoutPropertiesLoose(d,["openOnInit"]);return b("React").createElement("span",{className:"-cx-PRIVATE-UFI__sharelinkcontainer -cx-PRIVATE-UFI__sharelinkcentered"},b("React").createElement("a",babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,"share_action_link -cx-PRIVATE-UFI__sharelink"),onClick:this.$1,ref:function(a){a&&e&&a.click()},role:"button",tabIndex:0,"data-ft":c,title:a}),h._("Share")))};e.exports=a}),null);
__d("UFIShareNowMenuBootloader.react",["BootloadedComponent.react","JSResource","React","UFIShareLink.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="ufi_share_link_placeholder",i="ufi_share_link_loaded";c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={openOnInit:!1,focusOnInit:!1,interacted:!1},b}a.prototype.render=function(){var a=this.state,c=a.openOnInit,d=a.focusOnInit;a=a.interacted;var e=this.props,f=e.endpoint,g=e.endpointData,j=e.onShow,k=e.onHide,l=e.openOnInitOverride;e=e.onMouseUp;var m=b("React").createElement(b("UFIShareLink.react"),{href:"#","data-testid":h,onMouseUp:e,onClick:function(){return this.setState({interacted:!0,openOnInit:!0})}.bind(this),onFocus:function(){return this.setState({interacted:!0,focusOnInit:!0})}.bind(this),onMouseOver:function(){return this.setState({openOnInit:!1,focusOnInit:!1,interacted:!0})}.bind(this)});return a||l?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIShareNowMenu.react").__setRef("UFIShareNowMenuBootloader.react"),bootloadPlaceholder:m,endpoint:f,endpointData:g,onShow:j,onHide:k,openOnInit:c||l,focusOnInit:d},b("React").createElement(b("UFIShareLink.react"),{onMouseUp:e,href:"#","data-testid":i})):m};e.exports=a}),null);
__d("UFIShareRow.react",["cx","fbt","invariant","ActorURI","CurrentUser","Layout.react","NumberFormat","React","UFICommentCount.react","URI","XUFIShareTooltipController.flow","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.$1=function(){var a=this.props,c=a.feedback;a=a.shownCommentCount;return a&&Number(a)!==0?b("React").createElement(b("UFICommentCount.react"),{feedback:c,commentCount:a}):null};a.prototype.render=function(){__p&&__p();var a=this.props.feedback.sharefbid||this.props.feedback.targetfbid,c=new(b("URI"))("/ajax/shares/view").setQueryData({target_fbid:a});a=new(b("URI"))("/shares/view").setQueryData({id:a});b("CurrentUser").isWorkUser()||(a=a.setSubdomain("www"));var d=this.props.contextArgs.loggedOutLinkConfig;d&&d.showShareLink&&(c=d.shareAjaxifyURI,c||i(0,5668));if(this.props.feedback.sharecount>1){d=this.props.useReducedShareCount?b("intlSummarizeNumber")(this.props.feedback.sharecount):b("NumberFormat").formatInteger(this.props.feedback.sharecount);d=h._("{count} Shares",[h._param("count",d)])}else d=h._("1 Share");var e="UFIRow UFIShareRow"+(this.props.isFirstComponent?" -cx-PUBLIC-UFIComment__ufifirstcomponent":"")+(this.props.isLastComponent?" -cx-PUBLIC-UFIComment__ufilastcomponent":""),f=b("ActorURI").create(b("XUFIShareTooltipController.flow").getURIBuilder().setString("ft_ent_identifier",this.props.feedback.entidentifier).getURI(),this.props.feedback.actorforpost);f=b("React").createElement("a",{className:"UFIShareLink",rel:"dialog","data-hover":"tooltip","data-tooltip-uri":f,ajaxify:c.toString(),href:a.toString()},d);c=this.$1();c&&(f=b("React").createElement(b("Layout.react"),null,b("React").createElement(l,null,f),b("React").createElement(k,null,c)));return b("React").createElement("div",{className:e},f)};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("UFISpamPlaceholder.react",["fbt","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return this.props.isLoading?b("React").createElement("div",{className:"UFIRow"},b("React").createElement("span",{className:"UFISpamCommentWrapper"},b("React").createElement(b("XUISpinner.react"),{className:"mls",background:"light",size:"small"}))):b("React").createElement("div",{className:"UFIRow"},b("React").createElement("a",{href:"#",role:"button",className:"UFISpamCommentLink",onClick:this.props.onClick,"aria-label":g._("Show comments marked as spam")},b("React").createElement("span",{"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":g._("{count} hidden",[g._param("count",this.props.numHidden)]),className:"UFISpamCommentWrapper"},b("React").createElement("i",{className:"placeholderIcon"}))))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("UFISpamPlaceholderContainer.react",["FluxContainer","React","UFISharedDispatcher","UFISpamPlaceholder.react","UFISpamStore","UFIStoryAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={isLoading:!0,numHidden:0,onClick:function(){}},b}a.getStores=function(){return[b("UFISpamStore")]};a.calculateState=function(a,c){var d=c.contextArgs,e=c.viewas,f=c.comment,g=c.parentCommentID;return{isLoading:!!b("UFISpamStore").getState()[f.id],numHidden:f.spamCommentIDs.length,onClick:function(){return b("UFISharedDispatcher").dispatch(b("UFIStoryAction").spamFetched(d,e,f.spamCommentIDs,g))}}};a.prototype.shouldComponentUpdate=function(a,b){return a.contextArgs!=this.props.contextArgs||a.viewas!=this.props.viewas||a.parentCommentID!=this.props.parentCommentID||b.isLoading!=this.state.isLoading||b.numHidden!=this.state.numHidden};a.prototype.render=function(){return b("React").createElement(b("UFISpamPlaceholder.react"),this.state)};e.exports=b("FluxContainer").create(a,{pure:!1,withProps:!0})}),null);
__d("UFITranslateAllRow.react",["cx","ContentTranslationStrings","Link.react","React","UFIInstanceAction","UFISharedDispatcher"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("UFISharedDispatcher").dispatch(b("UFIInstanceAction").translateAll(this.props.contextArgs))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:"UFIRow"},b("React").createElement("div",{className:"-cx-PRIVATE-UFITranslateAllRow__row"},b("React").createElement(b("Link.react"),{onClick:this.$1},b("ContentTranslationStrings").TRANSLATE_ALL_TEXT)))};e.exports=a}),null);
__d("XUIDialogButton.react",["cx","React","XUIButton.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.action,c=(a==="confirm"?"layerConfirm":"")+(a==="cancel"?" layerCancel":"")+(a==="button"?" layerButton":""),d=this.props.href;a==="cancel"?d="#":a==="button"&&((d==null||d==="")&&(d="#"));return b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,c),href:d,role:"button"}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("XUIDialogOkayButton.react",["cx","fbt","React","XUIDialogButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"-cx-PRIVATE-xuiDialogButtons__okbutton"),action:this.props.action,label:h._("OK")}))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={action:c.oneOf(["confirm","cancel","button"]).isRequired};e.exports=a}),null);
__d("XUIDialogBody.react",["cx","React","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a="-cx-PRIVATE-xuiDialog__body"+(this.props.useCustomPadding?"":" -cx-PUBLIC-xuiDialog__defaultbodypadding");return b("React").createElement(b("XUIText.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,a),display:"block",size:this.props.fontSize}),this.props.children)};function a(){"use strict";h.apply(this,arguments)}a.defaultProps={fontSize:"medium"};e.exports=a}),null);
__d("XUIOverlayFooter.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"-cx-PRIVATE-xuiOverlayFooter__root uiOverlayFooter")}),this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("XUIDialogFooter.react",["cx","LeftRight.react","React","XUIOverlayFooter.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a="-cx-PUBLIC-xuiDialog__footer"+(this.props.fullBleedBorder?" -cx-PRIVATE-xuiDialog__footerfullbleedborder":""),c=this.props,d=c.children,e=c.leftContent;c=babelHelpers.objectWithoutPropertiesLoose(c,["children","leftContent"]);return b("React").createElement(b("XUIOverlayFooter.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,a)}),b("React").createElement(b("XUIText.react"),{display:"block",fontSize:this.props.fontSize},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",null,e),b("React").createElement("div",null,d))))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={fontSize:c.oneOf(["medium","inherit"]),fullBleedBorder:c.bool,leftContent:c.object};a.defaultProps={fontSize:"medium"};e.exports=a}),null);
__d("XUIDialogTitle.react",["cx","fbt","LeftRight.react","React","XUICloseButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=null,c=this.props,d=c.closeButtonText,e=c.showCloseButton;c=babelHelpers.objectWithoutPropertiesLoose(c,["closeButtonText","showCloseButton"]);e&&(a=b("React").createElement(b("XUICloseButton.react"),{"data-testid":"dialog_title_close_button",label:d,className:"layerCancel -cx-PRIVATE-xuiDialog__closebutton"}));d=b("React").Children.toArray(this.props.children);return b("React").createElement("div",babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,"-cx-PRIVATE-xuiDialog__title"+(e?" -cx-PRIVATE-xuiDialog__titlewithclosebutton":""))}),b("React").createElement(b("LeftRight.react"),null,b("React").createElement("h3",{className:"-cx-PRIVATE-xuiDialog__titletext","data-hover":"tooltip","data-tooltip-display":"overflow"},d[0]),b("React").createElement("div",{className:"-cx-PRIVATE-xuiDialog__titleright"},d.slice(1),a)))};function a(){"use strict";i.apply(this,arguments)}a.defaultProps={closeButtonText:h._("Close"),showCloseButton:!0};e.exports=a}),null);
__d("SwapButtonDEPRECATED",["Arbiter","CSS","Event","Focus"],(function(a,b,c,d,e,f){function a(a,c,d){this._swapperButton=a,this._swappeeButton=c,b("Event").listen(a,"click",this.swap.bind(this)),d&&b("Event").listen(c,"click",this.unswap.bind(this)),b("Arbiter").subscribe("SwapButtonDEPRECATED/focusOnJoinButton",this.setFocusOnSwapper.bind(this),"all")}Object.assign(a.prototype,{_swapperButton:null,_swappeeButton:null,swap:function(a){b("CSS").hide(this._swapperButton),b("CSS").show(this._swappeeButton),a!==!1&&b("Focus").setWithoutOutline(this._swappeeButton)},unswap:function(a){b("CSS").show(this._swapperButton),b("CSS").hide(this._swappeeButton),a!==!1&&b("Focus").setWithoutOutline(this._swapperButton)},toggle:function(){b("CSS").toggle(this._swapperButton),b("CSS").toggle(this._swappeeButton)},setFocusOnSwapper:function(){this._swapperButton.focus()}});e.exports=a}),null);
__d("BasicFBNux",["AsyncRequest","XBasicFBNuxDismissController","XBasicFBNuxViewController"],(function(a,b,c,d,e,f){var g={subscribeHide:function(a,b){a.subscribe("hide",g.onDismiss.bind(this,b))},onView:function(a){a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()},onDismiss:function(a){a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}};e.exports=g}),null);
__d("FBStoriesPrivacyChangeSubscription",["BaseGraphQLSubscription","FBStoriesPrivacyChangeSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/owner_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("FBStoriesPrivacyChangeSubscriptionWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),owner_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"unified_stories_privacy_change_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesTraySubscription",["BaseGraphQLSubscription","FBStoriesTraySubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/user_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("FBStoriesTraySubscriptionWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),user_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"stories_tray_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesGraphQLAPI",["CurrentUser","FBStoriesArchivedCardQueryWebGraphQLQuery","FBStoriesAudienceModeMutationCallMutationWebGraphQLMutation","FBStoriesBucketsMigrationQueryWebGraphQLQuery","FBStoriesBucketsQueryWebGraphQLQuery","FBStoriesDeleteMutationWebGraphQLMutation","FBStoriesMutedBucketOwnersQueryWebGraphQLQuery","FBStoriesMuteMutationWebGraphQLMutation","FBStoriesPageBucketQueryWebGraphQLQuery","FBStoriesPrivacyChangeSubscription","FBStoriesPrivacySettingsQueryWebGraphQLQuery","FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation","FBStoriesTakeNegativeFeedbackActionMutationWebGraphQLMutation","FBStoriesTraySubscription","FBStoriesUnifiedSeenReceiptLastSeenTimeMutationWebGraphQLMutation","FBStoriesViewerBucketQueryWebGraphQLQuery","FBStoriesViewerBucketViewersQueryWebGraphQLQuery","FBStoriesVotePollMutationWebGraphQLMutation","GroupUnmuteMemberMutationWebGraphQLMutation","ReactionStickerStoryCardReactMutationWebGraphQLMutation","ReportStoryCardToAdminWebGraphQLMutation","StoriesArchiveCardViewerQueryWebGraphQLQuery","StoriesArchiveDeletionMutationWebGraphQLMutation","UnifiedStoriesArchiveSavingModeMutationWebGraphQLMutation","UnifiedStoriesSettingGraphQLWebGraphQLQuery","WebGraphQL","gkx","uniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={load:function(){return b("WebGraphQL").exec(b("gkx")("dSDqYxUFr-Z:fb_stories_web_tray_migration")?new(b("FBStoriesBucketsMigrationQueryWebGraphQLQuery"))():new(b("FBStoriesBucketsQueryWebGraphQLQuery"))())},loadSingleBucketStoryData:function(a){return b("WebGraphQL").exec(new(b("FBStoriesViewerBucketQueryWebGraphQLQuery"))({bucketID:a,threadCount:100}))},loadPageBucketStoryData:function(a){return b("WebGraphQL").exec(new(b("FBStoriesPageBucketQueryWebGraphQLQuery"))({pageID:a}))},loadSingleArchivedCardData:function(a){return b("WebGraphQL").exec(new(b("FBStoriesArchivedCardQueryWebGraphQLQuery"))({storyID:a}))},loadPrivacySettings:function(){return b("WebGraphQL").exec(new(b("FBStoriesPrivacySettingsQueryWebGraphQLQuery"))({}))},loadViewerListForThread:function(a){return b("WebGraphQL").exec(new(b("FBStoriesViewerBucketViewersQueryWebGraphQLQuery"))({threadId:a}))},loadStoriesArchiveSavingMode:function(){return b("WebGraphQL").exec(new(b("UnifiedStoriesSettingGraphQLWebGraphQLQuery"))({}))},loadArchivedCardsData:function(a,c,d,e){return b("WebGraphQL").exec(new(b("StoriesArchiveCardViewerQueryWebGraphQLQuery"))({current_id:a,current_time:c,lower_bound_time:d,upper_bound_time:e}))},subscribeToPrivacyChanges:function(a){return b("FBStoriesPrivacyChangeSubscription").subscribe(b("CurrentUser").getID(),a)},subscribeToTrayChanges:function(a){return b("FBStoriesTraySubscription").subscribe(b("CurrentUser").getID(),a)},unsubscribeFromTrayChanges:function(a){a.unsubscribe()},updateThreadSeenReciept:function(a){a={client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),thread_id:a};return b("WebGraphQL").exec(new(b("FBStoriesSeenRecieptsLastSeenTimeUpdateMutationWebGraphQLMutation"))({input:a}))},updateStorySeenReciept:function(a){a={client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),story_id:a};return b("WebGraphQL").exec(new(b("FBStoriesUnifiedSeenReceiptLastSeenTimeMutationWebGraphQLMutation"))({input:a}))},deleteStory:function(a,c){return b("WebGraphQL").exec(new(b("FBStoriesDeleteMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,story_thread_ids:[c]}}))},muteBucketOwner:function(a,c,d){return b("WebGraphQL").exec(new(b("FBStoriesMuteMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,user_id:c,should_unfollow_user_story:d}}))},loadMutedBucketOwnersList:function(){return b("WebGraphQL").exec(new(b("FBStoriesMutedBucketOwnersQueryWebGraphQLQuery"))({}))},pollVote:function(a,c){return b("WebGraphQL").exec(new(b("FBStoriesVotePollMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),story_card_poll_id:a,option:c,actor_id:b("CurrentUser").getID()}}))},reactToSticker:function(a,c){return b("WebGraphQL").exec(new(b("ReactionStickerStoryCardReactMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:b("CurrentUser").getID(),story_card_reaction_sticker_id:a,count:c}}))},reportThreadToAdmin:function(a,c){return b("WebGraphQL").exec(new(b("ReportStoryCardToAdminWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,report_to_admin_action:"REPORT",story_card_id:c}}))},takeNegativeFeedbackAction:function(a,c,d){return b("WebGraphQL").exec(new(b("FBStoriesTakeNegativeFeedbackActionMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,negative_feedback_action_id:d}}))},changeAudienceMode:function(a,c){return b("WebGraphQL").exec(new(b("FBStoriesAudienceModeMutationCallMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,audience_mode:c}}))},updateArchiveSavingMode:function(a,c){return b("WebGraphQL").exec(new(b("UnifiedStoriesArchiveSavingModeMutationWebGraphQLMutation"))({saving_mode:{client_mutation_id:b("uniqueID")(),actor_id:a,saving_mode:c}}))},deleteArchivedStoryCard:function(a,c){return b("WebGraphQL").exec(new(b("StoriesArchiveDeletionMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,archived_story_card_id:c}}))},unmuteFromGroup:function(a,c,d){return b("WebGraphQL").exec(new(b("GroupUnmuteMemberMutationWebGraphQLMutation"))({input:{client_mutation_id:b("uniqueID")(),actor_id:a,group_id:c,user_id:d}}))}}}),null);
__d("FBStoriesArchiveIntroductionDialog.react",["fbt","BasicFBNux","CurrentUser","FBStoriesGraphQLAPI","LayerFadeOnHide","ProfileTabConst","React","StoryArchiveAutoSavingMode","URI","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=500,j=5856;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={isShown:!0},this.$1=function(){this.setState({isShown:!1}),b("BasicFBNux").onDismiss(j)}.bind(this),this.$2=function(){this.$1()}.bind(this),c}a.prototype.componentDidMount=function(){b("BasicFBNux").onView(j),b("promiseDone")(b("FBStoriesGraphQLAPI").updateArchiveSavingMode(b("CurrentUser").getID(),b("StoryArchiveAutoSavingMode").ENABLED),null,null)};a.prototype.render=function(){var a=new(b("URI"))("/"+b("CurrentUser").getID()).setQueryData({sk:b("ProfileTabConst").STORIES_ARCHIVE});return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},layerHideOnBlur:!1,shown:this.state.isShown,width:i,onToggle:this.$1},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!0},g._("Introducing Stories Archive")),b("React").createElement(b("XUIDialogBody.react"),null,g._("Now photos and videos from your story will be kept in your archive so you don't have to save them to your phone. Only you can see your archive.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIButton.react"),{href:a,label:g._("View Settings")}),b("React").createElement(b("XUIDialogOkayButton.react"),{use:"confirm",action:"confirm",onClick:this.$2})))};e.exports=a}),null);
__d("BlueBarFixedBehaviorController",["Arbiter","Bootloader"],(function(a,b,c,d,e,f){__p&&__p();e.exports={init:function(a){__p&&__p();if(!("getBoundingClientRect"in a))return;var c,d=document.documentElement;function e(a){c!==a&&(c=a,b("Arbiter").inform("bluebarFixedBehaviorController/isfixed",c,"state"))}function f(){var b=a.getBoundingClientRect();b=b.top;var c=d?d.clientTop:0;b=Math.round(b)-c<=0;e(b)}function g(){e(!1)}f();b("Bootloader").loadModules(["Event"],function(a){a.listen(window,"scroll",f)},"BlueBarFixedBehaviorController");b("Arbiter").subscribe("quickling/response",f);b("Arbiter").subscribe("banner/shown",g)}}}),null);
__d("NavigationMessage",[],(function(a,b,c,d,e,f){a=Object.freeze({NAVIGATION_BEGIN:"NavigationMessage/navigationBegin",NAVIGATION_SELECT:"NavigationMessage/navigationSelect",NAVIGATION_FIRST_RESPONSE:"NavigationMessage/navigationFirstResponse",NAVIGATION_COMPLETED:"NavigationMessage/navigationCompleted",NAVIGATION_FAILED:"NavigationMessage/navigationFailed",NAVIGATION_COUNT_UPDATE:"NavigationMessage/navigationCount",NAVIGATION_FAVORITE_UPDATE:"NavigationMessage/navigationFavoriteUpdate",NAVIGATION_ITEM_REMOVED:"NavigationMessage/navigationItemRemoved",NAVIGATION_ITEM_HIDDEN:"NavigationMessage/navigationItemHidden",INTERNAL_LOADING_BEGIN:"NavigationMessage/internalLoadingBegin",INTERNAL_LOADING_COMPLETED:"NavigationMessage/internalLoadingCompleted"});e.exports=a}),null);
__d("UFITTLEndLoggerUtil",["Bootloader","gkx","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return!a?0:Object.values(a).reduce(function(a,b){b=b;b=b;return a+b.length},0)}a={endCommentTTLMarker:function(a,c){var d=b("performanceNow")();if(!b("gkx")("ov_AuTnD0x0:www_comment_qpl_tti_logging"))return;b("Bootloader").loadModules(["CommentTTLEndLogger"],function(a){a.log({numComments:g(c),timestamp:d})},"UFITTLEndLoggerUtil")}};e.exports=a}),null);
__d("ProfilePhotoPresenceGreenDot.react",["cx","AvailableListState","React","SubscriptionsHandler","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("requireDeferred")("PresenceStatus");c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={status:b("AvailableListState").OFFLINE},c}a.prototype.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(i.onReady(function(a){var b=function(){this.setState({status:a.get(this.props.profileID)})}.bind(this);this.$1.addSubscriptions(a.subscribe("change",b));b()}.bind(this)))};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.render=function(){return this.state.status===b("AvailableListState").ACTIVE?b("React").createElement("div",{className:"-cx-PRIVATE-FBProfilePhotoShadow__greendot"}):null};e.exports=a}),null);
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","CSS","Event","TooltipData","XFollowPrivacyNuxLogViewAsyncController","XPagesQOCExperimentLogExposureController","XPagesQualityOfConnectionsExperimentController","XPubcontentChainedSuggestionsController"],(function(a,b,c,d,e,f){__p&&__p();var g={SUBSCRIBED:"FollowingUser",UNSUBSCRIBED:"UnfollowingUser",_enable:function(a){b("Button").setEnabled(a,!0),b("TooltipData").remove(a)},_disable:function(a,c){b("Button").setEnabled(a,!1),c&&b("TooltipData").set(a,c)},init:function(a,c,d,e,f,h,i,j,k,l,m,n,o,p,q){__p&&__p();q===void 0&&(q=!1);var r=!m&&!o,s=!(k===void 0||k===null);s&&!i&&!j&&g._disable(c,k);b("Event").listen(c,"click",function(){__p&&__p();b("Arbiter").inform(g.SUBSCRIBED,{profile_id:e,contextID:n,suppress:!0});if(l){l.show();var a=b("XFollowPrivacyNuxLogViewAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).send()}if(p){a=b("XPagesQualityOfConnectionsExperimentController").getURIBuilder().setFBID("page_id",e).getURI();new(b("AsyncRequest"))().setURI(a).send()}if(q){a=b("XPagesQOCExperimentLogExposureController").getURIBuilder().setFBID("page_id",e).getURI();new(b("AsyncRequest"))().setURI(a).send()}});b("Arbiter").subscribe(g.SUBSCRIBED,function(k,l){__p&&__p();if(e==l.profile_id){f||d.suppressNextMouseEnter&&d.suppressNextMouseEnter();s&&(typeof l.connected!=="undefined"&&(i=l.connected),(i||j)&&g._enable(c));l.focusOnClick!==void 0&&(r=l.focusOnClick);a.swap(r);if(h===!0&&l.chaining!==!1){k=b("XPubcontentChainedSuggestionsController").getURIBuilder().setInt("profileid",e).getURI();new(b("AsyncRequest"))().setURI(k).send()}}});b("Arbiter").subscribe(g.UNSUBSCRIBED,function(f,h){e==h.profile_id&&(a.unswap(r),d.hideFlyout&&d.hideFlyout(),s&&(typeof h.connected!=="undefined"&&(i=h.connected),!i&&!j&&g._disable(c,k)),b("Arbiter").inform("SubMenu/Reset"))})},initSubscribe:function(a,c){b("Event").listen(a,"click",function(){setTimeout(b("Arbiter").inform.bind(b("Arbiter"),g.SUBSCRIBED,{profile_id:c}),0)})},initUnsubscribe:function(a,c,d,e){e===void 0&&(e=!1),b("Event").listen(a,"click",function(){setTimeout(b("Arbiter").inform.bind(b("Arbiter"),g.UNSUBSCRIBED,{profile_id:c,contextID:d}),0);if(e){var a=b("XPagesQOCExperimentLogExposureController").getURIBuilder().setFBID("page_id",c).getURI();new(b("AsyncRequest"))().setURI(a).send()}})},initSubscribeMenuItem:function(a,c,d){b("CSS").hide(c),this._initMenuItem(a,c,d)},initUnsubscribeMenuItem:function(a,c,d){b("CSS").hide(a),this._initMenuItem(a,c,d)},_initMenuItem:function(a,c,d){this.initSubscribe(a,d),this.initUnsubscribe(c,d),b("Arbiter").subscribe(g.SUBSCRIBED,function(d,e){b("CSS").hide(a),b("CSS").show(c)}),b("Arbiter").subscribe(g.UNSUBSCRIBED,function(d,e){b("CSS").hide(c),b("CSS").show(a)})}};e.exports=g}),null);
__d("PinnedCommentEventCreateSubscription",["BaseGraphQLSubscription","PinnedCommentEventCreateSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/video_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("PinnedCommentEventCreateSubscriptionWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),video_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"pinned_comment_event_create_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentLikeSubscription",["BaseGraphQLSubscription","CommentLikeWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/top_level_feedback_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("CommentLikeWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),top_level_feedback_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"comment_like_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("UFICommentSubscription",["BaseGraphQLSubscription","CommentCreateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/top_level_feedback_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("CommentCreateWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),top_level_feedback_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"comment_create_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("UFILikeSubscription",["BaseGraphQLSubscription","FeedbackLikeWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/feedback_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("FeedbackLikeWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),feedback_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"feedback_like_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("UFIPageCommentSubscription",["BaseGraphQLSubscription","PageCommentCreateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/top_level_feedback_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("PageCommentCreateWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),top_level_feedback_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"page_comment_create_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("UFIShareCountUpdateSubscription",["BaseGraphQLSubscription","LiveVideoShareCountUpdateWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/live_video_share_count_update_subscribe/feedback_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("LiveVideoShareCountUpdateWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),feedback_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"live_video_share_count_update_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("UFITypingSubscription",["BaseGraphQLSubscription","FeedbackTypingWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/feedback_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("FeedbackTypingWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),feedback_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"feedback_typing_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("LitestandClassicPlaceHolders",[],(function(a,b,c,d,e,f){var g={};a={register:function(a,b){g[a]=b},destroy:function(a){var b=g[a];b&&(b.parentNode.removeChild(b),delete g[a])}};e.exports=a}),null);
__d("LitestandClassicRHC",["Arbiter","BigPipe","DOMQuery","NavigationMessage","Run","SubscriptionsHandler","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){var d=new(b("SubscriptionsHandler"))(),e=d.release.bind(d);a=b("DOMQuery").scry(a,".pagelet");var f=a.length;d.addSubscriptions(c.subscribe(a.map(function(a){return a.id+"_displayed"}),function(){--f===0&&(b("Arbiter").inform("LitestandClassicRHC/loaded"),e())}),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,e),c.subscribeOnce(b("BigPipe").Events.displayed,function(){b("Arbiter").inform("LitestandClassicRHC/loaded"),e()}));b("Run").onLeave(e)}a={init:function(a){var c=b("BigPipe").getCurrentInstance();c&&c.arbiter?g(a,c.arbiter):b("Arbiter").subscribeOnce("BigPipe/init",function(b,c){g(a,c.arbiter)},"new")}};e.exports=a}),null);
__d("BanzaiAdapter",["Arbiter","BanzaiConsts","CurrentUser","QueryString","Run","SiteData","URI","UserAgent","ZeroRewrites","getAsyncParams","BanzaiConfig","requireCond","cr:gk.wasmosis_snappy_compress_Zjo8u5HRWbr"],(function(a,b,c,d,e,f){__p&&__p();var g=[],h=new(b("Arbiter"))(),i="/ajax/bz",j="POST",k={config:b("BanzaiConfig"),endpoint:i,useBeacon:!0,getUserID:function(){return b("CurrentUser").getID()},inform:function(a){h.inform(a)},subscribe:function(a,b){return h.subscribe(a,b)},cleanup:function(){var a=g;g=[];a.forEach(function(a){a.readyState<4&&a.abort()})},readyToSend:function(){return b("UserAgent").isBrowser("IE <= 8")||navigator.onLine},send:function(a,c,d,e){__p&&__p();var f=b("ZeroRewrites").rewriteURI(new(b("URI"))(i)),h=b("ZeroRewrites").getTransportBuilderForURI(f)();h.open(j,f.toString(),!0);h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.onreadystatechange=function(){if(h.readyState>=4){var a=g.indexOf(h);a>=0&&g.splice(a,1);try{a=h.status}catch(b){a=0}a==200?(c&&c(),e||k.inform(b("BanzaiConsts").OK)):(d&&d(a),e||k.inform(b("BanzaiConsts").ERROR))}};g.push(h);h.send(k.prepForTransit(a))},addRequestAuthData:function(a){return a},prepForTransit:function(a){var c=b("getAsyncParams")(j);c.q=JSON.stringify(a);c.ts=Date.now();c.ph=b("SiteData").push_phase;return b("QueryString").encode(c)},prepWadForTransit:function(a){if(a.snappy==null||a.snappy===!0){var c=Date.now(),d=JSON.stringify(a.posts),e=b("cr:gk.wasmosis_snappy_compress_Zjo8u5HRWbr").compressStringToSnappy(d);e!=null&&e.length<d.length?(a.posts=e,a.snappy_ms=Date.now()-c):delete a.snappy}},setHooks:function(a){},setUnloadHook:function(a){b("BanzaiConfig").gks&&b("BanzaiConfig").gks.beforeunload_hook?b("Run").onBeforeUnload(a._unload):b("Run").onAfterUnload(a._unload)},onUnload:function(a){b("Run").onAfterUnload(a)},isOkToSendViaBeacon:function(){return!0}};e.exports=k}),null);