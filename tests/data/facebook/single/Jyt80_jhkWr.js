if (self.CavalryLogger) { CavalryLogger.start_js(["E54+M"]); }

__d('FBMorePager.react',['cx','OnVisible.react','React','getViewportDimensions','throttle'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(m,n){j.constructor.call(this,m,n);this.state={isMounted:false,throttledCallback:c('throttle')(function(){return this.$FBMorePager1();}.bind(this),m.throttle),visible:false};}k.prototype.componentWillReceiveProps=function(m){this.$FBMorePager2(m);if(this.props.throttle!==m.throttle)this.setState({throttledCallback:c('throttle')(function(){return this.$FBMorePager1();}.bind(this),m.throttle)});};k.prototype.componentWillMount=function(){this.setState({isMounted:true});};k.prototype.componentWillUnmount=function(){this.setState({isMounted:false});};k.prototype.render=function(){return (c('React').createElement('div',{className:"_3fv0"+(this.state.visible?' '+"_3fv1":'')},c('React').createElement(c('OnVisible.react'),{buffer:this.props.buffer,onVisible:function(){return this.$FBMorePager3();}.bind(this),ref:'onVisible'},this.props.children)));};k.prototype.$FBMorePager2=function(){this.setState({visible:false});this.refs.onVisible&&this.refs.onVisible.reset();};k.prototype.$FBMorePager3=function(){this.setState({visible:true});this.state.throttledCallback();};k.prototype.$FBMorePager1=function(){this.state.isMounted&&this.props.onMore&&this.props.onMore();};var l=Math.min(c('getViewportDimensions')().height,c('getViewportDimensions')().width)*2;k.defaultProps={buffer:l,throttle:1000};f.exports=k;}),null);
__d('MapsReporterTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MapsReporterLoggerConfig',this.$MapsReporterTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MapsReporterLoggerConfig',this.$MapsReporterTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MapsReporterTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MapsReporterTypedLogger1=babelHelpers['extends']({},this.$MapsReporterTypedLogger1,j);return this;};h.prototype.setCategory=function(j){this.$MapsReporterTypedLogger1.category=j;return this;};h.prototype.setMapURI=function(j){this.$MapsReporterTypedLogger1.map_uri=j;return this;};h.prototype.setStage=function(j){this.$MapsReporterTypedLogger1.stage=j;return this;};h.prototype.setUserComment=function(j){this.$MapsReporterTypedLogger1.user_comment=j;return this;};h.prototype.setVC=function(j){this.$MapsReporterTypedLogger1.vc=j;return this;};var i={category:true,map_uri:true,stage:true,user_comment:true,vc:true};f.exports=h;}),null);
__d('FBTilesReportButton.react',['ix','fbt','AdsTextInput.react','ContextualDialogArrow','Image.react','Link.react','MapsReporterTypedLogger','MenuSeparator.react','PopoverMenu.react','React','ReactXUIMenu','SimpleXUIDialog','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogCloseButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ReactXUIMenu').Item;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.STAGE={CLICKED_BUTTON:'init',SELECTED_CATEGORY:'category',SUBMITTED_COMMENT:'submit_comment',REDIRECTED_TO_EXTERNAL_SITE:'external'};this.CATEGORY=[{category:'lineLabel',itemLabel:i._("Road Name"),itemIcon:h("114032"),title:i._("Report Problem With Road Name"),hint:i._("Which road is incorrectly named? (optional)")},{category:'line',itemLabel:i._("Road Shape"),itemIcon:h("114088"),title:i._("Report Problem With Road Shape"),hint:i._("Which road is incorrectly shaped? (optional)")},{category:'lineMissing',itemLabel:i._("Missing Road"),itemIcon:h("114009"),title:i._("Report Missing Road"),hint:i._("Which road is missing? (optional)")},{category:'polygon',itemLabel:i._("Building or Park Shape"),itemIcon:h("113021"),title:i._("Report Problem With Building or Park Shape"),hint:i._("Which building or park is incorrectly shaped? (optional)")},{category:'border',itemLabel:i._("Country, State or City Border"),itemIcon:h("113681"),title:i._("Report Problem With Border"),hint:i._("Which border is incorrectly drawn? (optional)")},{category:'other',itemLabel:i._("Other"),itemIcon:h("112584"),title:i._("Report Map Problem"),hint:i._("What's wrong with the map? (optional)")}];this.$FBTilesReportButton6=function(p){this.setState({comment:p});}.bind(this);this.$FBTilesReportButton2=function(){if(this.state.selectedCategory==='')this.$FBTilesReportButton7(this.STAGE.CLICKED_BUTTON);}.bind(this);this.$FBTilesReportButton3=function(){this.$FBTilesReportButton7(this.STAGE.SELECTED_CATEGORY);}.bind(this);this.$FBTilesReportButton4=function(){this.$FBTilesReportButton7(this.STAGE.REDIRECTED_TO_EXTERNAL_SITE);window.open(this.state.reportURL,'_blank');}.bind(this);this.$FBTilesReportButton5=function(){this.$FBTilesReportButton7(this.STAGE.SUBMITTED_COMMENT);var p=i._("Thank you"),q=i._("Your feedback helps us make Facebook maps better for everyone."),r=c('React').createElement(c('XUIDialogCloseButton.react'),{use:'confirm'});c('SimpleXUIDialog').showEx(q,p,r);}.bind(this);var o=this.props.mapConfig();this.state={mapURI:o.mapURI?o.mapURI:o.reportURL,mapSource:o.mapSource,reportURL:o.reportURL,selectedCategory:'',selectedCategoryTitle:'',selectedCategoryHint:'',comment:''};}m.prototype.render=function(){var n,o=this,p=[c('React').createElement(l,{key:'title',disabled:true},i._("Report Problem With")),c('React').createElement(c('MenuSeparator.react'),{key:'sep'})],q=function s(t){var u=o.CATEGORY[t],v=c('React').createElement(c('Image.react'),{src:u.itemIcon});p.push(c('React').createElement(l,{key:u.category,icon:v,onclick:function(){this.setState({selectedCategory:u.category,selectedCategoryTitle:u.title.toString(),selectedCategoryHint:u.hint.toString()});this.$FBTilesReportButton1();}.bind(o)},u.itemLabel));};for(var r=0;r<this.CATEGORY.length;r++)q(r);return c('React').createElement(c('PopoverMenu.react'),{alignh:'right',position:'above',menu:c('React').createElement(c('ReactXUIMenu'),null,p),layerBehaviors:[c('ContextualDialogArrow')],onHide:this.$FBTilesReportButton2},c('React').createElement(c('Link.react'),{ref:'reportButton',className:this.props.className},i._("Report")));};m.prototype.$FBTilesReportButton1=function(){var n=this.props.mapConfig();this.setState({mapURI:n.mapURI?n.mapURI:n.reportURL,mapSource:n.mapSource,reportURL:n.reportURL});if(n.mapSource==='HERE'){var o=c('React').createElement('div',null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$FBTilesReportButton3}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',use:'confirm',label:i._("Open"),onClick:this.$FBTilesReportButton4}));c('SimpleXUIDialog').showEx(i._("This map is operated by third-party providers. You will be redirected to them to provide feedback."),null,o);}else{var p=c('React').createElement('div',null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$FBTilesReportButton3}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',use:'confirm',label:i._("Send"),onClick:this.$FBTilesReportButton5}));c('SimpleXUIDialog').showEx(c('React').createElement(c('AdsTextInput.react'),{multiline:true,placeholder:this.state.selectedCategoryHint,onChange:this.$FBTilesReportButton6}),this.state.selectedCategoryTitle,p);}};m.prototype.$FBTilesReportButton7=function(n){new (c('MapsReporterTypedLogger'))().setStage(n).setCategory(this.state.selectedCategory).setUserComment(this.state.comment).setMapURI(this.state.mapURI).log();};f.exports=m;}),null);
__d('FBTilesStaticReportButton.react',['React','FBTilesReportButton.react'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.$FBTilesStaticReportButton1=function(){return this.props.staticMapConfig;}.bind(this);}j.prototype.render=function(){'use strict';return c('React').createElement(c('FBTilesReportButton.react'),{className:this.props.className,mapConfig:this.$FBTilesStaticReportButton1});};f.exports=j;}),null);
__d('EventsToggle',['CSS','Event'],(function a(b,c,d,e,f,g){function h(i,j,k,l,m){'use strict';this.$EventsToggle1=j;this.$EventsToggle2=k;this.$EventsToggle3=i;this.$EventsToggle4=l;this.$EventsToggle5=m;var n=this.toggle.bind(this);if(this.$EventsToggle5&&this.$EventsToggle5.href)c('Event').listen(this.$EventsToggle5,'click',this.clickTitle);if(this.$EventsToggle4){c('Event').listen(this.$EventsToggle4,'click',n);}else if(this.$EventsToggle1)c('Event').listen(this.$EventsToggle1,'click',n);}h.prototype.toggle=function(){'use strict';if(this.$EventsToggle3)c('CSS').toggleClass(this.$EventsToggle3,'hidden_elem');if(this.$EventsToggle1)c('CSS').toggle(this.$EventsToggle1);if(this.$EventsToggle2)c('CSS').toggle(this.$EventsToggle2);};h.prototype.clickTitle=function(i){'use strict';i.stopPropagation();};f.exports=h;}),null);
__d("XLtgPostTranslationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/intl\/see_translation\/",{ftid:{type:"String",required:true},text_size:{type:"Enum",defaultValue:"medium",enumType:1}});}),null);
__d('LtgPostTranslation',['Arbiter','AsyncRequest','ContentTranslationStrings','DOM','Event','highlight','LoadingIndicator.react','React','ReactDOM','UFIUIEvents','XLtgPostTranslationController'],(function a(b,c,d,e,f,g){'use strict';var h={_renderTranslation:function i(j,k){var l=c('DOM').create('div',{},k||c('ContentTranslationStrings').NO_TRANSLATION_AVAILABLE);c('DOM').replace(j,l);if(k)c('highlight')(l);},bindListener:function i(j,k){c('Event').listen(j,'click',function(event){event.prevent();c('ReactDOM').render(c('React').createElement(c('LoadingIndicator.react'),{size:'small',color:'white'}),j);var l=c('XLtgPostTranslationController').getURIBuilder().setString('ftid',k).getURI();new (c('AsyncRequest'))().setURI(l).setHandler(function(m){var n=m.getPayload();this._renderTranslation(j,n&&n.text);c('Arbiter').inform(c('UFIUIEvents').TranslationRendered);}.bind(this)).setErrorHandler(function(){this._renderTranslation(j,null);}.bind(this)).send();}.bind(this));}};f.exports=h;}),null);