if (self.CavalryLogger) { CavalryLogger.start_js(["uAkuL"]); }

__d("CommentsPluginSentryAction",[],(function a(b,c,d,e,f,g){f.exports={CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"};}),null);
__d("DeveloperCommentsModerationSource",[],(function a(b,c,d,e,f,g){f.exports={APP:"app",URL:"url"};}),null);
__d('SelectionState',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record,k={anchorKey:'',anchorOffset:0,focusKey:'',focusOffset:0,isBackward:false,hasFocus:false},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.prototype.serialize=function(){return ('Anchor: '+this.getAnchorKey()+':'+this.getAnchorOffset()+', '+'Focus: '+this.getFocusKey()+':'+this.getFocusOffset()+', '+'Is Backward: '+String(this.getIsBackward())+', '+'Has Focus: '+String(this.getHasFocus()));};m.prototype.getAnchorKey=function(){return this.get('anchorKey');};m.prototype.getAnchorOffset=function(){return this.get('anchorOffset');};m.prototype.getFocusKey=function(){return this.get('focusKey');};m.prototype.getFocusOffset=function(){return this.get('focusOffset');};m.prototype.getIsBackward=function(){return this.get('isBackward');};m.prototype.getHasFocus=function(){return this.get('hasFocus');};m.prototype.hasEdgeWithin=function(n,o,p){var q=this.getAnchorKey(),r=this.getFocusKey();if(q===r&&q===n){var s=this.getStartOffset(),t=this.getEndOffset();return o<=t&&s<=p;}if(n!==q&&n!==r)return false;var u=n===q?this.getAnchorOffset():this.getFocusOffset();return o<=u&&p>=u;};m.prototype.isCollapsed=function(){return (this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset());};m.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey();};m.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset();};m.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey();};m.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset();};m.createEmpty=function(n){return new m({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:false,hasFocus:false});};function m(){h.apply(this,arguments);}f.exports=m;}),null);
__d('MentionResultsPropTypes',['React','SearchableEntry','SelectionState'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={viewID:h.string.isRequired,selection:h.instanceOf(c('SelectionState')).isRequired,contextComponent:h.object.isRequired,mentionableEntries:h.array.isRequired,highlightedMentionable:h.instanceOf(c('SearchableEntry')),onMentionSelect:h.func.isRequired,onMentionHighlight:h.func.isRequired,onMentionRenderHighlight:h.func.isRequired};f.exports=i;}),null);
__d('MentionsLayer.react',['Bootloader','Locale','MentionResultsPropTypes','React','areEqual'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=false,j=c('Locale').isRTL(),k,l,m,n,o=5,p=c('React').createClass({displayName:'MentionsLayer',propTypes:babelHelpers['extends']({},c('MentionResultsPropTypes'),{typeaheadView:h.func.isRequired,typeaheadViewProps:h.object,autoflip:h.bool,position:h.oneOf(['above','below'])}),getInitialState:function r(){return {bootloaded:i};},componentDidMount:function r(){if(!this.state.bootloaded)q(function(){this.isMounted()&&this.setState({bootloaded:true});}.bind(this));},_onMentionSelect:function r(s,t){t.preventDefault();this.props.onMentionSelect(s,t);},shouldComponentUpdate:function r(s,t){return (this.state.bootloaded!==t.bootloaded||!c('areEqual')(this.props.mentionableEntries,s.mentionableEntries)||this.props.highlightedMentionable!==s.highlightedMentionable||this.props.characterOffset!==s.characterOffset);},render:function r(){if(!this.state.bootloaded)return null;var s=this.props.mentionableEntries,t=this.props.selection,u=t.isCollapsed()&&t.getHasFocus()&&s&&s.length,v=null,w=this.props.typeaheadViewProps,x=false;if(w&&w.positionAtContext){x=true;}else if(u)v=n(this.props.characterOffset,j);var y={};if(this.props.autoflip){y.ContextualLayerAutoFlip=l;y.ContextualLayerUpdateOnScroll=m;}var z=this.props.typeaheadView;return (c('React').createElement(k,{shown:u,context:this.props.contextComponent,contextBounds:v,containerWidthMatchContext:x,offsetY:o,position:this.props.position||'below',behaviors:y,shouldSetARIAProperties:false},c('React').createElement('div',{'data-testid':'mentions-contextual-layer'},c('React').createElement(z,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:s||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight}))));}});function q(r){c('Bootloader').loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(s,t,u,v){k=s;l=t;m=u;n=v;i=true;r();},'MentionsLayer.react');}f.exports=p;}),null);
__d('ActorBio.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderLink=function(r){return 'url' in r?c('React').createElement('a',babelHelpers['extends']({},this.props,{href:r.url}),r.name):c('React').createElement('span',null,r.name);}.bind(this),this.renderItem=function(r,s){var t=void 0;switch(r){case 'employer':if('position' in s){t=h._("{position} at {employer}",[h.param('position',this.renderLink(s.position)),h.param('employer',this.renderLink(s))]);}else t=h._("Works at {employer}",[h.param('employer',this.renderLink(s))]);break;case 'mutual_friend':t=h._("Friends with {user}",[h.param('user',this.renderLink(s))]);break;default:return this.renderLink(s);}return c('React').createElement('span',null,t);}.bind(this),n;}l.prototype.render=function(){var m=this.props.stats,n=this.props.preferredTypes;for(var o=0;o<n.length;o++)for(var p=0;p<n[o].length;p++){var q=n[o][p];if(q in m)return this.renderItem(q,m[q]);}return c('React').createElement('span',null);};l.propTypes={stats:k.object.isRequired,preferredTypes:k.array.isRequired};f.exports=l;}),null);
__d('UFIAttachedMediaPreview.react',['cx','fbt','Arbiter','BootloadedComponent.react','CloseButton.react','DOMContainer.react','DOMVector','HTML','Image.react','LoadingIndicator.react','React','ReactDOM','UFIUIEvents','XUISpinner.react','JSResource'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=80,n='ufi_photo_preview_test_id';j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$UFIAttachedMediaPreview1=0,q;}o.prototype.$UFIAttachedMediaPreview2=function(p,q){var r=void 0,s=void 0,t=void 0;if(q>p){t=m/q;r=p*t;s=q*t;}else{t=m/p;r=p*t;s=q*t;}return {height:Math.round(r),width:Math.round(s)};};o.prototype.$UFIAttachedMediaPreview3=function(){var p=c('ReactDOM').findDOMNode(this),q=p?c('DOMVector').getElementDimensions(p).y:0;if(q!==this.$UFIAttachedMediaPreview1){this.$UFIAttachedMediaPreview1=q;c('Arbiter').inform(c('UFIUIEvents').PhotoPreviewHeightChanged,{node:p});}};o.prototype.componentDidUpdate=function(){if(this.props.monitorHeight)this.$UFIAttachedMediaPreview3();};o.prototype.render=function(){var p=null,q=this.props.attachedPhoto||this.props.attachedSticker||this.props.attachedVideo||this.props.attachedGIF;if(q&&this.props.attachedSticker){var r=this.$UFIAttachedMediaPreview2(q.metadata.height,q.metadata.width),s=null,t=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){s=q.metadata.sprite_uri_2x;t=q.metadata.source_uri_2x;}else{s=q.metadata.sprite_uri;t=q.metadata.source_uri;}p=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null),bootloadLoader:c('JSResource')('Sticker.react').__setRef('UFIAttachedMediaPreview.react'),animationTrigger:'load_and_hover',frameCount:q.metadata.frameCount,frameRate:q.metadata.frameRate,framesPerCol:q.metadata.framesPerCol,framesPerRow:q.metadata.framesPerRow,spriteURI:s,sourceHeight:r.height,sourceURI:t,sourceWidth:r.width});}else if(q&&this.props.attachedGIF){if(q.markup){p=c('React').createElement(c('DOMContainer.react'),null,q.markup);}else{var u=this.props.attachedGIF.media.preview;p=c('React').createElement('div',{style:{height:u.height,width:u.width}},c('React').createElement(c('Image.react'),{src:u.url}));}}else if(q&&this.props.attachedPhoto){var v=q.markupPreview;if(v){if(c('HTML').isHTML(v.markup))v=c('HTML').replaceJSONWrapper(v.markup).getRootNode();p=c('React').createElement(c('DOMContainer.react'),{'data-testid':n},v);}else if(this.props.attachedPhoto&&this.props.attachedPhoto.metadata&&this.props.attachedPhoto.metadata.preview_uri)p=c('React').createElement('div',{style:{height:this.props.attachedPhoto.metadata.height}},c('React').createElement(c('Image.react'),{src:this.props.attachedPhoto.metadata.preview_uri}));}else if(this.props.isLoadingPhoto){p=c('React').createElement(c('LoadingIndicator.react'),{color:'white',className:'UFICommentPhotoAttachedPreviewLoadingIndicator',size:'medium'});}else if(this.props.videoStatus==='uploading'||this.props.attachedVideo&&this.props.videoStatus==='encoding'){p=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('OptimisticVideoComment.react').__setRef('UFIAttachedMediaPreview.react'),bootloadPlaceholder:c('React').createElement('span',null),videoFileURL:this.props.videoFileURL,videoStatus:this.props.videoStatus,progress:this.props.videoProgress});}else if(q&&this.props.attachedVideo)p=c('React').createElement('div',{className:"_3f0q"},c('React').createElement(c('DOMContainer.react'),null,q.markup));var w=null,x=this.props.attachedSticker?this.props.onRemoveAttachedStickerPreview:this.props.onRemoveAttachedMediaPreviewClicked;if(p!=null){var y=null;if(this.props.attachedSticker){y=i._("Remove Sticker");}else if(this.props.attachedPhoto){y=i._("Remove Photo");}else if(this.props.attachedVideo){y=i._("Remove Video");}else if(this.props.attachedGIF)y=i._("Remove GIF");w=c('React').createElement('div',{className:'UFICommentPhotoAttachedPreview pas'},p,c('React').createElement(c('CloseButton.react'),{tooltip:y,onClick:x,ariaLabel:y}));}return w;};o.propTypes={attachedPhoto:l.object,attachedVideo:l.object,attachedSticker:l.object,attachedGIF:l.object,onRemoveAttachedMediaPreviewClicked:l.func,onRemoveAttachedStickerPreview:l.func,subtitle:l.string,isLoadingPhoto:l.bool,videoFileURL:l.string,videoStatus:l.string,videoProgress:l.number};f.exports=o;}),null);
__d('DefaultDraftBlockRenderMap',['cx','immutable','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').Map,j=c('React').createElement('ul',{className:"_1bv0"}),k=c('React').createElement('ol',{className:"_1bv1"}),l=c('React').createElement('pre',{className:"_1bv2"}),m=i({'header-one':{element:'h1'},'header-two':{element:'h2'},'header-three':{element:'h3'},'header-four':{element:'h4'},'header-five':{element:'h5'},'header-six':{element:'h6'},'unordered-list-item':{element:'li',wrapper:j},'ordered-list-item':{element:'li',wrapper:k},blockquote:{element:'blockquote'},atomic:{element:'figure'},'code-block':{element:'pre',wrapper:l},unstyled:{element:'div',aliasedElements:['p']}});f.exports=m;}),null);
__d('DefaultDraftInlineStyle',[],(function a(b,c,d,e,f,g){'use strict';f.exports={BOLD:{fontWeight:'bold'},CODE:{fontFamily:'monospace',wordWrap:'break-word'},ITALIC:{fontStyle:'italic'},STRIKETHROUGH:{textDecoration:'line-through'},UNDERLINE:{textDecoration:'underline'}};}),null);
__d('CharacterMetadata',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Map,k=c('immutable').OrderedSet,l=c('immutable').Record,m=k(),n={style:m,entity:null},o=l(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.prototype.getStyle=function(){return this.get('style');};p.prototype.getEntity=function(){return this.get('entity');};p.prototype.hasStyle=function(s){return this.getStyle().has(s);};p.applyStyle=function(s,t){var u=s.set('style',s.getStyle().add(t));return p.create(u);};p.removeStyle=function(s,t){var u=s.set('style',s.getStyle().remove(t));return p.create(u);};p.applyEntity=function(s,t){var u=s.getEntity()===t?s:s.set('entity',t);return p.create(u);};p.create=function(s){if(!s)return q;var t={style:m,entity:null},u=j(t).merge(s),v=r.get(u);if(v)return v;var w=new p(u);r=r.set(u,w);return w;};function p(){h.apply(this,arguments);}var q=new p(),r=j([[j(n),q]]);p.EMPTY=q;f.exports=p;}),null);
__d('ContentStateInlineStyle',['CharacterMetadata','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').Map,i={add:function k(l,m,n){return j(l,m,n,true);},remove:function k(l,m,n){return j(l,m,n,false);}};function j(k,l,m,n){var o=k.getBlockMap(),p=l.getStartKey(),q=l.getStartOffset(),r=l.getEndKey(),s=l.getEndOffset(),t=o.skipUntil(function(u,v){return v===p;}).takeUntil(function(u,v){return v===r;}).concat(h([[r,o.get(r)]])).map(function(u,v){var w,x;if(p===r){w=q;x=s;}else{w=v===p?q:0;x=v===r?s:u.getLength();}var y=u.getCharacterList(),z;while(w<x){z=y.get(w);y=y.set(w,n?c('CharacterMetadata').applyStyle(z,m):c('CharacterMetadata').removeStyle(z,m));w++;}return u.set('characterList',y);});return k.merge({blockMap:o.merge(t),selectionBefore:l,selectionAfter:l});}f.exports=i;}),null);
__d('applyEntityToContentBlock',['CharacterMetadata'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){var m=i.getCharacterList();while(j<k){m=m.set(j,c('CharacterMetadata').applyEntity(m.get(j),l));j++;}return i.set('characterList',m);}f.exports=h;}),null);
__d('applyEntityToContentState',['immutable','applyEntityToContentBlock'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=i.getBlockMap(),m=j.getStartKey(),n=j.getStartOffset(),o=j.getEndKey(),p=j.getEndOffset(),q=l.skipUntil(function(r,s){return s===m;}).takeUntil(function(r,s){return s===o;}).toOrderedMap().merge(c('immutable').OrderedMap([[o,l.get(o)]])).map(function(r,s){var t=s===m?n:0,u=s===o?p:r.getLength();return c('applyEntityToContentBlock')(r,t,u,k);});return i.merge({blockMap:l.merge(q),selectionBefore:j,selectionAfter:j});}f.exports=h;}),null);
__d('DraftEntitySegments',[],(function a(b,c,d,e,f,g){'use strict';var h={getRemovalRange:function i(j,k,l,m,n){var o=l.split(' ');o=o.map(function(y,z){if(n==='forward'){if(z>0)return ' '+y;}else if(z<o.length-1)return y+' ';return y;});var p=m,q,r,s=null,t=null;for(var u=0;u<o.length;u++){r=o[u];q=p+r.length;if(j<q&&p<k){if(s!==null){t=q;}else{s=p;t=q;}}else if(s!==null)break;p=q;}var v=m+l.length,w=s===m,x=t===v;if(!w&&x||w&&!x)if(n==='forward'){if(t!==v)t++;}else if(s!==m)s--;return {start:s,end:t};}};f.exports=h;}),null);
__d('getRangesForDraftEntity',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){var l=[];j.findEntityRanges(function(m){return m.getEntity()===k;},function(m,n){l.push({start:m,end:n});});!!l.length||h(0);return l;}f.exports=i;}),null);
__d('getCharacterRemovalRange',['invariant','DraftEntitySegments','getRangesForDraftEntity'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k,l,m){var n=l.getStartOffset(),o=l.getEndOffset(),p=k.getEntityAt(n);if(!p)return l;var q=j.__get(p),r=q.getMutability();if(r==='MUTABLE')return l;var s=c('getRangesForDraftEntity')(k,p).filter(function(v){return n<v.end&&o>v.start;});s.length==1||h(0);var t=s[0];if(r==='IMMUTABLE')return l.merge({anchorOffset:t.start,focusOffset:t.end,isBackward:false});var u=c('DraftEntitySegments').getRemovalRange(n,o,k.getText().slice(t.start,t.end),t.start,m);return l.merge({anchorOffset:u.start,focusOffset:u.end,isBackward:false});}f.exports=i;}),null);
__d('generateRandomKey',[],(function a(b,c,d,e,f,g){'use strict';var h={},i=Math.pow(2,24);function j(){var k=void 0;while(k===undefined||h.hasOwnProperty(k)||!isNaN(+k))k=Math.floor(Math.random()*i).toString(32);h[k]=true;return k;}f.exports=j;}),null);
__d('removeEntitiesAtEdges',['invariant','CharacterMetadata','findRangesImmutable'],(function a(b,c,d,e,f,g,h){'use strict';function i(l,m){var n=l.getBlockMap(),o=l.getEntityMap(),p={},q=m.getStartKey(),r=m.getStartOffset(),s=n.get(q),t=k(o,s,r);if(t!==s)p[q]=t;var u=m.getEndKey(),v=m.getEndOffset(),w=n.get(u);if(q===u)w=t;var x=k(o,w,v);if(x!==w)p[u]=x;if(!Object.keys(p).length)return l.set('selectionAfter',m);return l.merge({blockMap:n.merge(p),selectionAfter:m});}function j(l,m,n){var o;c('findRangesImmutable')(l,function(p,q){return p.getEntity()===q.getEntity();},function(p){return p.getEntity()===m;},function(p,q){if(p<=n&&q>=n)o={start:p,end:q};});typeof o==='object'||h(0);return o;}function k(l,m,n){var o=m.getCharacterList(),p=n>0?o.get(n-1):undefined,q=n<o.count()?o.get(n):undefined,r=p?p.getEntity():undefined,s=q?q.getEntity():undefined;if(s&&s===r){var t=l.__get(s);if(t.getMutability()!=='MUTABLE'){var u=j(o,s,n),v=u.start,w=u.end,x;while(v<w){x=o.get(v);o=o.set(v,c('CharacterMetadata').applyEntity(x,null));v++;}return m.set('characterList',o);}}return m;}f.exports=i;}),null);
__d('getContentStateFragment',['generateRandomKey','removeEntitiesAtEdges'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=j.getStartKey(),l=j.getStartOffset(),m=j.getEndKey(),n=j.getEndOffset(),o=c('removeEntitiesAtEdges')(i,j),p=o.getBlockMap(),q=p.keySeq(),r=q.indexOf(k),s=q.indexOf(m)+1,t=p.slice(r,s).map(function(u,v){var w=c('generateRandomKey')(),x=u.getText(),y=u.getCharacterList();if(k===m)return u.merge({key:w,text:x.slice(l,n),characterList:y.slice(l,n)});if(v===k)return u.merge({key:w,text:x.slice(l),characterList:y.slice(l)});if(v===m)return u.merge({key:w,text:x.slice(0,n),characterList:y.slice(0,n)});return u.set('key',w);});return t.toOrderedMap();}f.exports=h;}),null);
__d('BlockMapBuilder',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').OrderedMap,i={createFromArray:function j(k){return h(k.map(function(l){return [l.getKey(),l];}));}};f.exports=i;}),null);
__d('insertIntoList',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){if(k===i.count()){j.forEach(function(n){i=i.push(n);});}else if(k===0){j.reverse().forEach(function(n){i=i.unshift(n);});}else{var l=i.slice(0,k),m=i.slice(k);i=l.concat(j,m).toList();}return i;}f.exports=h;}),null);
__d('insertFragmentIntoContentState',['invariant','BlockMapBuilder','generateRandomKey','insertIntoList'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k,l){k.isCollapsed()||h(0);var m=k.getStartKey(),n=k.getStartOffset(),o=j.getBlockMap(),p=l.size,q,r;if(p===1){var s=o.get(m),t=l.first(),u=s.getText(),v=s.getCharacterList(),w=s.merge({text:u.slice(0,n)+t.getText()+u.slice(n),characterList:c('insertIntoList')(v,t.getCharacterList(),n),data:t.getData()});o=o.set(m,w);q=m;r=n+t.getText().length;return j.merge({blockMap:o.set(m,w),selectionBefore:k,selectionAfter:k.merge({anchorKey:q,anchorOffset:r,focusKey:q,focusOffset:r,isBackward:false})});}var x=[];j.getBlockMap().forEach(function(y,z){if(z!==m){x.push(y);return;}var aa=y.getText(),ba=y.getCharacterList(),ca=aa.length,da=aa.slice(0,n),ea=ba.slice(0,n),fa=l.first(),ga=y.merge({text:da+fa.getText(),characterList:ea.concat(fa.getCharacterList()),type:da?y.getType():fa.getType(),data:fa.getData()});x.push(ga);l.slice(1,p-1).forEach(function(la){x.push(la.set('key',c('generateRandomKey')()));});var ha=aa.slice(n,ca),ia=ba.slice(n,ca),ja=l.last();q=c('generateRandomKey')();var ka=ja.merge({key:q,text:ja.getText()+ha,characterList:ja.getCharacterList().concat(ia),data:ja.getData()});x.push(ka);});r=l.last().getLength();return j.merge({blockMap:c('BlockMapBuilder').createFromArray(x),selectionBefore:k,selectionAfter:k.merge({anchorKey:q,anchorOffset:r,focusKey:q,focusOffset:r,isBackward:false})});}f.exports=i;}),null);
__d('insertTextIntoContentState',['invariant','immutable','insertIntoList'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').Repeat;function j(k,l,m,n){l.isCollapsed()||h(0);var o=m.length;if(!o)return k;var p=k.getBlockMap(),q=l.getStartKey(),r=l.getStartOffset(),s=p.get(q),t=s.getText(),u=s.merge({text:t.slice(0,r)+m+t.slice(r,s.getLength()),characterList:c('insertIntoList')(s.getCharacterList(),i(n,o).toList(),r)}),v=r+o;return k.merge({blockMap:p.set(q,u),selectionAfter:l.merge({anchorOffset:v,focusOffset:v})});}f.exports=j;}),null);
__d('modifyBlockForContentState',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').Map;function i(j,k,l){var m=k.getStartKey(),n=k.getEndKey(),o=j.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m;}).takeUntil(function(q,r){return r===n;}).concat(h([[n,o.get(n)]])).map(l);return j.merge({blockMap:o.merge(p),selectionBefore:k,selectionAfter:k});}f.exports=i;}),null);
__d('removeRangeFromContentState',['immutable'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){if(k.isCollapsed())return j;var l=j.getBlockMap(),m=k.getStartKey(),n=k.getStartOffset(),o=k.getEndKey(),p=k.getEndOffset(),q=l.get(m),r=l.get(o),s;if(q===r){s=i(q.getCharacterList(),n,p);}else s=q.getCharacterList().slice(0,n).concat(r.getCharacterList().slice(p));var t=q.merge({text:q.getText().slice(0,n)+r.getText().slice(p),characterList:s}),u=l.toSeq().skipUntil(function(v,w){return w===m;}).takeUntil(function(v,w){return w===o;}).concat(c('immutable').Map([[o,null]])).map(function(v,w){return w===m?t:null;});l=l.merge(u).filter(function(v){return !!v;});return j.merge({blockMap:l,selectionBefore:k,selectionAfter:k.merge({anchorKey:m,anchorOffset:n,focusKey:m,focusOffset:n,isBackward:false})});}function i(j,k,l){if(k===0){while(k<l){j=j.shift();k++;}}else if(l===j.count()){while(l>k){j=j.pop();l--;}}else{var m=j.slice(0,k),n=j.slice(l);j=m.concat(n).toList();}return j;}f.exports=h;}),null);
__d('splitBlockInContentState',['invariant','immutable','generateRandomKey'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').Map;function j(k,l){l.isCollapsed()||h(0);var m=l.getAnchorKey(),n=l.getAnchorOffset(),o=k.getBlockMap(),p=o.get(m),q=p.getText(),r=p.getCharacterList(),s=p.merge({text:q.slice(0,n),characterList:r.slice(0,n)}),t=c('generateRandomKey')(),u=s.merge({key:t,text:q.slice(n),characterList:r.slice(n),data:i()}),v=o.toSeq().takeUntil(function(y){return y===p;}),w=o.toSeq().skipUntil(function(y){return y===p;}).rest(),x=v.concat([[s.getKey(),s],[u.getKey(),u]],w).toOrderedMap();return k.merge({blockMap:x,selectionBefore:l,selectionAfter:l.merge({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:false})});}f.exports=j;}),null);
__d('DraftModifier',['invariant','CharacterMetadata','ContentStateInlineStyle','immutable','applyEntityToContentState','getCharacterRemovalRange','getContentStateFragment','insertFragmentIntoContentState','insertTextIntoContentState','modifyBlockForContentState','removeEntitiesAtEdges','removeRangeFromContentState','splitBlockInContentState'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').OrderedSet,j={replaceText:function k(l,m,n,o,p){var q=c('removeEntitiesAtEdges')(l,m),r=c('removeRangeFromContentState')(q,m),s=c('CharacterMetadata').create({style:o||i(),entity:p||null});return c('insertTextIntoContentState')(r,r.getSelectionAfter(),n,s);},insertText:function k(l,m,n,o,p){m.isCollapsed()||h(0);return j.replaceText(l,m,n,o,p);},moveText:function k(l,m,n){var o=c('getContentStateFragment')(l,m),p=j.removeRange(l,m,'backward');return j.replaceWithFragment(p,n,o);},replaceWithFragment:function k(l,m,n){var o=c('removeEntitiesAtEdges')(l,m),p=c('removeRangeFromContentState')(o,m);return c('insertFragmentIntoContentState')(p,p.getSelectionAfter(),n);},removeRange:function k(l,m,n){if(m.getAnchorKey()===m.getFocusKey()){var o=m.getAnchorKey(),p=m.getStartOffset(),q=m.getEndOffset(),r=l.getBlockForKey(o),s=r.getEntityAt(p),t=r.getEntityAt(q-1);if(s&&s===t){var u=c('getCharacterRemovalRange')(l.getEntityMap(),r,m,n);return c('removeRangeFromContentState')(l,u);}}var v=c('removeEntitiesAtEdges')(l,m);return c('removeRangeFromContentState')(v,m);},splitBlock:function k(l,m){var n=c('removeEntitiesAtEdges')(l,m),o=c('removeRangeFromContentState')(n,m);return c('splitBlockInContentState')(o,o.getSelectionAfter());},applyInlineStyle:function k(l,m,n){return c('ContentStateInlineStyle').add(l,m,n);},removeInlineStyle:function k(l,m,n){return c('ContentStateInlineStyle').remove(l,m,n);},setBlockType:function k(l,m,n){return c('modifyBlockForContentState')(l,m,function(o){return o.merge({type:n,depth:0});});},setBlockData:function k(l,m,n){return c('modifyBlockForContentState')(l,m,function(o){return o.merge({data:n});});},mergeBlockData:function k(l,m,n){return c('modifyBlockForContentState')(l,m,function(o){return o.merge({data:o.getData().merge(n)});});},applyEntity:function k(l,m,n){var o=c('removeEntitiesAtEdges')(l,m);return c('applyEntityToContentState')(o,m,n);}};f.exports=j;}),null);
__d('BlockTree',['immutable','emptyFunction','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('immutable').Repeat,j=c('immutable').Record,k=c('emptyFunction').thatReturnsTrue,l='-',m={start:null,end:null},n=j(m),o={start:null,end:null,decoratorKey:null,leaves:null},p=j(o),q={generate:function t(u,v,w){var x=v.getLength();if(!x)return h.of(new p({start:0,end:0,decoratorKey:null,leaves:h.of(new n({start:0,end:0}))}));var y=[],z=w?w.getDecorations(v,u):h(i(null,x)),aa=v.getCharacterList();c('findRangesImmutable')(z,s,k,function(ba,ca){y.push(new p({start:ba,end:ca,decoratorKey:z.get(ba),leaves:r(aa.slice(ba,ca).toList(),ba)}));});return h(y);},getFingerprint:function t(u){return u.map(function(v){var w=v.get('decoratorKey'),x=w!==null?w+'.'+(v.get('end')-v.get('start')):'';return ''+x+'.'+v.get('leaves').size;}).join(l);}};function r(t,u){var v=[],w=t.map(function(x){return x.getStyle();}).toList();c('findRangesImmutable')(w,s,k,function(x,y){v.push(new n({start:x+u,end:y+u}));});return h(v);}function s(t,u){return t===u;}f.exports=q;}),null);
__d('ContentBlock',['immutable','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').List,k=c('immutable').Map,l=c('immutable').OrderedSet,m=c('immutable').Record,n=l(),o={key:'',type:'unstyled',text:'',characterList:j(),depth:0,data:k()},p=m(o);h=babelHelpers.inherits(q,p);i=h&&h.prototype;q.prototype.getKey=function(){return this.get('key');};q.prototype.getType=function(){return this.get('type');};q.prototype.getText=function(){return this.get('text');};q.prototype.getCharacterList=function(){return this.get('characterList');};q.prototype.getLength=function(){return this.getText().length;};q.prototype.getDepth=function(){return this.get('depth');};q.prototype.getData=function(){return this.get('data');};q.prototype.getInlineStyleAt=function(t){var u=this.getCharacterList().get(t);return u?u.getStyle():n;};q.prototype.getEntityAt=function(t){var u=this.getCharacterList().get(t);return u?u.getEntity():null;};q.prototype.findStyleRanges=function(t,u){c('findRangesImmutable')(this.getCharacterList(),r,t,u);};q.prototype.findEntityRanges=function(t,u){c('findRangesImmutable')(this.getCharacterList(),s,t,u);};function q(){h.apply(this,arguments);}function r(t,u){return t.getStyle()===u.getStyle();}function s(t,u){return t.getEntity()===u.getEntity();}f.exports=q;}),null);
__d('sanitizeDraftText',[],(function a(b,c,d,e,f,g){'use strict';var h=new RegExp('\r','g');function i(j){return j.replace(h,'');}f.exports=i;}),null);
__d('ContentState',['BlockMapBuilder','CharacterMetadata','ContentBlock','DraftEntity','immutable','SelectionState','generateRandomKey','sanitizeDraftText'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').List,k=c('immutable').Record,l=c('immutable').Repeat,m={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},n=k(m);h=babelHelpers.inherits(o,n);i=h&&h.prototype;o.prototype.getEntityMap=function(){return c('DraftEntity');};o.prototype.getBlockMap=function(){return this.get('blockMap');};o.prototype.getSelectionBefore=function(){return this.get('selectionBefore');};o.prototype.getSelectionAfter=function(){return this.get('selectionAfter');};o.prototype.getBlockForKey=function(p){var q=this.getBlockMap().get(p);return q;};o.prototype.getKeyBefore=function(p){return this.getBlockMap().reverse().keySeq().skipUntil(function(q){return q===p;}).skip(1).first();};o.prototype.getKeyAfter=function(p){return this.getBlockMap().keySeq().skipUntil(function(q){return q===p;}).skip(1).first();};o.prototype.getBlockAfter=function(p){return this.getBlockMap().skipUntil(function(q,r){return r===p;}).skip(1).first();};o.prototype.getBlockBefore=function(p){return this.getBlockMap().reverse().skipUntil(function(q,r){return r===p;}).skip(1).first();};o.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray();};o.prototype.getFirstBlock=function(){return this.getBlockMap().first();};o.prototype.getLastBlock=function(){return this.getBlockMap().last();};o.prototype.getPlainText=function(p){return this.getBlockMap().map(function(q){return q?q.getText():'';}).join(p||'\n');};o.prototype.getLastCreatedEntityKey=function(){return c('DraftEntity').__getLastCreatedEntityKey();};o.prototype.hasText=function(){var p=this.getBlockMap();return (p.size>1||p.first().getLength()>0);};o.prototype.createEntity=function(p,q,r){c('DraftEntity').__create(p,q,r);return this;};o.prototype.mergeEntityData=function(p,q){c('DraftEntity').__mergeData(p,q);return this;};o.prototype.replaceEntityData=function(p,q){c('DraftEntity').__replaceData(p,q);return this;};o.prototype.addEntity=function(p){c('DraftEntity').__add(p);return this;};o.prototype.getEntity=function(p){return c('DraftEntity').__get(p);};o.createFromBlockArray=function(p,q){var r=Array.isArray(p)?p:p.contentBlocks,s=c('BlockMapBuilder').createFromArray(r),t=s.isEmpty()?new (c('SelectionState'))():c('SelectionState').createEmpty(s.first().getKey());return new o({blockMap:s,entityMap:q||c('DraftEntity'),selectionBefore:t,selectionAfter:t});};o.createFromText=function(p){var q=arguments.length<=1||arguments[1]===undefined?/\r\n?|\n/g:arguments[1],r=p.split(q),s=r.map(function(t){t=c('sanitizeDraftText')(t);return new (c('ContentBlock'))({key:c('generateRandomKey')(),text:t,type:'unstyled',characterList:j(l(c('CharacterMetadata').EMPTY,t.length))});});return o.createFromBlockArray(s);};function o(){h.apply(this,arguments);}f.exports=o;}),null);
__d('UnicodeBidiService',['invariant','UnicodeBidi','UnicodeBidiDirection','UnicodeBidiGlobalDirection'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){if(!j){j=c('UnicodeBidiGlobalDirection').getDir();}else c('UnicodeBidiDirection').isStrong(j)||h(0);this.$UnicodeBidiService1=j;this.reset();}i.prototype.reset=function(){this.$UnicodeBidiService2=this.$UnicodeBidiService1;};i.prototype.getDirection=function(j){this.$UnicodeBidiService2=c('UnicodeBidi').getDirection(j,this.$UnicodeBidiService2);return this.$UnicodeBidiService2;};f.exports=i;}),null);
__d('EditorBidiService',['immutable','UnicodeBidiService','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').OrderedMap,i,j={getDirectionMap:function k(l,m){if(!i){i=new (c('UnicodeBidiService'))();}else i.reset();var n=l.getBlockMap(),o=n.valueSeq().map(function(q){return c('nullthrows')(i).getDirection(q.getText());}),p=h(n.keySeq().zip(o));if(m!=null&&c('immutable').is(m,p))return m;return p;}};f.exports=j;}),null);
__d('EditorState',['BlockTree','ContentState','EditorBidiService','immutable','SelectionState'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').OrderedSet,i=c('immutable').Record,j=c('immutable').Stack,k={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:j(),selection:null,treeMap:null,undoStack:j()},l=i(k);m.createEmpty=function(v){return m.createWithContent(c('ContentState').createFromText(''),v);};m.createWithContent=function(v,w){var x=v.getBlockMap().first().getKey();return m.create({currentContent:v,undoStack:j(),redoStack:j(),decorator:w||null,selection:c('SelectionState').createEmpty(x)});};m.create=function(v){var w=v.currentContent,x=v.decorator,y=babelHelpers['extends']({},v,{treeMap:o(w,x),directionMap:c('EditorBidiService').getDirectionMap(w)});return new m(new l(y));};m.set=function(v,w){var x=v.getImmutable().withMutations(function(y){var z=y.get('decorator'),aa=z;if(w.decorator===null){aa=null;}else if(w.decorator)aa=w.decorator;var ba=w.currentContent||v.getCurrentContent();if(aa!==z){var ca=y.get('treeMap'),da;if(aa&&z){da=q(ba,ba.getBlockMap(),ca,aa,z);}else da=o(ba,aa);y.merge({decorator:aa,treeMap:da,nativelyRenderedContent:null});return;}var ea=v.getCurrentContent();if(ba!==ea)y.set('treeMap',p(v,ba.getBlockMap(),ba.getEntityMap(),aa));y.merge(w);});return new m(x);};m.prototype.toJS=function(){return this.getImmutable().toJS();};m.prototype.getAllowUndo=function(){return this.getImmutable().get('allowUndo');};m.prototype.getCurrentContent=function(){return this.getImmutable().get('currentContent');};m.prototype.getUndoStack=function(){return this.getImmutable().get('undoStack');};m.prototype.getRedoStack=function(){return this.getImmutable().get('redoStack');};m.prototype.getSelection=function(){return this.getImmutable().get('selection');};m.prototype.getDecorator=function(){return this.getImmutable().get('decorator');};m.prototype.isInCompositionMode=function(){return this.getImmutable().get('inCompositionMode');};m.prototype.mustForceSelection=function(){return this.getImmutable().get('forceSelection');};m.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get('nativelyRenderedContent');};m.prototype.getLastChangeType=function(){return this.getImmutable().get('lastChangeType');};m.prototype.getInlineStyleOverride=function(){return this.getImmutable().get('inlineStyleOverride');};m.setInlineStyleOverride=function(v,w){return m.set(v,{inlineStyleOverride:w});};m.prototype.getCurrentInlineStyle=function(){var v=this.getInlineStyleOverride();if(v!=null)return v;var w=this.getCurrentContent(),x=this.getSelection();if(x.isCollapsed())return s(w,x);return t(w,x);};m.prototype.getBlockTree=function(v){return this.getImmutable().getIn(['treeMap',v]);};m.prototype.isSelectionAtStartOfContent=function(){var v=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(v,0,0);};m.prototype.isSelectionAtEndOfContent=function(){var v=this.getCurrentContent(),w=v.getBlockMap(),x=w.last(),y=x.getLength();return this.getSelection().hasEdgeWithin(x.getKey(),y,y);};m.prototype.getDirectionMap=function(){return this.getImmutable().get('directionMap');};m.acceptSelection=function(v,w){return n(v,w,false);};m.forceSelection=function(v,w){if(!w.getHasFocus())w=w.set('hasFocus',true);return n(v,w,true);};m.moveSelectionToEnd=function(v){var w=v.getCurrentContent(),x=w.getLastBlock(),y=x.getKey(),z=x.getLength();return m.acceptSelection(v,new (c('SelectionState'))({anchorKey:y,anchorOffset:z,focusKey:y,focusOffset:z,isBackward:false}));};m.moveFocusToEnd=function(v){var w=m.moveSelectionToEnd(v);return m.forceSelection(w,w.getSelection());};m.push=function(v,w,x){if(v.getCurrentContent()===w)return v;var y=x!=='insert-characters',z=c('EditorBidiService').getDirectionMap(w,v.getDirectionMap());if(!v.getAllowUndo())return m.set(v,{currentContent:w,directionMap:z,lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:null});var aa=v.getSelection(),ba=v.getCurrentContent(),ca=v.getUndoStack(),da=w;if(aa!==ba.getSelectionAfter()||r(v,x)){ca=ca.push(ba);da=da.set('selectionBefore',aa);}else if(x==='insert-characters'||x==='backspace-character'||x==='delete-character')da=da.set('selectionBefore',ba.getSelectionBefore());var ea=v.getInlineStyleOverride();if(x!=='adjust-depth'&&x!=='change-block-type')ea=null;var fa={currentContent:da,directionMap:z,undoStack:ca,redoStack:j(),lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:ea};return m.set(v,fa);};m.undo=function(v){if(!v.getAllowUndo())return v;var w=v.getUndoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent(),z=c('EditorBidiService').getDirectionMap(x,v.getDirectionMap());return m.set(v,{currentContent:x,directionMap:z,undoStack:w.shift(),redoStack:v.getRedoStack().push(y),forceSelection:true,inlineStyleOverride:null,lastChangeType:'undo',nativelyRenderedContent:null,selection:y.getSelectionBefore()});};m.redo=function(v){if(!v.getAllowUndo())return v;var w=v.getRedoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent(),z=c('EditorBidiService').getDirectionMap(x,v.getDirectionMap());return m.set(v,{currentContent:x,directionMap:z,undoStack:v.getUndoStack().push(y),redoStack:w.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:'redo',nativelyRenderedContent:null,selection:x.getSelectionAfter()});};function m(v){this.$EditorState1=v;}m.prototype.getImmutable=function(){return this.$EditorState1;};function n(v,w,x){return m.set(v,{selection:w,forceSelection:x,nativelyRenderedContent:null,inlineStyleOverride:null});}function o(v,w){return v.getBlockMap().map(function(x){return c('BlockTree').generate(v,x,w);}).toOrderedMap();}function p(v,w,x,y){var z=v.getCurrentContent().set('entityMap',x),aa=z.getBlockMap(),ba=v.getImmutable().get('treeMap');return ba.merge(w.toSeq().filter(function(ca,da){return ca!==aa.get(da);}).map(function(ca){return c('BlockTree').generate(z,ca,y);}));}function q(v,w,x,y,z){return x.merge(w.toSeq().filter(function(aa){return (y.getDecorations(aa,v)!==z.getDecorations(aa,v));}).map(function(aa){return c('BlockTree').generate(v,aa,y);}));}function r(v,w){var x=v.getLastChangeType();return (w!==x||w!=='insert-characters'&&w!=='backspace-character'&&w!=='delete-character');}function s(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y>0)return z.getInlineStyleAt(y-1);if(z.getLength())return z.getInlineStyleAt(0);return u(v,x);}function t(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y<z.getLength())return z.getInlineStyleAt(y);if(y>0)return z.getInlineStyleAt(y-1);return u(v,x);}function u(v,w){var x=v.getBlockBefore(w),y;while(x){y=x.getLength();if(y)return x.getInlineStyleAt(y-1);x=v.getBlockBefore(x.getKey());}return h();}f.exports=m;}),null);
__d('getEntityKeyForSelection',[],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l;if(k.isCollapsed()){var m=k.getAnchorKey(),n=k.getAnchorOffset();if(n>0){l=j.getBlockForKey(m).getEntityAt(n-1);return i(j.getEntityMap(),l);}return null;}var o=k.getStartKey(),p=k.getStartOffset(),q=j.getBlockForKey(o);l=p===q.getLength()?null:q.getEntityAt(p);return i(j.getEntityMap(),l);}function i(j,k){if(k){var l=j.__get(k);return l.getMutability()==='MUTABLE'?k:null;}return null;}f.exports=h;}),null);
__d('isSelectionAtLeafStart',[],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.getSelection(),k=j.getAnchorKey(),l=i.getBlockTree(k),m=j.getStartOffset(),n=false;l.some(function(o){if(m===o.get('start')){n=true;return true;}if(m<o.get('end'))return o.get('leaves').some(function(p){var q=p.get('start');if(m===q){n=true;return true;}return false;});return false;});return n;}f.exports=h;}),null);
__d('DraftEditorCompositionHandler',['DraftModifier','EditorState','Keys','getEntityKeyForSelection','isSelectionAtLeafStart'],(function a(b,c,d,e,f,g){'use strict';var h=20,i=false,j=false,k='',l={onBeforeInput:function m(n,o){k=(k||'')+o.data;},onCompositionStart:function m(n){j=true;},onCompositionEnd:function m(n){i=false;j=false;setTimeout(function(){if(!i)l.resolveComposition(n);},h);},onKeyDown:function m(n,o){if(!j){l.resolveComposition(n);n._onKeyDown(o);return;}if(o.which===c('Keys').RIGHT||o.which===c('Keys').LEFT)o.preventDefault();},onKeyPress:function m(n,o){if(o.which===c('Keys').RETURN)o.preventDefault();},resolveComposition:function m(n){if(j)return;i=true;var o=k;k='';var p=c('EditorState').set(n._latestEditorState,{inCompositionMode:false}),q=p.getCurrentInlineStyle(),r=c('getEntityKeyForSelection')(p.getCurrentContent(),p.getSelection()),s=!o||c('isSelectionAtLeafStart')(p)||q.size>0||r!==null;if(s)n.restoreEditorDOM();n.exitCurrentMode();if(o){var t=c('DraftModifier').replaceText(p.getCurrentContent(),p.getSelection(),o,q,r);n.update(c('EditorState').push(p,t,'insert-characters'));return;}if(s)n.update(c('EditorState').set(p,{nativelyRenderedContent:null,forceSelection:true}));}};f.exports=l;}),null);
__d('DraftEditorTextNode.react',['React','ReactDOM','UserAgent'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('UserAgent').isBrowser('IE <= 11');function k(o){return j?o.textContent==='\n':o.tagName==='BR';}var l=j?c('React').createElement('span',{key:'A','data-text':'true'},'\n'):c('React').createElement('br',{key:'A','data-text':'true'}),m=j?c('React').createElement('span',{key:'B','data-text':'true'},'\n'):c('React').createElement('br',{key:'B','data-text':'true'});h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(o){i.constructor.call(this,o);this.$DraftEditorTextNode1=false;}n.prototype.shouldComponentUpdate=function(o){var p=c('ReactDOM').findDOMNode(this),q=o.children==='';if(q)return !k(p);return p.textContent!==o.children;};n.prototype.componentWillUpdate=function(){this.$DraftEditorTextNode1=!this.$DraftEditorTextNode1;};n.prototype.render=function(){if(this.props.children==='')return this.$DraftEditorTextNode1?l:m;return (c('React').createElement('span',{key:this.$DraftEditorTextNode1?'A':'B','data-text':'true'},this.props.children));};f.exports=n;}),null);
__d('setDraftEditorSelection',['containsNode','getActiveElement'],(function a(b,c,d,e,f,g){'use strict';function h(k,l,m,n,o){if(!c('containsNode')(document.documentElement,l))return;var p=b.getSelection(),q=k.getAnchorKey(),r=k.getAnchorOffset(),s=k.getFocusKey(),t=k.getFocusOffset(),u=k.getIsBackward();if(!p.extend&&u){var v=q,w=r;q=s;r=t;s=v;t=w;u=false;}var x=q===m&&n<=r&&o>=r,y=s===m&&n<=t&&o>=t;if(x&&y){p.removeAllRanges();j(p,l,r-n);i(p,l,t-n);return;}if(!u){if(x){p.removeAllRanges();j(p,l,r-n);}if(y)i(p,l,t-n);}else{if(y){p.removeAllRanges();j(p,l,t-n);}if(x){var z=p.focusNode,aa=p.focusOffset;p.removeAllRanges();j(p,l,r-n);i(p,z,aa);}}}function i(k,l,m){if(k.extend&&c('containsNode')(c('getActiveElement')(),l)){k.extend(l,m);}else{var n=k.getRangeAt(0);n.setEnd(l,m);k.addRange(n.cloneRange());}}function j(k,l,m){var n=document.createRange();n.setStart(l,m);k.addRange(n);}f.exports=h;}),null);
__d('DraftEditorLeaf.react',['DraftEditorTextNode.react','React','ReactDOM','SelectionState','setDraftEditorSelection'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$DraftEditorLeaf1=function(){var k=this.props.selection;if(k==null||!k.getHasFocus())return;var l=this.props,m=l.blockKey,n=l.start,o=l.text,p=n+o.length;if(!k.hasEdgeWithin(m,n,p))return;var q=c('ReactDOM').findDOMNode(this),r=q.firstChild,s=void 0;if(r.nodeType===Node.TEXT_NODE){s=r;}else if(r.tagName==='BR'){s=q;}else s=r.firstChild;c('setDraftEditorSelection')(k,s,m,n,p);};j.prototype.shouldComponentUpdate=function(k){return (c('ReactDOM').findDOMNode(this.refs.leaf).textContent!==k.text||k.styleSet!==this.props.styleSet||k.forceSelection);};j.prototype.componentDidUpdate=function(){this.$DraftEditorLeaf1();};j.prototype.componentDidMount=function(){this.$DraftEditorLeaf1();};j.prototype.render=function(){var k=this.props.text;if(k.endsWith('\n')&&this.props.isLast)k+='\n';var l=this.props,m=l.customStyleMap,n=l.customStyleFn,o=l.offsetKey,p=l.styleSet,q=p.reduce(function(s,t){var u={},v=m[t];if(v!==undefined&&s.textDecoration!==v.textDecoration)u.textDecoration=[s.textDecoration,v.textDecoration].join(' ').trim();return Object.assign(s,v,u);},{});if(n){var r=n(p);q=Object.assign(q,r);}return (c('React').createElement('span',{'data-offset-key':o,ref:'leaf',style:q},c('React').createElement(c('DraftEditorTextNode.react'),null,k)));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('DraftOffsetKey',[],(function a(b,c,d,e,f,g){'use strict';var h='-',i={encode:function j(k,l,m){return k+h+l+h+m;},decode:function j(k){var l=k.split(h),m=l[0],n=l[1],o=l[2];return {blockKey:m,decoratorKey:parseInt(n,10),leafKey:parseInt(o,10)};}};f.exports=i;}),null);
__d('DraftEditorBlock.react',['cx','ContentBlock','ContentState','DraftEditorLeaf.react','DraftOffsetKey','React','ReactDOM','Scroll','SelectionState','Style','UnicodeBidi','UnicodeBidiDirection','getElementPosition','getScrollPosition','getViewportDimensions','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=10;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(n){return (this.props.block!==n.block||this.props.tree!==n.tree||this.props.direction!==n.direction||m(n.selection,n.block.getKey())&&n.forceSelection);};l.prototype.componentDidMount=function(){var n=this.props.selection,o=n.getEndKey();if(!n.getHasFocus()||o!==this.props.block.getKey())return;var p=c('ReactDOM').findDOMNode(this),q=c('Style').getScrollParent(p),r=c('getScrollPosition')(q),s;if(q===window){var t=c('getElementPosition')(p),u=t.y+t.height,v=c('getViewportDimensions')().height;s=u-v;if(s>0)window.scrollTo(r.x,r.y+s+k);}else{var w=p.offsetHeight+p.offsetTop,x=q.offsetHeight+r.y;s=w-x;if(s>0)c('Scroll').setTop(q,c('Scroll').getTop(q)+s+k);}};l.prototype.$DraftEditorBlock1=function(){var n=this.props.block,o=n.getKey(),p=n.getText(),q=this.props.tree.size-1,r=m(this.props.selection,o);return this.props.tree.map(function(s,t){var u=s.get('leaves'),v=u.size-1,w=u.map(function(ea,fa){var ga=c('DraftOffsetKey').encode(o,t,fa),ha=ea.get('start'),ia=ea.get('end');return (c('React').createElement(c('DraftEditorLeaf.react'),{key:ga,offsetKey:ga,blockKey:o,start:ha,selection:r?this.props.selection:undefined,forceSelection:this.props.forceSelection,text:p.slice(ha,ia),styleSet:n.getInlineStyleAt(ha),customStyleMap:this.props.customStyleMap,customStyleFn:this.props.customStyleFn,isLast:t===q&&fa===v}));}.bind(this)).toArray(),x=s.get('decoratorKey');if(x==null)return w;if(!this.props.decorator)return w;var y=c('nullthrows')(this.props.decorator),z=y.getComponentForKey(x);if(!z)return w;var aa=y.getPropsForKey(x),ba=c('DraftOffsetKey').encode(o,t,0),ca=p.slice(u.first().get('start'),u.last().get('end')),da=c('UnicodeBidiDirection').getHTMLDirIfDifferent(c('UnicodeBidi').getDirection(ca),this.props.direction);return (c('React').createElement(z,babelHelpers['extends']({},aa,{contentState:this.props.contentState,decoratedText:ca,dir:da,key:ba,entityKey:n.getEntityAt(s.get('start')),offsetKey:ba}),w));}.bind(this)).toArray();};l.prototype.render=function(){var n=this.props,o=n.direction,p=n.offsetKey,q="_1mf"+(o==='LTR'?' '+"_1mj":'')+(o==='RTL'?' '+"_1mk":'');return (c('React').createElement('div',{'data-offset-key':p,className:q},this.$DraftEditorBlock1()));};function l(){i.apply(this,arguments);}function m(n,o){return (n.getAnchorKey()===o||n.getFocusKey()===o);}f.exports=l;}),null);
__d('DraftEditorContents.react',['cx','DraftEditorBlock.react','DraftOffsetKey','EditorState','React','joinClasses','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(m){var n=this.props.editorState,o=m.editorState,p=n.getDirectionMap(),q=o.getDirectionMap();if(p!==q)return true;var r=n.getSelection().getHasFocus(),s=o.getSelection().getHasFocus();if(r!==s)return true;var t=o.getNativelyRenderedContent(),u=n.isInCompositionMode(),v=o.isInCompositionMode();if(n===o||t!==null&&o.getCurrentContent()===t||u&&v)return false;var w=n.getCurrentContent(),x=o.getCurrentContent(),y=n.getDecorator(),z=o.getDecorator();return (u!==v||w!==x||y!==z||o.mustForceSelection());};k.prototype.render=function(){var m=this.props,n=m.blockRenderMap,o=m.blockRendererFn,p=m.customStyleMap,q=m.customStyleFn,r=m.editorState,s=r.getCurrentContent(),t=r.getSelection(),u=r.mustForceSelection(),v=r.getDecorator(),w=c('nullthrows')(r.getDirectionMap()),x=s.getBlocksAsArray(),y=[],z=null,aa=null;for(var ba=0;ba<x.length;ba++){var ca=x[ba],da=ca.getKey(),ea=ca.getType(),fa=o(ca),ga=void 0,ha=void 0,ia=void 0;if(fa){ga=fa.component;ha=fa.props;ia=fa.editable;}var ja=this.props.textDirectionality,ka=ja?ja:w.get(da),la=c('DraftOffsetKey').encode(da,0,0),ma={contentState:s,block:ca,blockProps:ha,customStyleMap:p,customStyleFn:q,decorator:v,direction:ka,forceSelection:u,key:da,offsetKey:la,selection:t,tree:r.getBlockTree(da)},na=n.get(ea),oa=na.wrapper,pa=na.element||n.get('unstyled').element,qa=ca.getDepth(),ra=this.props.blockStyleFn(ca);if(pa==='li'){var sa=aa!==oa||z===null||qa>z;ra=c('joinClasses')(ra,l(ea,qa,sa,ka));}var ta=ga||c('DraftEditorBlock.react'),ua={className:ra,'data-block':true,'data-editor':this.props.editorKey,'data-offset-key':la,key:da};if(ia!==undefined)ua=babelHelpers['extends']({},ua,{contentEditable:ia,suppressContentEditableWarning:true});var va=c('React').createElement(pa,ua,c('React').createElement(ta,ma));y.push({block:va,wrapperTemplate:oa,key:da,offsetKey:la});if(oa){z=ca.getDepth();}else z=null;aa=oa;}var wa=[];for(var xa=0;xa<y.length;){var ya=y[xa];if(ya.wrapperTemplate){var za=[];do{za.push(y[xa].block);xa++;}while(xa<y.length&&y[xa].wrapperTemplate===ya.wrapperTemplate);var ab=c('React').cloneElement(ya.wrapperTemplate,{key:ya.key+'-wrap','data-offset-key':ya.offsetKey},za);wa.push(ab);}else{wa.push(ya.block);xa++;}}return c('React').createElement('div',{'data-contents':'true'},wa);};function k(){i.apply(this,arguments);}function l(m,n,o,p){return (m==='unordered-list-item'?"_3kpz":'')+(m==='ordered-list-item'?' '+"_3kp_":'')+(o?' '+"_3kq0":'')+(n===0?' '+"_3kq1":'')+(n===1?' '+"_3kq2":'')+(n===2?' '+"_3kq3":'')+(n===3?' '+"_3kq4":'')+(n===4?' '+"_3kq5":'')+(p==='LTR'?' '+"_3kq6":'')+(p==='RTL'?' '+"_3kq7":'');}f.exports=k;}),null);
__d('getSelectionOffsetKeyForNode',[],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i instanceof Element){var j=i.getAttribute('data-offset-key');if(j)return j;for(var k=0;k<i.childNodes.length;k++){var l=h(i.childNodes[k]);if(l)return l;}}return null;}f.exports=h;}),null);
__d('findAncestorOffsetKey',['getSelectionOffsetKeyForNode'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i;while(j&&j!==document.documentElement){var k=c('getSelectionOffsetKeyForNode')(j);if(k!=null)return k;j=j.parentNode;}return null;}f.exports=h;}),null);
__d('getTextContentFromFiles',[],(function a(b,c,d,e,f,g){'use strict';var h=/\.textClipping$/,i={'text/plain':true,'text/html':true,'text/rtf':true},j=5000;function k(m,n){var o=0,p=[];m.forEach(function(q){l(q,function(r){o++;r&&p.push(r.slice(0,j));if(o==m.length)n(p.join('\r'));});});}function l(m,n){if(!b.FileReader||m.type&&!(m.type in i)){n('');return;}if(m.type===''){var o='';if(h.test(m.name))o=m.name.replace(h,'');n(o);return;}var p=new FileReader();p.onload=function(){n(p.result);};p.onerror=function(){n('');};p.readAsText(m);}f.exports=k;}),null);
__d('getUpdatedSelectionState',['DraftOffsetKey','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m){var n=c('nullthrows')(i.getSelection()),o=c('DraftOffsetKey').decode(j),p=o.blockKey,q=i.getBlockTree(p).getIn([o.decoratorKey,'leaves',o.leafKey]),r=c('DraftOffsetKey').decode(l),s=r.blockKey,t=i.getBlockTree(s).getIn([r.decoratorKey,'leaves',r.leafKey]),u=q.get('start'),v=t.get('start'),w=q?u+k:null,x=t?v+m:null,y=n.getAnchorKey()===p&&n.getAnchorOffset()===w&&n.getFocusKey()===s&&n.getFocusOffset()===x;if(y)return n;var z=false;if(p===s){var aa=q.get('end'),ba=t.get('end');if(v===u&&ba===aa){z=m<k;}else z=v<u;}else{var ca=i.getCurrentContent().getBlockMap().keySeq().skipUntil(function(da){return da===p||da===s;}).first();z=ca===s;}return n.merge({anchorKey:p,anchorOffset:w,focusKey:s,focusOffset:x,isBackward:z});}f.exports=h;}),null);
__d('isEventHandled',[],(function a(b,c,d,e,f,g){'use strict';function h(i){return i==='handled'||i===true;}f.exports=h;}),null);
__d('DraftEditorDragHandler',['DataTransfer','DraftModifier','EditorState','findAncestorOffsetKey','getTextContentFromFiles','getUpdatedSelectionState','nullthrows','isEventHandled'],(function a(b,c,d,e,f,g){'use strict';function h(event,l){var m=null,n=null;if(typeof document.caretRangeFromPoint==='function'){var o=document.caretRangeFromPoint(event.x,event.y);m=o.startContainer;n=o.startOffset;}else if(event.rangeParent){m=event.rangeParent;n=event.rangeOffset;}else return null;m=c('nullthrows')(m);n=c('nullthrows')(n);var p=c('nullthrows')(c('findAncestorOffsetKey')(m));return c('getUpdatedSelectionState')(l,p,n,p,n);}var i={onDragEnd:function l(m){m.exitCurrentMode();},onDrop:function l(m,n){var o=new (c('DataTransfer'))(n.nativeEvent.dataTransfer),p=m._latestEditorState,q=h(n.nativeEvent,p);n.preventDefault();m.exitCurrentMode();if(q==null)return;var r=o.getFiles();if(r.length>0){if(m.props.handleDroppedFiles&&c('isEventHandled')(m.props.handleDroppedFiles(q,r)))return;c('getTextContentFromFiles')(r,function(t){t&&m.update(k(p,c('nullthrows')(q),t));});return;}var s=m._internalDrag?'internal':'external';if(m.props.handleDrop&&c('isEventHandled')(m.props.handleDrop(q,o,s)))return;if(m._internalDrag){m.update(j(p,q));return;}m.update(k(p,q,o.getText()));}};function j(l,m){var n=c('DraftModifier').moveText(l.getCurrentContent(),l.getSelection(),m);return c('EditorState').push(l,n,'insert-fragment');}function k(l,m,n){var o=c('DraftModifier').insertText(l.getCurrentContent(),m,n,l.getCurrentInlineStyle());return c('EditorState').push(l,o,'insert-fragment');}f.exports=i;}),null);
__d('editOnBeforeInput',['BlockTree','DraftModifier','EditorState','UserAgent','getEntityKeyForSelection','isSelectionAtLeafStart','nullthrows','setImmediate','isEventHandled'],(function a(b,c,d,e,f,g){'use strict';var h='\'',i='\/',j=c('UserAgent').isBrowser('Firefox');function k(n){return (j&&(n==h||n==i));}function l(n,o,p,q){var r=c('DraftModifier').replaceText(n.getCurrentContent(),n.getSelection(),o,p,q);return c('EditorState').push(n,r,'insert-characters');}function m(n,o){if(n._pendingStateFromBeforeInput!==undefined){n.update(n._pendingStateFromBeforeInput);n._pendingStateFromBeforeInput=undefined;}var p=o.data;if(!p)return;if(n.props.handleBeforeInput&&c('isEventHandled')(n.props.handleBeforeInput(p))){o.preventDefault();return;}var q=n._latestEditorState,r=q.getSelection();if(!r.isCollapsed()){o.preventDefault();n.update(l(q,p,q.getCurrentInlineStyle(),c('getEntityKeyForSelection')(q.getCurrentContent(),q.getSelection())));return;}var s=!c('isSelectionAtLeafStart')(q),t=l(q,p,q.getCurrentInlineStyle(),c('getEntityKeyForSelection')(q.getCurrentContent(),q.getSelection()));if(!s){o.preventDefault();n.update(t);return;}var u=r.getAnchorKey(),v=q.getBlockTree(u),w=c('BlockTree').getFingerprint(v),x=c('BlockTree').getFingerprint(t.getBlockTree(u));if(k(p)||w!==x||c('nullthrows')(t.getDirectionMap()).get(u)!==c('nullthrows')(q.getDirectionMap()).get(u)){o.preventDefault();n.update(t);}else{t=c('EditorState').set(t,{nativelyRenderedContent:t.getCurrentContent()});n._pendingStateFromBeforeInput=t;c('setImmediate')(function(){if(n._pendingStateFromBeforeInput!==undefined){n.update(n._pendingStateFromBeforeInput);n._pendingStateFromBeforeInput=undefined;}});}}f.exports=m;}),null);
__d('editOnBlur',['EditorState','UserAgent','getActiveElement'],(function a(b,c,d,e,f,g){'use strict';var h=c('UserAgent').isEngine('WebKit');function i(j,k){if(h&&c('getActiveElement')()===document.body)b.getSelection().removeAllRanges();var l=j._latestEditorState,m=l.getSelection();if(!m.getHasFocus())return;var n=m.set('hasFocus',false);j.props.onBlur&&j.props.onBlur(k);j.update(c('EditorState').acceptSelection(l,n));}f.exports=i;}),null);
__d('editOnCompositionStart',['EditorState'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){i.setMode('composite');i.update(c('EditorState').set(i._latestEditorState,{inCompositionMode:true}));i._onCompositionStart(j);}f.exports=h;}),null);
__d('getFragmentFromSelection',['getContentStateFragment'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.getSelection();if(j.isCollapsed())return null;return c('getContentStateFragment')(i.getCurrentContent(),j);}f.exports=h;}),null);
__d('editOnCopy',['getFragmentFromSelection'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i._latestEditorState,l=k.getSelection();if(l.isCollapsed()){j.preventDefault();return;}i.setClipboard(c('getFragmentFromSelection')(i._latestEditorState));}f.exports=h;}),null);
__d('editOnCut',['DraftModifier','EditorState','Style','getFragmentFromSelection','getScrollPosition'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=j._latestEditorState,m=l.getSelection();if(m.isCollapsed()){k.preventDefault();return;}var n=c('Style').getScrollParent(k.target),o=c('getScrollPosition')(n),p=o.x,q=o.y,r=c('getFragmentFromSelection')(l);j.setClipboard(r);j.setMode('cut');setTimeout(function(){j.restoreEditorDOM({x:p,y:q});j.exitCurrentMode();j.update(i(l));},0);}function i(j){var k=c('DraftModifier').removeRange(j.getCurrentContent(),j.getSelection(),'forward');return c('EditorState').push(j,k,'remove-range');}f.exports=h;}),null);
__d('editOnDragOver',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){i._internalDrag=false;i.setMode('drag');j.preventDefault();}f.exports=h;}),null);
__d('editOnDragStart',[],(function a(b,c,d,e,f,g){'use strict';function h(i){i._internalDrag=true;i.setMode('drag');}f.exports=h;}),null);
__d('editOnFocus',['EditorState'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i._latestEditorState,l=k.getSelection();if(l.getHasFocus())return;var m=l.set('hasFocus',true);i.props.onFocus&&i.props.onFocus(j);i.update(c('EditorState').forceSelection(k,m));}f.exports=h;}),null);
__d('editOnInput',['DraftGK','DraftModifier','DraftOffsetKey','EditorState','UserAgent','findAncestorOffsetKey','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h=c('UserAgent').isEngine('Gecko'),i='\n\n';function j(k){if(k._pendingStateFromBeforeInput!==undefined){k.update(k._pendingStateFromBeforeInput);k._pendingStateFromBeforeInput=undefined;}var l=b.getSelection(),m=l.anchorNode,n=l.isCollapsed,o=m.nodeType!==Node.TEXT_NODE,p=m.nodeType!==Node.TEXT_NODE&&m.nodeType!==Node.ELEMENT_NODE;if(c('DraftGK').draft_killswitch_allow_nontextnodes){if(o)return;}else if(p)return;var q=m.textContent,r=k._latestEditorState,s=c('nullthrows')(c('findAncestorOffsetKey')(m)),t=c('DraftOffsetKey').decode(s),u=t.blockKey,v=t.decoratorKey,w=t.leafKey,x=r.getBlockTree(u).getIn([v,'leaves',w]),y=x.start,z=x.end,aa=r.getCurrentContent(),ba=aa.getBlockForKey(u),ca=ba.getText().slice(y,z);if(q.endsWith(i))q=q.slice(0,-1);if(q===ca)return;var da=r.getSelection(),ea=da.merge({anchorOffset:y,focusOffset:z,isBackward:false}),fa=ba.getEntityAt(y),ga=fa&&aa.getEntity(fa),ha=ga&&ga.getMutability(),ia=ha==='MUTABLE',ja=ia?'spellcheck-change':'apply-entity',ka=c('DraftModifier').replaceText(aa,ea,q,ba.getInlineStyleAt(y),ia?ba.getEntityAt(y):null),la,ma,na,oa;if(h){la=l.anchorOffset;ma=l.focusOffset;na=y+Math.min(la,ma);oa=na+Math.abs(la-ma);la=na;ma=oa;}else{var pa=q.length-ca.length;na=da.getStartOffset();oa=da.getEndOffset();la=n?oa+pa:na;ma=oa+pa;}var qa=ka.merge({selectionBefore:aa.getSelectionAfter(),selectionAfter:da.merge({anchorOffset:la,focusOffset:ma})});k.update(c('EditorState').push(r,qa,ja));}f.exports=j;}),null);
__d('KeyBindingUtil',['UserAgent'],(function a(b,c,d,e,f,g){'use strict';var h=c('UserAgent').isPlatform('Mac OS X'),i={isCtrlKeyCommand:function j(k){return !!k.ctrlKey&&!k.altKey;},isOptionKeyCommand:function j(k){return h&&k.altKey;},hasCommandModifier:function j(k){return h?!!k.metaKey&&!k.altKey:i.isCtrlKeyCommand(k);}};f.exports=i;}),null);
__d('SecondaryClipboard',['DraftModifier','EditorState','getContentStateFragment','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h=null,i={cut:function j(k){var l=k.getCurrentContent(),m=k.getSelection(),n=null;if(m.isCollapsed()){var o=m.getAnchorKey(),p=l.getBlockForKey(o).getLength();if(p===m.getAnchorOffset())return k;n=m.set('focusOffset',p);}else n=m;n=c('nullthrows')(n);h=c('getContentStateFragment')(l,n);var q=c('DraftModifier').removeRange(l,n,'forward');if(q===l)return k;return c('EditorState').push(k,q,'remove-range');},paste:function j(k){if(!h)return k;var l=c('DraftModifier').replaceWithFragment(k.getCurrentContent(),k.getSelection(),h);return c('EditorState').push(k,l,'insert-fragment');}};f.exports=i;}),null);
__d('getRangeClientRects',['invariant','UserAgent'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('UserAgent').isBrowser('Chrome');function j(l){var m=l.cloneRange(),n=[];for(var o=l.endContainer;o!=null;o=o.parentNode){var p=o===l.commonAncestorContainer;if(p){m.setStart(l.startContainer,l.startOffset);}else m.setStart(m.endContainer,0);var q=Array.from(m.getClientRects());n.push(q);if(p){var r;n.reverse();return (r=[]).concat.apply(r,n);}m.setEndBefore(o);}h(0);}var k=i?j:function(l){return Array.from(l.getClientRects());};f.exports=k;}),null);
__d('expandRangeToStartOfLine',['invariant','UnicodeUtils','getRangeClientRects'],(function a(b,c,d,e,f,g,h){function i(m){var n=getComputedStyle(m),o=document.createElement('div');o.style.fontFamily=n.fontFamily;o.style.fontSize=n.fontSize;o.style.fontStyle=n.fontStyle;o.style.fontWeight=n.fontWeight;o.style.lineHeight=n.lineHeight;o.style.position='absolute';o.textContent='M';document.body.appendChild(o);var p=o.getBoundingClientRect();document.body.removeChild(o);return p.height;}function j(m,n){var o=Infinity,p=Infinity,q=-Infinity,r=-Infinity;for(var s=0;s<m.length;s++){var t=m[s];if(t.width===0||t.width===1)continue;o=Math.min(o,t.top);p=Math.min(p,t.bottom);q=Math.max(q,t.top);r=Math.max(r,t.bottom);}return (q<=p&&q-o<n&&r-p<n);}function k(m){switch(m.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return m.length;default:return m.childNodes.length;}}function l(m){m.collapsed||h(0);m=m.cloneRange();var n=m.startContainer;if(n.nodeType!==1)n=n.parentNode;var o=i(n),p=m.endContainer,q=m.endOffset;m.setStart(m.startContainer,0);while(j(c('getRangeClientRects')(m),o)){p=m.startContainer;q=m.startOffset;p.parentNode||h(0);m.setStartBefore(p);if(p.nodeType===1&&getComputedStyle(p).display!=='inline')break;}var r=p,s=q-1;do{var t=r.nodeValue;for(var u=s;u>=0;u--){if(t!=null&&u>0&&c('UnicodeUtils').isSurrogatePair(t,u-1))continue;m.setStart(r,u);if(j(c('getRangeClientRects')(m),o)){p=r;q=u;}else break;}if(u===-1||r.childNodes.length===0)break;r=r.childNodes[u];s=k(r);}while(true);m.setStart(p,q);return m;}f.exports=l;}),null);
__d('getDraftEditorSelectionWithNodes',['invariant','findAncestorOffsetKey','getSelectionOffsetKeyForNode','getUpdatedSelectionState','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';function i(n,o,p,q,r,s){var t=p.nodeType===Node.TEXT_NODE,u=r.nodeType===Node.TEXT_NODE;if(t&&u)return {selectionState:c('getUpdatedSelectionState')(n,c('nullthrows')(c('findAncestorOffsetKey')(p)),q,c('nullthrows')(c('findAncestorOffsetKey')(r)),s),needsRecovery:false};var v=null,w=null,x=true;if(t){v={key:c('nullthrows')(c('findAncestorOffsetKey')(p)),offset:q};w=l(o,r,s);}else if(u){w={key:c('nullthrows')(c('findAncestorOffsetKey')(r)),offset:s};v=l(o,p,q);}else{v=l(o,p,q);w=l(o,r,s);if(p===r&&q===s)x=!!p.firstChild&&p.firstChild.nodeName!=='BR';}return {selectionState:c('getUpdatedSelectionState')(n,v.key,v.offset,w.key,w.offset),needsRecovery:x};}function j(n){while(n.firstChild&&c('getSelectionOffsetKeyForNode')(n.firstChild))n=n.firstChild;return n;}function k(n){while(n.lastChild&&c('getSelectionOffsetKeyForNode')(n.lastChild))n=n.lastChild;return n;}function l(n,o,p){var q=o,r=c('findAncestorOffsetKey')(q);r!=null||n&&(n===q||n.firstChild===q)||h(0);if(n===q){q=q.firstChild;q instanceof Element&&q.getAttribute('data-contents')==='true'||h(0);if(p>0)p=q.childNodes.length;}if(p===0){var s=null;if(r!=null){s=r;}else{var t=j(q);s=c('nullthrows')(c('getSelectionOffsetKeyForNode')(t));}return {key:s,offset:0};}var u=q.childNodes[p-1],v=null,w=null;if(!c('getSelectionOffsetKeyForNode')(u)){v=c('nullthrows')(r);w=m(u);}else{var x=k(u);v=c('nullthrows')(c('getSelectionOffsetKeyForNode')(x));w=m(x);}return {key:v,offset:w};}function m(n){var o=n.textContent;return o==='\n'?0:o.length;}f.exports=i;}),null);
__d('moveSelectionBackward',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i.getSelection(),l=i.getCurrentContent(),m=k.getStartKey(),n=k.getStartOffset(),o=m,p=0;if(j>n){var q=l.getKeyBefore(m);if(q==null){o=m;}else{o=q;var r=l.getBlockForKey(q);p=r.getText().length;}}else p=n-j;return k.merge({focusKey:o,focusOffset:p,isBackward:true});}f.exports=h;}),null);
__d('removeTextWithStrategy',['DraftModifier'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=i.getSelection(),m=i.getCurrentContent(),n=l;if(l.isCollapsed()){if(k==='forward'){if(i.isSelectionAtEndOfContent())return m;}else if(i.isSelectionAtStartOfContent())return m;n=j(i);if(n===l)return m;}return c('DraftModifier').removeRange(m,n,k);}f.exports=h;}),null);
__d('keyCommandBackspaceToStartOfLine',['EditorState','expandRangeToStartOfLine','getDraftEditorSelectionWithNodes','moveSelectionBackward','removeTextWithStrategy'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('removeTextWithStrategy')(i,function(k){var l=k.getSelection();if(l.isCollapsed()&&l.getAnchorOffset()===0)return c('moveSelectionBackward')(k,1);var m=b.getSelection(),n=m.getRangeAt(0);n=c('expandRangeToStartOfLine')(n);return c('getDraftEditorSelectionWithNodes')(k,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState;},'backward');if(j===i.getCurrentContent())return i;return c('EditorState').push(i,j,'remove-range');}f.exports=h;}),null);
__d('DraftRemovableWord',['TokenizeUtil'],(function a(b,c,d,e,f,g){'use strict';var h=c('TokenizeUtil').getPunctuation(),i='[\'\u2018\u2019]',j='\\s|(?![_])'+h,k='^'+'(?:'+j+')*'+'(?:'+i+'|(?!'+j+').)*'+'(?:(?!'+j+').)',l=new RegExp(k),m='(?:(?!'+j+').)'+'(?:'+i+'|(?!'+j+').)*'+'(?:'+j+')*'+'$',n=new RegExp(m);function o(q,r){var s=r?n.exec(q):l.exec(q);return s?s[0]:q;}var p={getBackward:function q(r){return o(r,true);},getForward:function q(r){return o(r,false);}};f.exports=p;}),null);
__d('keyCommandBackspaceWord',['DraftRemovableWord','EditorState','moveSelectionBackward','removeTextWithStrategy'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('removeTextWithStrategy')(i,function(k){var l=k.getSelection(),m=l.getStartOffset();if(m===0)return c('moveSelectionBackward')(k,1);var n=l.getStartKey(),o=k.getCurrentContent(),p=o.getBlockForKey(n).getText().slice(0,m),q=c('DraftRemovableWord').getBackward(p);return c('moveSelectionBackward')(k,q.length||1);},'backward');if(j===i.getCurrentContent())return i;return c('EditorState').push(i,j,'remove-range');}f.exports=h;}),null);
__d('moveSelectionForward',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i.getSelection(),l=k.getStartKey(),m=k.getStartOffset(),n=i.getCurrentContent(),o=l,p,q=n.getBlockForKey(l);if(j>q.getText().length-m){o=n.getKeyAfter(l);p=0;}else p=m+j;return k.merge({focusKey:o,focusOffset:p});}f.exports=h;}),null);
__d('keyCommandDeleteWord',['DraftRemovableWord','EditorState','moveSelectionForward','removeTextWithStrategy'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('removeTextWithStrategy')(i,function(k){var l=k.getSelection(),m=l.getStartOffset(),n=l.getStartKey(),o=k.getCurrentContent(),p=o.getBlockForKey(n).getText().slice(m),q=c('DraftRemovableWord').getForward(p);return c('moveSelectionForward')(k,q.length||1);},'forward');if(j===i.getCurrentContent())return i;return c('EditorState').push(i,j,'remove-range');}f.exports=h;}),null);
__d('keyCommandInsertNewline',['DraftModifier','EditorState'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('DraftModifier').splitBlock(i.getCurrentContent(),i.getSelection());return c('EditorState').push(i,j,'split-block');}f.exports=h;}),null);
__d('keyCommandMoveSelectionToEndOfBlock',['EditorState'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.getSelection(),k=j.getEndKey(),l=i.getCurrentContent(),m=l.getBlockForKey(k).getLength();return c('EditorState').set(i,{selection:j.merge({anchorKey:k,anchorOffset:m,focusKey:k,focusOffset:m,isBackward:false}),forceSelection:true});}f.exports=h;}),null);
__d('keyCommandMoveSelectionToStartOfBlock',['EditorState'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.getSelection(),k=j.getStartKey();return c('EditorState').set(i,{selection:j.merge({anchorKey:k,anchorOffset:0,focusKey:k,focusOffset:0,isBackward:false}),forceSelection:true});}f.exports=h;}),null);
__d('keyCommandPlainBackspace',['EditorState','UnicodeUtils','moveSelectionBackward','removeTextWithStrategy'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('removeTextWithStrategy')(i,function(l){var m=l.getSelection(),n=l.getCurrentContent(),o=m.getAnchorKey(),p=m.getAnchorOffset(),q=n.getBlockForKey(o).getText()[p-1];return c('moveSelectionBackward')(l,q?c('UnicodeUtils').getUTF16Length(q,0):1);},'backward');if(j===i.getCurrentContent())return i;var k=i.getSelection();return c('EditorState').push(i,j.set('selectionBefore',k),k.isCollapsed()?'backspace-character':'remove-range');}f.exports=h;}),null);
__d('keyCommandPlainDelete',['EditorState','UnicodeUtils','moveSelectionForward','removeTextWithStrategy'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('removeTextWithStrategy')(i,function(l){var m=l.getSelection(),n=l.getCurrentContent(),o=m.getAnchorKey(),p=m.getAnchorOffset(),q=n.getBlockForKey(o).getText()[p];return c('moveSelectionForward')(l,q?c('UnicodeUtils').getUTF16Length(q,0):1);},'forward');if(j===i.getCurrentContent())return i;var k=i.getSelection();return c('EditorState').push(i,j.set('selectionBefore',k),k.isCollapsed()?'delete-character':'remove-range');}f.exports=h;}),null);
__d('keyCommandTransposeCharacters',['DraftModifier','EditorState','getContentStateFragment'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.getSelection();if(!j.isCollapsed())return i;var k=j.getAnchorOffset();if(k===0)return i;var l=j.getAnchorKey(),m=i.getCurrentContent(),n=m.getBlockForKey(l),o=n.getLength();if(o<=1)return i;var p,q;if(k===o){p=j.set('anchorOffset',k-1);q=j;}else{p=j.set('focusOffset',k+1);q=p.set('anchorOffset',k+1);}var r=c('getContentStateFragment')(m,p),s=c('DraftModifier').removeRange(m,p,'backward'),t=s.getSelectionAfter(),u=t.getAnchorOffset()-1,v=t.merge({anchorOffset:u,focusOffset:u}),w=c('DraftModifier').replaceWithFragment(s,v,r),x=c('EditorState').push(i,w,'insert-fragment');return c('EditorState').acceptSelection(x,q);}f.exports=h;}),null);
__d('keyCommandUndo',['EditorState'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=c('EditorState').undo(j);if(j.getLastChangeType()==='spellcheck-change'){var m=l.getCurrentContent();k(c('EditorState').set(l,{nativelyRenderedContent:m}));return;}i.preventDefault();if(!j.getNativelyRenderedContent()){k(l);return;}k(c('EditorState').set(j,{nativelyRenderedContent:null}));setTimeout(function(){k(l);},0);}f.exports=h;}),null);
__d('editOnKeyDown',['DraftModifier','EditorState','KeyBindingUtil','Keys','SecondaryClipboard','UserAgent','keyCommandBackspaceToStartOfLine','keyCommandBackspaceWord','keyCommandDeleteWord','keyCommandInsertNewline','keyCommandPlainBackspace','keyCommandPlainDelete','keyCommandMoveSelectionToEndOfBlock','keyCommandMoveSelectionToStartOfBlock','keyCommandTransposeCharacters','keyCommandUndo','isEventHandled'],(function a(b,c,d,e,f,g){'use strict';var h=c('KeyBindingUtil').isOptionKeyCommand,i=c('UserAgent').isBrowser('Chrome');function j(l,m){switch(l){case 'redo':return c('EditorState').redo(m);case 'delete':return c('keyCommandPlainDelete')(m);case 'delete-word':return c('keyCommandDeleteWord')(m);case 'backspace':return c('keyCommandPlainBackspace')(m);case 'backspace-word':return c('keyCommandBackspaceWord')(m);case 'backspace-to-start-of-line':return c('keyCommandBackspaceToStartOfLine')(m);case 'split-block':return c('keyCommandInsertNewline')(m);case 'transpose-characters':return c('keyCommandTransposeCharacters')(m);case 'move-selection-to-start-of-block':return c('keyCommandMoveSelectionToStartOfBlock')(m);case 'move-selection-to-end-of-block':return c('keyCommandMoveSelectionToEndOfBlock')(m);case 'secondary-cut':return c('SecondaryClipboard').cut(m);case 'secondary-paste':return c('SecondaryClipboard').paste(m);default:return m;}}function k(l,m){var n=m.which,o=l._latestEditorState;switch(n){case c('Keys').RETURN:m.preventDefault();if(l.props.handleReturn&&c('isEventHandled')(l.props.handleReturn(m)))return;break;case c('Keys').ESC:m.preventDefault();l.props.onEscape&&l.props.onEscape(m);return;case c('Keys').TAB:l.props.onTab&&l.props.onTab(m);return;case c('Keys').UP:l.props.onUpArrow&&l.props.onUpArrow(m);return;case c('Keys').DOWN:l.props.onDownArrow&&l.props.onDownArrow(m);return;case c('Keys').SPACE:if(i&&h(m)){m.preventDefault();var p=c('DraftModifier').replaceText(o.getCurrentContent(),o.getSelection(),'\u00a0');l.update(c('EditorState').push(o,p,'insert-characters'));return;}}var q=l.props.keyBindingFn(m);if(!q)return;if(q==='undo'){c('keyCommandUndo')(m,o,l.update);return;}m.preventDefault();if(l.props.handleKeyCommand&&c('isEventHandled')(l.props.handleKeyCommand(q)))return;var r=j(q,o);if(r!==o)l.update(r);}f.exports=k;}),null);
__d('getSafeBodyFromHTML',['UserAgent'],(function a(b,c,d,e,f,g){'use strict';var h=c('UserAgent').isBrowser('IE <= 9');function i(j){var k,l=null;if(!h&&document.implementation&&document.implementation.createHTMLDocument){k=document.implementation.createHTMLDocument('foo');k.documentElement.innerHTML=j;l=k.getElementsByTagName('body')[0];}return l;}f.exports=i;}),null);
__d('convertFromHTMLToContentBlocks',['invariant','CharacterMetadata','ContentBlock','DefaultDraftBlockRenderMap','DraftEntity','immutable','URI','generateRandomKey','getSafeBodyFromHTML','nullthrows','sanitizeDraftText'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').Set,j=c('immutable').List,k=c('immutable').OrderedSet,l='&nbsp;',m=' ',n=4,o=new RegExp('\r','g'),p=new RegExp('\n','g'),q=new RegExp(l,'g'),r=new RegExp('&#13;?','g'),s=new RegExp('&#8203;?','g'),t=['bold','bolder','500','600','700','800','900'],u=['light','lighter','100','200','300','400'],v={b:'BOLD',code:'CODE',del:'STRIKETHROUGH',em:'ITALIC',i:'ITALIC',s:'STRIKETHROUGH',strike:'STRIKETHROUGH',strong:'BOLD',u:'UNDERLINE'},w=['className','href','rel','target','title'],x=['alt','className','height','src','width'],y;function z(){return {text:'',inlines:[],entities:[],blocks:[]};}function aa(oa){var pa=new Array(1);if(oa)pa[0]=oa;return {text:m,inlines:[k()],entities:pa,blocks:[]};}function ba(){return {text:'\n',inlines:[k()],entities:new Array(1),blocks:[]};}function ca(oa,pa){return {text:'\r',inlines:[k()],entities:new Array(1),blocks:[{type:oa,depth:Math.max(0,Math.min(n,pa))}]};}function da(oa,pa){if(oa==='li')return pa==='ol'?'ordered-list-item':'unordered-list-item';return null;}function ea(oa){var pa=oa.get('unstyled').element,qa=new i([]);oa.forEach(function(ra){if(ra.aliasedElements)ra.aliasedElements.forEach(function(sa){qa=qa.add(sa);});qa=qa.add(ra.element);});return qa.filter(function(ra){return ra&&ra!==pa;}).toArray().sort();}function fa(oa,pa,qa){for(var ra=0;ra<qa.length;ra++){var sa=qa[ra](oa,pa);if(sa)return sa;}return null;}function ga(oa,pa,qa){var ra=qa.filter(function(sa){return (sa.element===oa||sa.wrapper===oa||sa.aliasedElements&&sa.aliasedElements.some(function(ta){return ta===oa;}));}).keySeq().toSet().toArray().sort();switch(ra.length){case 0:return 'unstyled';case 1:return ra[0];default:return (fa(oa,pa,[da])||'unstyled');}}function ha(oa,pa,qa){var ra,sa=v[oa];if(sa){qa=qa.add(sa).toOrderedSet();}else if(pa instanceof HTMLElement)(function(){var ta=pa;qa=qa.withMutations(function(ua){var va=ta.style.fontWeight,wa=ta.style.fontStyle,xa=ta.style.textDecoration;if(t.indexOf(va)>=0){ua.add('BOLD');}else if(u.indexOf(va)>=0)ua.remove('BOLD');if(wa==='italic'){ua.add('ITALIC');}else if(wa==='normal')ua.remove('ITALIC');if(xa==='underline')ua.add('UNDERLINE');if(xa==='line-through')ua.add('STRIKETHROUGH');if(xa==='none'){ua.remove('UNDERLINE');ua.remove('STRIKETHROUGH');}}).toOrderedSet();})();return qa;}function ia(oa,pa){var qa=oa.text.slice(-1),ra=pa.text.slice(0,1);if(qa==='\r'&&ra==='\r'){oa.text=oa.text.slice(0,-1);oa.inlines.pop();oa.entities.pop();oa.blocks.pop();}if(qa==='\r')if(pa.text===m||pa.text==='\n'){return oa;}else if(ra===m||ra==='\n'){pa.text=pa.text.slice(1);pa.inlines.shift();pa.entities.shift();}return {text:oa.text+pa.text,inlines:oa.inlines.concat(pa.inlines),entities:oa.entities.concat(pa.entities),blocks:oa.blocks.concat(pa.blocks)};}function ja(oa,pa){return pa.some(function(qa){return oa.indexOf('<'+qa)!==-1;});}function ka(oa){oa instanceof HTMLAnchorElement||h(0);var pa=oa.protocol;return (pa==='http:'||pa==='https:'||pa==='mailto:');}function la(oa,pa,qa,ra,sa,ta,ua,va,wa){var xa,ya,za=pa.nodeName.toLowerCase(),ab=false,bb='unstyled',cb=y,db=oa;if(za==='#text'){var eb=pa.textContent;if(eb.trim()===''&&sa!=='pre')return {chunk:aa(wa),entityMap:oa};if(sa!=='pre')eb=eb.replace(p,m);y=za;return {chunk:{text:eb,inlines:Array(eb.length).fill(qa),entities:Array(eb.length).fill(wa),blocks:[]},entityMap:oa};}y=za;if(za==='br'){if(cb==='br'&&(!sa||ga(sa,ra,va)==='unstyled'))return {chunk:ca('unstyled',ua),entityMap:oa};return {chunk:ba(),entityMap:oa};}if(za==='img'&&pa instanceof HTMLImageElement&&pa.attributes.getNamedItem('src')&&pa.attributes.getNamedItem('src').value)(function(){var nb=pa,ob={};x.forEach(function(qb){var rb=nb.getAttribute(qb);if(rb)ob[qb]=rb;});var pb=new (c('URI'))(ob.src).toString();pa.textContent=pb;wa=c('DraftEntity').__create('IMAGE','MUTABLE',ob||{});})();var fb=z(),gb=null;qa=ha(za,pa,qa);if(za==='ul'||za==='ol'){if(ra)ua+=1;ra=za;}if(!sa&&ta.indexOf(za)!==-1){fb=ca(ga(za,ra,va),ua);sa=za;ab=true;}else if(ra&&sa==='li'&&za==='li'){fb=ca(ga(za,ra,va),ua);sa=za;ab=true;bb=ra==='ul'?'unordered-list-item':'ordered-list-item';}var hb=pa.firstChild;if(hb!=null)za=hb.nodeName.toLowerCase();var ib=null;while(hb){if(hb instanceof HTMLAnchorElement&&hb.href&&ka(hb)){(function(){var nb=hb,ob={};w.forEach(function(pb){var qb=nb.getAttribute(pb);if(qb)ob[pb]=qb;});ob.url=new (c('URI'))(nb.href).toString();ib=c('DraftEntity').__create('LINK','MUTABLE',ob||{});})();}else ib=undefined;var jb=la(db,hb,qa,ra,sa,ta,ua,va,ib||wa),kb=jb.chunk,lb=jb.entityMap;gb=kb;db=lb;fb=ia(fb,gb);var mb=hb.nextSibling;if(mb&&ta.indexOf(za)>=0&&sa)fb=ia(fb,ba());if(mb)za=mb.nodeName.toLowerCase();hb=mb;}if(ab)fb=ia(fb,ca(bb,ua));return {chunk:fb,entityMap:db};}function ma(oa,pa,qa,ra){oa=oa.trim().replace(o,'').replace(q,m).replace(r,'').replace(s,'');var sa=ea(qa),ta=pa(oa);if(!ta)return null;y=null;var ua=ja(oa,sa)?sa:['div'],va=la(ra,ta,k(),'ul',null,ua,-1,qa),wa=va.chunk,xa=va.entityMap;if(wa.text.indexOf('\r')===0)wa={text:wa.text.slice(1),inlines:wa.inlines.slice(1),entities:wa.entities.slice(1),blocks:wa.blocks};if(wa.text.slice(-1)==='\r'){wa.text=wa.text.slice(0,-1);wa.inlines=wa.inlines.slice(0,-1);wa.entities=wa.entities.slice(0,-1);wa.blocks.pop();}if(wa.blocks.length===0)wa.blocks.push({type:'unstyled',depth:0});if(wa.text.split('\r').length===wa.blocks.length+1)wa.blocks.unshift({type:'unstyled',depth:0});return {chunk:wa,entityMap:xa};}function na(oa){var pa=arguments.length<=1||arguments[1]===undefined?c('getSafeBodyFromHTML'):arguments[1],qa=arguments.length<=2||arguments[2]===undefined?c('DefaultDraftBlockRenderMap'):arguments[2],ra=ma(oa,pa,qa,c('DraftEntity'));if(ra==null)return null;var sa=ra.chunk,ta=ra.entityMap,ua=0;return {contentBlocks:sa.text.split('\r').map(function(va,wa){va=c('sanitizeDraftText')(va);var xa=ua+va.length,ya=c('nullthrows')(sa).inlines.slice(ua,xa),za=c('nullthrows')(sa).entities.slice(ua,xa),ab=j(ya.map(function(bb,cb){var db={style:bb,entity:null};if(za[cb])db.entity=za[cb];return c('CharacterMetadata').create(db);}));ua=xa+1;return new (c('ContentBlock'))({key:c('generateRandomKey')(),type:c('nullthrows')(sa).blocks[wa].type,depth:c('nullthrows')(sa).blocks[wa].depth,text:va,characterList:ab});}),entityMap:ta};}f.exports=na;}),null);
__d('DraftPasteProcessor',['CharacterMetadata','ContentBlock','immutable','convertFromHTMLToContentBlocks','generateRandomKey','getSafeBodyFromHTML','sanitizeDraftText'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('immutable').Repeat,j={processHTML:function k(l,m){return c('convertFromHTMLToContentBlocks')(l,c('getSafeBodyFromHTML'),m);},processText:function k(l,m){return l.map(function(n){n=c('sanitizeDraftText')(n);return new (c('ContentBlock'))({key:c('generateRandomKey')(),type:'unstyled',text:n,characterList:h(i(m,n.length))});});}};f.exports=j;}),null);
__d('splitTextIntoTextBlocks',[],(function a(b,c,d,e,f,g){'use strict';var h=/\r\n?|\n/g;function i(j){return j.split(h);}f.exports=i;}),null);
__d('editOnPaste',['BlockMapBuilder','CharacterMetadata','DataTransfer','DraftModifier','DraftPasteProcessor','EditorState','getEntityKeyForSelection','getTextContentFromFiles','isEventHandled','splitTextIntoTextBlocks'],(function a(b,c,d,e,f,g){'use strict';function h(k,l){l.preventDefault();var m=new (c('DataTransfer'))(l.clipboardData);if(!m.isRichText()){var n=m.getFiles(),o=m.getText();if(n.length>0){if(k.props.handlePastedFiles&&c('isEventHandled')(k.props.handlePastedFiles(n)))return;c('getTextContentFromFiles')(n,function(ba){ba=ba||o;if(!ba)return;var ca=k._latestEditorState,da=c('splitTextIntoTextBlocks')(ba),ea=c('CharacterMetadata').create({style:ca.getCurrentInlineStyle(),entity:c('getEntityKeyForSelection')(ca.getCurrentContent(),ca.getSelection())}),fa=c('DraftPasteProcessor').processText(da,ea),ga=c('BlockMapBuilder').createFromArray(fa),ha=c('DraftModifier').replaceWithFragment(ca.getCurrentContent(),ca.getSelection(),ga);k.update(c('EditorState').push(ca,ha,'insert-fragment'));});return;}}var p=[],q=m.getText(),r=m.getHTML();if(k.props.handlePastedText&&c('isEventHandled')(k.props.handlePastedText(q,r)))return;if(q)p=c('splitTextIntoTextBlocks')(q);if(!k.props.stripPastedStyles){var s=k.getClipboard();if(m.isRichText()&&s){if(r.indexOf(k.getEditorKey())!==-1||p.length===1&&s.size===1&&s.first().getText()===q){k.update(i(k._latestEditorState,s));return;}}else if(s&&m.types.includes('com.apple.webarchive')&&!m.types.includes('text/html')&&j(p,s)){k.update(i(k._latestEditorState,s));return;}if(r){var t=c('DraftPasteProcessor').processHTML(r,k.props.blockRenderMap);if(t){var u=t.contentBlocks,v=t.entityMap;if(u){var w=c('BlockMapBuilder').createFromArray(u);k.update(i(k._latestEditorState,w,v));return;}}}k.setClipboard(null);}if(p.length){var x=k._latestEditorState,y=c('CharacterMetadata').create({style:x.getCurrentInlineStyle(),entity:c('getEntityKeyForSelection')(x.getCurrentContent(),x.getSelection())}),z=c('DraftPasteProcessor').processText(p,y),aa=c('BlockMapBuilder').createFromArray(z);k.update(i(k._latestEditorState,aa));}}function i(k,l,m){var n=c('DraftModifier').replaceWithFragment(k.getCurrentContent(),k.getSelection(),l);return c('EditorState').push(k,n.set('entityMap',m),'insert-fragment');}function j(k,l){return (k.length===l.size&&l.valueSeq().every(function(m,n){return m.getText()===k[n];}));}f.exports=h;}),null);
__d('getDraftEditorSelection',['getDraftEditorSelectionWithNodes'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=b.getSelection();if(k.rangeCount===0)return {selectionState:i.getSelection().set('hasFocus',false),needsRecovery:false};return c('getDraftEditorSelectionWithNodes')(i,j,k.anchorNode,k.anchorOffset,k.focusNode,k.focusOffset);}f.exports=h;}),null);
__d('editOnSelect',['EditorState','ReactDOM','getDraftEditorSelection'],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i._blockSelectEvents)return;if(i._latestEditorState!==i.props.editorState)return;var j=i.props.editorState,k=c('getDraftEditorSelection')(j,c('ReactDOM').findDOMNode(i.refs.editorContainer).firstChild),l=k.selectionState;if(l!==j.getSelection()){if(k.needsRecovery){j=c('EditorState').forceSelection(j,l);}else j=c('EditorState').acceptSelection(j,l);i.update(j);}}f.exports=h;}),null);
__d('DraftEditorEditHandler',['editOnBeforeInput','editOnBlur','editOnCompositionStart','editOnCopy','editOnCut','editOnDragOver','editOnDragStart','editOnFocus','editOnInput','editOnKeyDown','editOnPaste','editOnSelect'],(function a(b,c,d,e,f,g){'use strict';var h={onBeforeInput:c('editOnBeforeInput'),onBlur:c('editOnBlur'),onCompositionStart:c('editOnCompositionStart'),onCopy:c('editOnCopy'),onCut:c('editOnCut'),onDragOver:c('editOnDragOver'),onDragStart:c('editOnDragStart'),onFocus:c('editOnFocus'),onInput:c('editOnInput'),onKeyDown:c('editOnKeyDown'),onPaste:c('editOnPaste'),onSelect:c('editOnSelect')};f.exports=h;}),null);
__d('DraftEditorPlaceholder.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l){return (this.props.text!==l.text||this.props.editorState.getSelection().getHasFocus()!==l.editorState.getSelection().getHasFocus());};k.prototype.render=function(){var l=this.props.editorState.getSelection().getHasFocus(),m="_1p1t"+(l?' '+"_1p1u":'');return (c('React').createElement('div',{className:m},c('React').createElement('div',{className:"_1p1v",id:this.props.accessibilityID},this.props.text)));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('getDefaultKeyBinding',['KeyBindingUtil','Keys','UserAgent'],(function a(b,c,d,e,f,g){'use strict';var h=c('UserAgent').isPlatform('Mac OS X'),i=c('UserAgent').isPlatform('Windows'),j=h&&c('UserAgent').isBrowser('Firefox < 29'),k=c('KeyBindingUtil').hasCommandModifier,l=c('KeyBindingUtil').isCtrlKeyCommand;function m(r){return h&&r.altKey||l(r);}function n(r){if(!k(r))return null;return r.shiftKey?'redo':'undo';}function o(r){if(i&&r.shiftKey)return null;return m(r)?'delete-word':'delete';}function p(r){if(k(r)&&h)return 'backspace-to-start-of-line';return m(r)?'backspace-word':'backspace';}function q(r){switch(r.keyCode){case 66:return k(r)?'bold':null;case 68:return l(r)?'delete':null;case 72:return l(r)?'backspace':null;case 73:return k(r)?'italic':null;case 74:return k(r)?'code':null;case 75:return !i&&l(r)?'secondary-cut':null;case 77:return l(r)?'split-block':null;case 79:return l(r)?'split-block':null;case 84:return h&&l(r)?'transpose-characters':null;case 85:return k(r)?'underline':null;case 87:return h&&l(r)?'backspace-word':null;case 89:if(l(r))return i?'redo':'secondary-paste';return null;case 90:return n(r)||null;case c('Keys').RETURN:return 'split-block';case c('Keys').DELETE:return o(r);case c('Keys').BACKSPACE:return p(r);case c('Keys').LEFT:return (j&&k(r)?'move-selection-to-start-of-block':null);case c('Keys').RIGHT:return (j&&k(r)?'move-selection-to-end-of-block':null);default:return null;}}f.exports=q;}),null);
__d('DraftEditor.react',['cx','DefaultDraftBlockRenderMap','DefaultDraftInlineStyle','DraftEditorCompositionHandler','DraftEditorContents.react','DraftEditorDragHandler','DraftEditorEditHandler','DraftEditorPlaceholder.react','DraftGK','EditorState','React','ReactDOM','Scroll','Style','UserAgent','emptyFunction','generateRandomKey','getDefaultKeyBinding','nullthrows','getScrollPosition'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('UserAgent').isBrowser('IE'),l=!k,m={edit:c('DraftEditorEditHandler'),composite:c('DraftEditorCompositionHandler'),drag:c('DraftEditorDragHandler'),cut:null,render:null};i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this._blockSelectEvents=false;this._clipboard=null;this._handler=null;this._dragCount=0;this._editorKey=c('generateRandomKey')();this._placeholderAccessibilityID='placeholder-'+this._editorKey;this._latestEditorState=o.editorState;this._onBeforeInput=this._buildHandler('onBeforeInput');this._onBlur=this._buildHandler('onBlur');this._onCharacterData=this._buildHandler('onCharacterData');this._onCompositionEnd=this._buildHandler('onCompositionEnd');this._onCompositionStart=this._buildHandler('onCompositionStart');this._onCopy=this._buildHandler('onCopy');this._onCut=this._buildHandler('onCut');this._onDragEnd=this._buildHandler('onDragEnd');this._onDragOver=this._buildHandler('onDragOver');this._onDragStart=this._buildHandler('onDragStart');this._onDrop=this._buildHandler('onDrop');this._onInput=this._buildHandler('onInput');this._onFocus=this._buildHandler('onFocus');this._onKeyDown=this._buildHandler('onKeyDown');this._onKeyPress=this._buildHandler('onKeyPress');this._onKeyUp=this._buildHandler('onKeyUp');this._onMouseDown=this._buildHandler('onMouseDown');this._onMouseUp=this._buildHandler('onMouseUp');this._onPaste=this._buildHandler('onPaste');this._onSelect=this._buildHandler('onSelect');this.focus=this._focus.bind(this);this.blur=this._blur.bind(this);this.setMode=this._setMode.bind(this);this.exitCurrentMode=this._exitCurrentMode.bind(this);this.restoreEditorDOM=this._restoreEditorDOM.bind(this);this.setClipboard=this._setClipboard.bind(this);this.getClipboard=this._getClipboard.bind(this);this.getEditorKey=function(){return this._editorKey;}.bind(this);this.update=this._update.bind(this);this.onDragEnter=this._onDragEnter.bind(this);this.onDragLeave=this._onDragLeave.bind(this);if(c('DraftGK').draft_killswitch_contentskey){this.state={containerKey:0};}else this.state={contentsKey:0};}n.prototype._buildHandler=function(o){return function(p){if(!this.props.readOnly){var q=this._handler&&this._handler[o];q&&q(this,p);}}.bind(this);};n.prototype._showPlaceholder=function(){return (!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText());};n.prototype._renderPlaceholder=function(){if(this._showPlaceholder())return (c('React').createElement(c('DraftEditorPlaceholder.react'),{text:c('nullthrows')(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID}));return null;};n.prototype.render=function(){var o=this.props,p=o.readOnly,q=o.textAlignment,r="_5rp7"+(q==='left'?' '+"_5rp8":'')+(q==='right'?' '+"_5rp9":'')+(q==='center'?' '+"_5rpa":''),s={outline:'none',whiteSpace:'pre-wrap',wordWrap:'break-word'};return (c('React').createElement('div',{className:r},this._renderPlaceholder(),c('React').createElement('div',{className:"_5rpb",key:'editor'+(this.state.containerKey||''),ref:'editorContainer'},c('React').createElement('div',{'aria-activedescendant':p?null:this.props.ariaActiveDescendantID,'aria-autocomplete':p?null:this.props.ariaAutoComplete,'aria-describedby':this._showPlaceholder()?this._placeholderAccessibilityID:null,'aria-expanded':p?null:this.props.ariaExpanded,'aria-haspopup':p?null:this.props.ariaHasPopup,'aria-label':this.props.ariaLabel,'aria-owns':p?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:"_5rpu",contentEditable:!p,'data-testid':this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:'editor',role:p?null:this.props.role||'textbox',spellCheck:l&&this.props.spellCheck,style:s,suppressContentEditableWarning:true,tabIndex:this.props.tabIndex},c('React').createElement(c('DraftEditorContents.react'),{blockRenderMap:this.props.blockRenderMap,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,customStyleMap:babelHelpers['extends']({},c('DefaultDraftInlineStyle'),this.props.customStyleMap),customStyleFn:this.props.customStyleFn,editorKey:this._editorKey,editorState:this.props.editorState,key:'contents'+(this.state.contentsKey||''),textDirectionality:this.props.textDirectionality})))));};n.prototype.componentDidMount=function(){this.setMode('edit');if(k)document.execCommand('AutoUrlDetect',false,false);};n.prototype.componentWillUpdate=function(o){this._blockSelectEvents=true;this._latestEditorState=o.editorState;};n.prototype.componentDidUpdate=function(){this._blockSelectEvents=false;};n.prototype._focus=function(o){var p=this.props.editorState,q=p.getSelection().getHasFocus(),r=c('ReactDOM').findDOMNode(this.refs.editor),s=c('Style').getScrollParent(r),t=o||c('getScrollPosition')(s),u=t.x,v=t.y;r.focus();if(s===window){window.scrollTo(u,v);}else c('Scroll').setTop(s,v);if(!q)this.update(c('EditorState').forceSelection(p,p.getSelection()));};n.prototype._blur=function(){c('ReactDOM').findDOMNode(this.refs.editor).blur();};n.prototype._setMode=function(o){this._handler=m[o];};n.prototype._exitCurrentMode=function(){this.setMode('edit');};n.prototype._restoreEditorDOM=function(o){var p,q=c('DraftGK').draft_killswitch_contentskey?'containerKey':'contentsKey';this.setState((p={},p[q]=this.state[q]+1,p),function(){this._focus(o);}.bind(this));};n.prototype._setClipboard=function(o){this._clipboard=o;};n.prototype._getClipboard=function(){return this._clipboard;};n.prototype._update=function(o){this._latestEditorState=o;this.props.onChange(o);};n.prototype._onDragEnter=function(){this._dragCount++;};n.prototype._onDragLeave=function(){this._dragCount--;if(this._dragCount===0)this.exitCurrentMode();};n.defaultProps={blockRenderMap:c('DefaultDraftBlockRenderMap'),blockRendererFn:c('emptyFunction').thatReturnsNull,blockStyleFn:c('emptyFunction').thatReturns(''),keyBindingFn:c('getDefaultKeyBinding'),readOnly:false,spellCheck:false,stripPastedStyles:false};f.exports=n;}),null);
__d('insertMentionIntoEditorState',['EditorState','DraftModifier'],(function a(b,c,d,e,f,g){'use strict';function h(j,k,l,m){var n=k.getSelection(),o=k.getCurrentContent(),p=n.getAnchorKey(),q=n.getAnchorOffset(),r=o.getBlockMap().get(p),s=q-i(r.getText().substr(0,q),j.getTitle(),l),t=c('DraftModifier').replaceText(o,n.set('anchorOffset',s),j.getTitle(),k.getCurrentInlineStyle(),m(j));return c('EditorState').push(k,t,'insert-fragment');}function i(j,k,l){for(var m=l;m<=k.length;m++)if(j.substr(-m)==k.substr(0,m))l=m;return l;}f.exports=h;}),null);
__d('AbstractMentionsTextEditor.react',['DraftEditor.react','SearchableEntry','React','TypeaheadNavigation','clearImmediate','getOrCreateDOMID','insertMentionIntoEditorState','setImmediate','uniqueID'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes,k=5,l='handled',m='not-handled';h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(o,p){'use strict';i.constructor.call(this,o,p);this.__onShowMentions=function(q,r){if(!this.$AbstractMentionsTextEditor2)return;var s=r||0;if(!q||!q.length){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return;}var t=q.slice(0,this.props.maxResults),u=this.props.typeaheadViewProps;if(u&&u.mentionSortFn)t.sort(u.mentionSortFn);var v=null;if(this.props.autoHighlight||this.state.highlightedMentionable!==null)v=q[0];this.setState({highlightedMentionable:v,mentionableEntries:t,characterOffset:s});if(this.props.onShowMentions)this.props.onShowMentions(t,s);}.bind(this);this.$AbstractMentionsTextEditor8=function(q){this.setState(this.$AbstractMentionsTextEditor12());this.props.onBlur&&this.props.onBlur(q);}.bind(this);this.$AbstractMentionsTextEditor7=function(q){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(q);}.bind(this);this.$AbstractMentionsTextEditor13=function(q){if(this.state.highlightedMentionable){this.$AbstractMentionsTextEditor10(this.state.highlightedMentionable,q);return l;}else if(this.props.handleContentReturn&&this.props.handleContentReturn(q))return l;return m;}.bind(this);this.$AbstractMentionsTextEditor6=function(q){var r=this.state.highlightedMentionable;if(r){q.preventDefault();this.$AbstractMentionsTextEditor10(r,q);}else if(this.props.onTab)this.props.onTab(q);}.bind(this);this.$AbstractMentionsTextEditor5=function(q){if(this.props.onEscape)this.props.onEscape(q);if(this.state.mentionableEntries){q.stopPropagation();q.nativeEvent.isPropagationStopped=true;this.setState(this.$AbstractMentionsTextEditor12());}}.bind(this);this.$AbstractMentionsTextEditor11=function(q){if(this.state.mentionableEntries){q.preventDefault();c('TypeaheadNavigation').moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this.$AbstractMentionsTextEditor9);}else this.props.onUpArrow&&this.props.onUpArrow(q);}.bind(this);this.$AbstractMentionsTextEditor4=function(q){if(this.state.mentionableEntries){q.preventDefault();c('TypeaheadNavigation').moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this.$AbstractMentionsTextEditor9);}else this.props.onDownArrow&&this.props.onDownArrow(q);}.bind(this);this.$AbstractMentionsTextEditor9=function(q){this.setState({highlightedMentionable:q});}.bind(this);this.$AbstractMentionsTextEditor14=function(q){var r=c('getOrCreateDOMID')(q);this.setState({ariaActiveDescendantID:r});}.bind(this);this.$AbstractMentionsTextEditor10=function(q,r){var s=c('insertMentionIntoEditorState')(q,this.props.editorState,this.state.characterOffset,this.props.mentionCreationFn);this.props.onChange(s);this.setState(this.$AbstractMentionsTextEditor12());var t=this.props.onAddMention,u=this.state.mentionableEntries;if(t&&u){var v=u.indexOf(q);t(q,v,r);}}.bind(this);this.__onShowMentions=this.__onShowMentions.bind(this);this.$AbstractMentionsTextEditor4=this.$AbstractMentionsTextEditor4.bind(this);this.$AbstractMentionsTextEditor5=this.$AbstractMentionsTextEditor5.bind(this);this.$AbstractMentionsTextEditor6=this.$AbstractMentionsTextEditor6.bind(this);this.$AbstractMentionsTextEditor7=this.$AbstractMentionsTextEditor7.bind(this);this.$AbstractMentionsTextEditor8=this.$AbstractMentionsTextEditor8.bind(this);this.$AbstractMentionsTextEditor9=this.$AbstractMentionsTextEditor9.bind(this);this.$AbstractMentionsTextEditor10=this.$AbstractMentionsTextEditor10.bind(this);this.$AbstractMentionsTextEditor11=this.$AbstractMentionsTextEditor11.bind(this);this.state=this.$AbstractMentionsTextEditor12();}n.prototype.componentWillMount=function(){'use strict';this.$AbstractMentionsTextEditor2=true;this.$AbstractMentionsTextEditor1=c('uniqueID')();this.$AbstractMentionsTextEditor3=[];};n.prototype.componentWillUnmount=function(){'use strict';this.$AbstractMentionsTextEditor2=false;this.$AbstractMentionsTextEditor3.forEach(function(o){return c('clearImmediate')(o);});this.$AbstractMentionsTextEditor3=[];};n.prototype.$AbstractMentionsTextEditor12=function(){'use strict';return {highlightedMentionable:null,mentionableEntries:null,characterOffset:0};};n.prototype.shouldComponentUpdate=function(o,p){'use strict';return (this.props.editorState!==o.editorState||this.props.placeholder!==o.placeholder||this.props.readOnly!==o.readOnly||this.state.mentionableEntries!==p.mentionableEntries||this.state.highlightedMentionable!==p.highlightedMentionable||this.state.ariaActiveDescendantID!==p.ariaActiveDescendantID);};n.prototype.componentDidUpdate=function(o){var p,q=this;'use strict';var r=this.props.editorState;if(r===o.editorState)return;var s=r.getSelection();if(s.getHasFocus()&&s.isCollapsed()){var t;(function(){t=r.getCurrentContent();var u=q.props.mentionsSource;if(u)q.$AbstractMentionsTextEditor3.push(c('setImmediate')(function(){u.search(t,s,this.__onShowMentions);}.bind(q)));})();}};n.prototype.blur=function(){'use strict';this.refs.abstractTextEditor.blur();};n.prototype.focus=function(){'use strict';this.refs.abstractTextEditor.focus();};n.prototype.$AbstractMentionsTextEditor15=function(){'use strict';var o=this.state.mentionableEntries;if(!o||!o.length)return null;var p=this.props.mentionResultsComponent;return (c('React').createElement(p,babelHelpers['extends']({},this.props.mentionResultsProps,{viewID:this.$AbstractMentionsTextEditor1,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:o||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this.$AbstractMentionsTextEditor10,onMentionHighlight:this.$AbstractMentionsTextEditor9,onMentionRenderHighlight:this.$AbstractMentionsTextEditor14})));};n.prototype.exitCurrentMode=function(){'use strict';this.refs.abstractTextEditor&&this.refs.abstractTextEditor.exitCurrentMode();};n.prototype.render=function(){'use strict';var o=this.state.mentionableEntries,p=!!(o&&o.length),q=this.props.readOnly?null:'-2';return (c('React').createElement('div',{ref:'container',className:this.props.className,tabIndex:q},c('React').createElement(c('DraftEditor.react'),babelHelpers['extends']({},this.props,{ref:'abstractTextEditor',role:'combobox',ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:'list',ariaOwneeID:this.$AbstractMentionsTextEditor1,ariaExpanded:p,ariaHasPopup:p,editorState:this.props.editorState,onBlur:this.$AbstractMentionsTextEditor8,onChange:this.props.onChange,onFocus:this.$AbstractMentionsTextEditor7,onTab:this.$AbstractMentionsTextEditor6,onEscape:this.$AbstractMentionsTextEditor5,onDownArrow:this.$AbstractMentionsTextEditor4,onUpArrow:this.$AbstractMentionsTextEditor11,handleReturn:this.$AbstractMentionsTextEditor13})),this.$AbstractMentionsTextEditor15()));};n.prototype.isShowingMentionables=function(){'use strict';return !!this.state.mentionableEntries;};n.defaultProps=babelHelpers['extends']({},c('DraftEditor.react').defaultProps,{autoHighlight:true,maxResults:k});n.propTypes={mentionsSource:j.object,mentionCreationFn:j.func.isRequired,mentionResultsComponent:j.func.isRequired,mentionResultsProps:j.object,excludedEntries:j.object,handleContentReturn:j.func,onAddMention:j.func,onShowMentions:j.func,autoHighlight:j.bool,maxResults:j.number,webDriverTestID:j.string};f.exports=n;}),null);
__d('createMentionEntity',['DraftEntity'],(function a(b,c,d,e,f,g){function h(i){var j=i.getType().toLowerCase();if(j==='hashtag')return c('DraftEntity').create('HASHTAG','IMMUTABLE');var k=j==='user'||j==='fb4c'?'SEGMENTED':'IMMUTABLE',l=i.getAuxiliaryData();return c('DraftEntity').create('MENTION',k,{id:i.getUniqueID(),isWeak:l&&l.renderType==='non_member',type:j});}f.exports=h;}),null);
__d('MentionsInput.react',['cx','AbstractMentionsTextEditor.react','EditorState','MentionsLayer.react','React','ReactDOM','createMentionEntity','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.AbstractMentionsComponent=c('AbstractMentionsTextEditor.react'),this.blur=function(){this.refs.textEditor.blur();}.bind(this),this.focus=function(){this.refs.textEditor&&this.refs.textEditor.focus();}.bind(this),this.click=function(){c('ReactDOM').findDOMNode(this).dispatchEvent(new Event('focus'));}.bind(this),n;}l.prototype.render=function(){'use strict';var m=c('joinClasses')(this.props.className,"_5yk1"),n=this.AbstractMentionsComponent;return (c('React').createElement('div',{className:m,onClick:this.click,onFocus:this.focus,role:'presentation'},c('React').createElement(n,babelHelpers['extends']({},this.props,{mentionResultsComponent:c('MentionsLayer.react'),mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip,position:this.props.position},mentionCreationFn:c('createMentionEntity'),ref:'textEditor',className:"_5yk2",stripPastedStyles:true}))));};l.propTypes={editorState:k.instanceOf(c('EditorState')).isRequired,mentionsSource:k.object,typeaheadView:k.func.isRequired,typeaheadViewPropTypes:k.object,spellCheck:k.bool,placeholder:k.string,className:k.string,autoflip:k.bool,position:k.oneOf(['above','below']),renderEmoji:k.bool,webDriverTestID:k.string,handleContentReturn:k.func,handleDroppedFiles:k.func,handlePastedFiles:k.func,onAddMention:k.func,onShowMentions:k.func,onChange:k.func,onInputFocus:k.func,onInputBlur:k.func};f.exports=l;}),null);
__d('DevxFluxDispatcher',['Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Dispatcher_DEPRECATED'));i=h&&h.prototype;j.prototype.handleServerAction=function(k){this.$DevxFluxDispatcher1('serverAction',k);};j.prototype.handleViewAction=function(k){this.$DevxFluxDispatcher1('viewAction',k);};j.prototype.$DevxFluxDispatcher1=function(k,l){this.dispatch(babelHelpers['extends']({source:k},l));};function j(){h.apply(this,arguments);}f.exports=new j();}),null);
__d('DevxProxyActions',['DevxFluxDispatcher'],(function a(b,c,d,e,f,g){'use strict';function h(i){Object.keys(i.ActionHandler).forEach(function(j){this[j]=function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];c('DevxFluxDispatcher').handleViewAction({action:j,args:l});};}.bind(this));}f.exports=h;}),null);
__d('EmojiFormat',[],(function a(b,c,d,e,f,g){'use strict';function h(k){return k.split('_').map(function(l){return parseInt(l,16);});}function i(k){return k.map(function(l){return l.toString(16);}).join('_');}function j(k){var l='';for(var m=0;m<k.length;m++)l+=String.fromCodePoint(k[m]);return l;}f.exports={codeArrayToCodeString:i,codeArrayToUnicode:j,codeStringToCodeArray:h};}),null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/moderate\/ban\/{comment_id}\/",{comment_id:{type:"String",required:true}});}),null);
__d("XPluginCommentsCreateCommentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/async\/createComment\/{target_id}\/",{target_id:{type:"Int",required:true}});}),null);
__d("XPluginCommentsCreateReplyAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/async\/createReply\/{parent_comment_id}\/",{parent_comment_id:{type:"String",required:true}});}),null);
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/async\/delete\/",{});}),null);
__d("XPluginCommentsEditCommentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/async\/edit\/",{});}),null);
__d("XPluginCommentsFlagCommentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/async\/flag\/",{});}),null);
__d("XPluginCommentsHideCommentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/moderate\/hide\/{url_id}\/",{url_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1}});}),null);
__d("XPluginCommentsLikeCommentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/async\/like\/",{action_like:{type:"Bool",defaultValue:false}});}),null);
__d("XPluginCommentsPagerAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/async\/{target_id}\/pager\/{ordering}\/",{target_id:{type:"Int",required:true},ordering:{type:"Enum",required:true,enumType:1}});}),null);
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/async\/comment\/{comment_id}\/pager\/",{comment_id:{type:"String",required:true}});}),null);
__d('getVisibleValueForContentState',['DraftEntity','emptyFunction'],(function a(b,c,d,e,f,g){function h(i){var j=i.getBlockMap().map(function(k){var l=k.getText(),m='';k.findEntityRanges(c('emptyFunction').thatReturnsTrue,function(n,o){var p=k.getEntityAt(n);if(p===null){m+=l.slice(n,o);}else{var q=c('DraftEntity').get(p);if(q.getType()==='EMOTICON'){m+=q.getData().originalEmoticon;}else if(q.getType()==='EMOJI'){m+=q.getData().emoji.join('');}else m+=l.slice(n,o);}});return m;});return j.join('\n');}f.exports=h;}),null);
__d('CommentsPluginStore',['invariant','AsyncDialog','AsyncRequest','XPluginCommentsBanAuthorAsyncController','XPluginCommentsCreateCommentAsyncController','XPluginCommentsCreateReplyAsyncController','CurrentUser','XPluginCommentsDeleteCommentAsyncController','DeveloperCommentsModerationAction','DeveloperCommentsModerationSource','DeveloperCommentsModerationType','DevxFluxDispatcher','XPluginCommentsEditCommentAsyncController','XCommentEmbedPluginEmbedAsyncDialogController','XPluginCommentsFlagCommentAsyncController','XPluginCommentsLikeCommentAsyncController','XPluginCommentsHideCommentAsyncController','PluginOptin','XPluginCommentsPagerAsyncController','XPluginCommentsRepliesPagerAsyncController','UnverifiedXD','URI','WebStorage','getMentionsTextForContentState','getVisibleValueForContentState','mixInEventEmitter','nullthrows','uniqueID'],(function a(b,c,d,e,f,g,h){'use strict';var i=10,j='__DEVX__',k={visibleValue:'',encodedValue:''},l={change:true,composerChange:true,composerCommentAdded:true,login:true,moreCommentsCompleted:true,moreRepliesCompleted:true,postError:true,sortingCompleted:true,sentryAction:true,previousComposerCommentPrefill:true,actorChange:true,previousPostToFeedPrefill:true,commentsCountChange:true},m={maxLines:10,maxLength:1000},n='0',o=[],p={},q={userID:null,actors:{},actorsOptIn:{},appID:null,afterCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:'',iframeReferer:null,isMobile:false,isModerator:false,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{id:n},minFeedLength:0,maxCommentLength:0,enablePhoto:false,enableSticker:false,ret:null,threadClosed:false,shouldSwitchAccount:false,fromModTool:false,privacyOptionsList:[]},r=false,s='current_composer',t={},u={},v={},w={},x={ordering:null,ranking_allowed:null},y={},z={},aa={setPostToFeed:true,sort:true,showMoreComments:true,showMoreReplies:true,toggleVisibility:true,setPrivacyOption:true},ba={restorePreviousState:true,setUser:true,edit:true,showReplyComposer:true,cancelEdit:true,cancelReply:true},ca={addComment:true,addReply:true,saveEdit:true};function da(la){ka.hasOwnProperty(la)||h(0);}function ea(){Array.isArray(o)||h(0);p instanceof Object||h(0);}function fa(la){var ma,na=ja.getUser().id,oa=la.action,pa=(ma=ka[la.action]).bind.apply(ma,[ka].concat(la.args));if(ja.isLoggedIn()&&(ja.isPlatformEnabled(na)||ba[oa])||aa[oa]){pa.call();}else{var qa=c('WebStorage').getSessionStorage();if(qa)qa.setItem('previousState',JSON.stringify(ga(la)));new (c('PluginOptin'))('comments').addReturnParams({numposts:Math.min(Math.max(1,q.totalCount),100),order_by:x.ordering}).start();}}function ga(la){var ma='',na='',oa=[],pa={},qa={},ra=r,sa=s,ta=ja.getCreateComposerContent();if(ta)ma=ta.encodedValue;if(!ca[la.action]){na=la.action;oa=la.args;}Object.keys(y).forEach(function(ua){var va=ja.getCreateComposerContent(ua);if(va.encodedValue)pa[ua]=va.encodedValue;});Object.keys(z).forEach(function(ua){var va=ja.getEditComposerContent(ua);if(va.encodedValue)qa[ua]=va.encodedValue;});return {commentBody:ma,action:na,commentIDs:oa,replies:pa,edits:qa,postToFeed:ra,privacyOption:sa};}function ha(la,ma,na){return na.indexOf(la)===ma;}function ia(event,la){if(!q.channelURL)return;la.href=q.href;c('UnverifiedXD').send({data:JSON.stringify(la),event:event,type:'sdk_event'},q.channelURL);}var ja={getCommentIDs:function la(){return o;},getByID:function la(ma){ea();return c('nullthrows')(p)[ma];},isOptimisticComment:function la(ma){return ma.id.startsWith(j);},getCurrentSorting:function la(){return c('nullthrows')(x.ordering);},isRankingAllowed:function la(){return c('nullthrows')(x.ranking_allowed);},getTargetFBID:function la(){return c('nullthrows')(q.targetFBID);},getCommentsCount:function la(){ea();return q.totalCount;},updateCommentsCount:function la(ma){q.totalCount+=ma;this.emit('commentsCountChange');},getUser:function la(){return q.user;},getIframeReferer:function la(){return q.iframeReferer;},getAuthor:function la(ma){return this.getByID(this.getByID(ma).authorID);},getPageSize:function la(){return i;},getCommentBodyTruncationLimits:function la(){return m;},getComposerSearchSource:function la(){return q.composerSearchSource;},getMirroredPage:function la(){return q.mirroredPage;},getMinFeedLength:function la(){return q.minFeedLength+1;},getMaxCommentLength:function la(){return q.maxCommentLength?q.maxCommentLength:Number.MAX_VALUE;},isMirrored:function la(){return this.getMirroredPage()!=null;},isReply:function la(ma){var na=this.getByID(ma);return na.targetID!==this.getTargetFBID();},getPermalink:function la(ma){var na=this.getByID(ma);return new (c('URI'))(na.ogURL).setQueryData({fb_comment_id:ma}).toString();},isOptinReturn:function la(){return !!q.ret;},setActor:function la(ma){q.user=q.actors[ma];},getPrivacyOptionsList:function la(){return q.privacyOptionsList;},getPostToFeed:function la(){return r;},getPrivacyOption:function la(){return s;},setPostToFeed:function la(ma){r=ma;},setPrivacyOption:function la(ma){s=ma;},getEnablePhoto:function la(){return q.enablePhoto;},getEnableSticker:function la(){return q.enableSticker;},isDeeplinkComment:function la(){return !!q.deeplinkedCommentID&&q.fromModTool;},getOriginalLink:function la(){return q.href;},getCreateComposerAttachment:function la(ma){return t[ma||j]||null;},setCreateComposerAttachment:function la(ma,na){t[na||j]=ma;this.emit('composerChange');},getEditComposerAttachment:function la(ma){return u[ma]||null;},setEditComposerAttachment:function la(ma,na){u[na]=ma;this.emit('composerChange');},getLoadingCreateComposerAttachment:function la(ma){return v[ma||j]||false;},setLoadingCreateComposerAttachment:function la(ma,na){v[na||j]=ma;this.emit('composerChange');},getLoadingEditComposerAttachment:function la(ma){return w[ma]||false;},setLoadingEditComposerAttachment:function la(ma,na){w[na]=ma;this.emit('composerChange');},setCreateComposerState:function la(ma,na){y[na||j]=ma;this.emit('composerChange');},getCreateComposerState:function la(ma){return y[ma||j]||null;},getCreateComposerContent:function la(ma){return this._editorStateToComposerPayload(this.getCreateComposerState(ma));},isEmptyCreateComposer:function la(ma){return this.getLoadingCreateComposerAttachment(ma)||this.getCreateComposerContent(ma).visibleValue.trim()===''&&!this.getCreateComposerAttachment(ma);},setEditComposerState:function la(ma,na){z[na]=ma;this.emit('composerChange');},getEditComposerState:function la(ma){return z[ma];},getEditComposerContent:function la(ma){return this._editorStateToComposerPayload(this.getEditComposerState(ma));},isEmptyEditComposer:function la(ma){return this.getLoadingEditComposerAttachment(ma)||this.getEditComposerContent(ma).visibleValue.trim()===''&&!this.getEditComposerAttachment(ma);},hasTextChanged:function la(ma,na){return ma.trim()!==na.trim();},hasAttachmentChanged:function la(ma,na){if(ma){return na?ma.fbid!==na.fbid:true;}else return !!na;},hasCommentChanged:function la(ma,na){var oa=this.getByID(ma);return this.hasTextChanged(na.encodedValue,oa.body.text)||this.hasAttachmentChanged(u[ma],oa.photo_comment||oa.attachment);},_editorStateToComposerPayload:function la(ma){if(!ma)return k;var na=ma.getCurrentContent(),oa=c('getVisibleValueForContentState')(na),pa=c('getMentionsTextForContentState')(na);return {visibleValue:oa,encodedValue:pa};},hasAttachment:function la(){var ma=Object.keys(v);for(var na=0;na<ma.length;na++)if(v[ma[na]]||t[ma[na]])return true;return false;},getActorIDs:function la(){return Object.keys(q.actors);},getModerateURL:function la(){return q.moderateURL;},isLoggedIn:function la(){return q.user.id!==n&&c('CurrentUser').isLoggedInNow();},isPlatformEnabled:function la(ma){return q.actorsOptIn[ma];},isMobile:function la(){return q.isMobile;},useLegacyMentionsInput:function la(){return this.isMobile()||!this.isLoggedIn();},useCustomActorSelector:function la(){return this.isMobile()||document.body.offsetWidth<450;},isViewerModerator:function la(){return q.isModerator;},isThreadClosed:function la(){return q.threadClosed;},shouldSwitchAccount:function la(){return q.shouldSwitchAccount;},hasUnloadedComments:function la(){return !!q.afterCursor;},hasUnloadedReplies:function la(ma){var na=this.getByID(ma).public_replies;if(!na)return false;if(na.afterCursor)return true;if((!na.commentIDs||na.commentIDs.length===0)&&na.totalCount>0)return true;return false;},getUnloadedCommentsCount:function la(){return q.totalCount-o.length;},getDialogWidth:function la(){return Math.min(document.body.offsetWidth-10,this.isMobile()?320:445);},dispatcherIndex:c('DevxFluxDispatcher').register(function(la){da(la.action);fa(la);}),init:function la(ma,na,oa,pa){q=na;this.updateCommentData(ma,oa);Object.keys(q.actors).forEach(function(qa){return p[qa]=q.actors[qa];});this.setActor(q.userID);x.ranking_allowed=pa;},updateCommentData:function la(ma,na){o=ma.commentIDs;Object.assign(p,this.initComments(o,ma.idMap));x.ordering=na;},initComment:function la(ma){ma.collapsed=false;ma.editor=false;ma.composer=false;ma.deleted=false;ma.flagged=false;return ma;},initComments:function la(ma,na){ma.forEach(function(oa){return na[oa]=this.initComment(na[oa]);}.bind(this));return na;},emit:undefined,addListener:undefined,removeCurrentListener:undefined,ActionHandler:undefined};c('mixInEventEmitter')(ja,l);var ka={ban:function la(ma){var na=ja.getByID(ma);na.deleted=true;ja.emit('change');var oa=c('XPluginCommentsBanAuthorAsyncController').getURIBuilder().setString('comment_id',ma).getURI();new (c('AsyncRequest'))(oa).setMethod('POST').setData({ban:true,source:c('DeveloperCommentsModerationSource').URL}).send();},hide:function la(ma){var na=ja.getByID(ma);na.deleted=true;ja.emit('change');var oa=c('XPluginCommentsHideCommentAsyncController').getURIBuilder().setInt('url_id',q.targetFBID).setEnum('action',c('DeveloperCommentsModerationAction').DELETE).setEnum('type',c('DeveloperCommentsModerationType').APPROVED).getURI();new (c('AsyncRequest'))(oa).setData({comment_ids:[ma]}).setMethod('POST').send();},addComment:function la(){var ma=ja.getCreateComposerContent(),na=this._getAttachmentFBID(ja.getCreateComposerAttachment()),oa=c('XPluginCommentsCreateCommentAsyncController').getURIBuilder().setInt('target_id',q.targetFBID).getURI();new (c('AsyncRequest'))(oa).setData({app_id:q.appID,av:ja.getUser().id,text:ma.encodedValue,attached_photo_fbid:na.photoFBID,attached_sticker_fbid:na.stickerFBID,post_to_feed:ja.getPostToFeed(),privacy_option:ja.getPrivacyOption(),iframe_referer:q.iframeReferer}).setMethod('POST').setHandler(function(pa){var qa=pa.payload,ra=qa.commentID;this._prependComment(qa.idMap[ra]);delete y[j];ja.emit('composerCommentAdded',{});ia('comment.create',{commentID:ra,message:ma.visibleValue});if(qa.sentryAction)ja.emit('sentryAction',qa.sentryAction,ra);}.bind(this)).setErrorHandler(function(pa){delete p[j];o.shift();ja.updateCommentsCount(-1);ja.emit('change');ja.emit('postError',pa);}).send();this._prependComment({authorID:q.user.id,targetID:q.targetFBID,body:{text:ma.visibleValue}});ja.updateCommentsCount(1);},addReply:function la(ma){var na=ja.getCreateComposerContent(ma),oa=this._getAttachmentFBID(ja.getCreateComposerAttachment(ma)),pa=c('XPluginCommentsCreateReplyAsyncController').getURIBuilder().setString('parent_comment_id',ma).getURI(),qa=j+c('uniqueID')();new (c('AsyncRequest'))(pa).setData({app_id:q.appID,av:ja.getUser().id,text:na.encodedValue,attached_photo_fbid:oa.photoFBID,attached_sticker_fbid:oa.stickerFBID,iframe_referer:q.iframeReferer,replied_to:ja.getByID(ma).replyToCommentID}).setMethod('POST').setHandler(function(ta){var ua=ja.getByID(ma),va=Object.assign({},ua.public_replies);Object.assign(p,ta.payload.idMap);ua=ja.getByID(ma);ua.public_replies=va;delete p[qa];delete y[ma];o.splice(o.indexOf(qa),1);ua.composer=false;delete ua.replyToCommentID;ua.public_replies.commentIDs.pop();ua.public_replies.commentIDs.push(ta.payload.commentID);ia('comment.create',{commentID:ta.payload.commentID,parentCommentID:ma,message:na.visibleValue});ja.emit('change');}).setErrorHandler(function(ta){delete p[qa];o.splice(o.indexOf(qa),1);ra=ja.getByID(ma);ra.public_replies.commentIDs.pop();ra.public_replies.totalCount--;ra.composer=false;delete ra.replyToCommentID;ja.updateCommentsCount(-1);ja.emit('change');ja.emit('postError',ta);}).send();var ra=ja.getByID(ma),sa=Object.assign({},ra.public_replies);if(!sa.commentIDs)sa.commentIDs=[];if(!sa.totalCount)sa.totalCount=0;sa.totalCount++;sa.commentIDs.push(qa);ra.public_replies=sa;p[qa]={authorID:q.user.id,body:{text:na.visibleValue},targetID:ma,id:qa};o.push(qa);ja.updateCommentsCount(1);ja.emit('change');},_prependComment:function la(ma){if(!ma.id){ma.id=j;}else{o.shift();delete p[j];}o.unshift(ma.id);p[ma.id]=ja.initComment(ma);ja.emit('change');},_getAttachmentFBID:function la(ma){var na=0,oa=0;if(ma)if(ma.attachmentType==='photo'){na=c('nullthrows')(ma.fbid);}else if(ma.attachmentType==='sticker')oa=c('nullthrows')(ma.fbid);return {photoFBID:na,stickerFBID:oa};},edit:function la(ma,na){var oa=ja.getByID(ma);oa.editor=true;oa.prefillText=na;ja.emit('change');},saveEdit:function la(ma){var na=JSON.parse(JSON.stringify(ja.getByID(ma))),oa=c('XPluginCommentsEditCommentAsyncController').getURIBuilder().getURI(),pa=ja.getEditComposerContent(ma),qa=this._getAttachmentFBID(ja.getEditComposerAttachment(ma)),ra=ja.hasCommentChanged(ma,pa);if(ra){new (c('AsyncRequest'))(oa).setMethod('POST').setData({app_id:q.appID,text:pa.encodedValue,comment_id:ma,av:ja.getAuthor(ma).id,attached_photo_fbid:qa.photoFBID,attached_sticker_fbid:qa.stickerFBID,iframe_referer:q.iframeReferer}).setHandler(function(ta){var ua=ta.payload;p[ua.commentID]=ja.initComment(ua.idMap[ua.commentID]);delete z[ma];ja.emit('change');}).setErrorHandler(function(ta){na.editor=false;Object.assign(ja.getByID(ma),na);ja.emit('change');ja.emit('postError',ta);}).send();var sa=ja.getByID(ma);sa.editor=false;sa.body.text=pa.visibleValue;if(qa.photoFBID===0)delete sa.photo_comment;if(qa.stickerFBID===0)delete sa.attachment;delete sa.ranges;ja.emit('change');}else this.cancelEdit(ma);},cancelEdit:function la(ma){var na=ja.getByID(ma);na.editor=false;ja.emit('change');},'delete':function la(ma){var na=ja.getByID(ma);na.deleted=true;var oa=c('XPluginCommentsDeleteCommentAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(oa).setData({app_id:q.appID,comment_id:ma,av:ja.getAuthor(ma).id,iframe_referer:q.iframeReferer}).setMethod('POST').setHandler(function(){return (ia('comment.remove',{commentID:ma}));}).setErrorHandler(function(pa){var qa=ja.getByID(ma);qa.deleted=false;ja.updateCommentsCount(1);ja.emit('change');}).send();ja.updateCommentsCount(-1);ja.emit('change');},like:function la(ma){var na=ja.getByID(ma),oa=c('XPluginCommentsLikeCommentAsyncController').getURIBuilder().setBool('action_like',!na.hasLiked).getURI();new (c('AsyncRequest'))(oa).setData({app_id:q.appID,comment_id:na.id,iframe_referer:q.iframeReferer}).setMethod('POST').setHandler(function(pa){var qa=pa.payload;Object.assign(p[qa.commentID],ja.initComment(qa.idMap[qa.commentID]));ja.emit('change');}).setErrorHandler(function(pa){na.likeCount--;na.hasLiked=false;ja.emit('postError',pa);}).send();na.hasLiked=!na.hasLiked;if(na.hasLiked){na.likeCount++;}else if(na.likeCount>0)na.likeCount--;p[na.id]=na;ja.emit('change');},sort:function la(ma){var na=c('XPluginCommentsPagerAsyncController').getURIBuilder().setInt('target_id',q.targetFBID).setEnum('ordering',ma).getURI();new (c('AsyncRequest'))(na).setMethod('POST').setData({app_id:q.appID,limit:ja.getPageSize(),iframe_referer:q.iframeReferer}).setHandler(function(oa){var pa=oa.payload;q.afterCursor=pa.afterCursor;ja.updateCommentData(pa,ma);ja.emit('sortingCompleted');ja.emit('change');}).send();},showMoreComments:function la(){var ma=c('XPluginCommentsPagerAsyncController').getURIBuilder().setInt('target_id',q.targetFBID).setEnum('ordering',ja.getCurrentSorting()).getURI();new (c('AsyncRequest'))(ma).setMethod('POST').setData({app_id:q.appID,after_cursor:q.afterCursor,limit:ja.getPageSize(),deeplinked_comment_id:q.deeplinkedCommentID,iframe_referer:q.iframeReferer}).setHandler(function(na){var oa=na.payload;q.afterCursor=oa.afterCursor;o=o.concat(oa.commentIDs).filter(ha);Object.assign(p,ja.initComments(oa.commentIDs,oa.idMap));ja.emit('moreCommentsCompleted');ja.emit('change');}).setErrorHandler(function(na){ja.emit('postError',na);ja.emit('moreCommentsCompleted');}).send();},setUser:function la(ma){ja.setActor(ma);ja.emit('actorChange');},setPostToFeed:function la(ma){ja.setPostToFeed(ma);},setPrivacyOption:function la(ma){ja.setPrivacyOption(ma);},showMoreReplies:function la(ma){var na=c('XPluginCommentsRepliesPagerAsyncController').getURIBuilder().setString('comment_id',ma).getURI(),oa=ja.getByID(ma).public_replies;new (c('AsyncRequest'))(na).setMethod('POST').setData({app_id:q.appID,after_cursor:oa.afterCursor,limit:ja.getPageSize(),iframe_referer:q.iframeReferer}).setHandler(function(pa){var qa=pa.payload;p=Object.assign(ja.initComments(qa.commentIDs,qa.idMap),p);oa.afterCursor=qa.afterCursor;oa.commentIDs=oa.commentIDs.concat(qa.commentIDs).filter(ha);ja.emit('moreRepliesCompleted',{commentID:ma});ja.emit('change');}).setErrorHandler(function(pa){ja.emit('postError',pa);ja.emit('moreRepliesCompleted',{commentID:ma});}).send();},toggleVisibility:function la(ma){var na=ja.getByID(ma);na.collapsed=!na.collapsed;ja.emit('change');},flag:function la(ma){p[ma].flagged=true;this._sendFlagOrUnflagRequest(ma,'flag');ja.emit('change');},unflag:function la(ma){p[ma].flagged=false;this._sendFlagOrUnflagRequest(ma,'unflag');ja.emit('change');},_sendFlagOrUnflagRequest:function la(ma,na){var oa=c('XPluginCommentsFlagCommentAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(oa).setData({app_id:q.appID,comment_id:ma,iframe_referer:q.iframeReferer,unflag:na==='unflag'}).setMethod('POST').setErrorHandler(function(pa){p[ma].flagged=!p[ma].flagged;ja.emit('postError',pa);}).send();},report:function la(ma){window.open(ja.getByID(ma).reportURI,'_blank');},showReplyComposer:function la(ma,na){var oa=ja.getByID(ma);if(ja.isReply(ma)){var pa=ma;oa=ja.getByID(oa.targetID);oa.replyToCommentID=pa;}oa.prefillText=na;oa.composer=true;ja.emit('change');},cancelReply:function la(ma){var na=ja.getByID(ma);na.composer=false;delete na.replyToCommentID;ja.emit('change');},restorePreviousState:function la(){var ma,na=this,oa=c('WebStorage').getSessionStorage();if(oa)(function(){var pa=JSON.parse(oa.getItem('previousState'));oa.clear();var qa=ja.getCommentIDs();if(pa.action){var ra={};ra.action=pa.action;ra.args=pa.commentIDs;fa(ra);}var sa=pa.replies,ta=pa.edits;qa.map(function(ua){if(sa[ua])this.showReplyComposer(ua,sa[ua]);if(ta[ua])this.edit(ua,ta[ua]);}.bind(na));if(pa.commentBody)ja.emit('previousComposerCommentPrefill',{prefillText:pa.commentBody});if(pa.postToFeed){na.setPostToFeed(pa.postToFeed);ja.emit('previousPostToFeedPrefill');}})();},embed:function la(ma){var na=c('XCommentEmbedPluginEmbedAsyncDialogController').getURIBuilder().setString('comment_id',ma).setInt('width',ja.getDialogWidth()).getURI();c('AsyncDialog').send(new (c('AsyncRequest'))(na));}};ja.ActionHandler=ka;f.exports=ja;}),null);
__d('CommentsPluginActions',['CommentsPluginStore','DevxProxyActions'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('DevxProxyActions'))(c('CommentsPluginStore'));}),null);
__d('CommentsPluginAction',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={EDIT:'edit',DELETE:'delete',FLAG:'flag',SETUSER:'setUser',BAN:'ban',HIDE:'hide',REPORT:'report',COLLAPSE:'collapse',EMBED:'embed',getLabel:function j(k){switch(k){case i.COLLAPSE:return h._("Collapse comment");case i.EDIT:return h._("Edit comment");case i.DELETE:return h._("Delete comment");case i.FLAG:return h._("Mark as spam");case i.BAN:return h._("Ban user");case i.HIDE:return h._("Hide comment");case i.REPORT:return h._("Report to Facebook");case i.SETUSER:return h._("Switch Accounts");case i.EMBED:return h._("Embed");}},getMenuActions:function j(){return [i.COLLAPSE,i.EDIT,i.DELETE,i.FLAG,i.BAN,i.HIDE,i.REPORT,i.EMBED];}};f.exports=i;}),null);
__d('MixinCommentsPluginConfirmAction',['fbt','invariant','CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','React','Set','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=120,k={componentWillMount:function l(){this.setState({actionConfirmationShown:false,action:null,id:null,pageY:null});},requiresConfirmation:function l(m){var n=new (c('Set'))([c('CommentsPluginAction').DELETE,c('CommentsPluginAction').BAN,c('CommentsPluginAction').HIDE]);return n.has(m);},confirmAction:function l(m,n,o){this.setState({actionConfirmationShown:true,action:m,id:n,pageY:o});},_onActionConfirmed:function l(){c('CommentsPluginActions')[this.state.action](this.state.id);this.setState({actionConfirmationShown:false});},_onActionCancelled:function l(){this.setState({actionConfirmationShown:false});},_getActionMetadata:function l(m){switch(m){case c('CommentsPluginAction').DELETE:return {body:h._("Are you sure you want to delete this comment?"),button_label:h._("Confirm Delete")};case c('CommentsPluginAction').BAN:return {body:h._("Are you sure you want to ban this user?"),button_label:h._("Confirm Ban")};case c('CommentsPluginAction').HIDE:return {body:h._("Are you sure you want to hide this comment?"),button_label:h._("Confirm Hide")};case c('CommentsPluginAction').SETUSER:return {body:h._("Commenting as another account will clear the attachments you've uploaded."),button_label:h._("Switch Accounts")};default:i(0);}},renderActionConfirmationDialog:function l(){var m=this.state.action;if(!m)return null;var n=this._getActionMetadata(m);return (c('React').createElement(c('XUIDialog.react'),{shown:this.state.actionConfirmationShown,fixedTopPosition:this.state.pageY+j<document.body.offsetHeight?this.state.pageY-j/2:null,width:c('CommentsPluginStore').getDialogWidth()},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},c('CommentsPluginAction').getLabel(m)),c('React').createElement(c('XUIDialogBody.react'),null,n.body),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this._onActionCancelled.bind(this)}),c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',label:n.button_label,onClick:this._onActionConfirmed.bind(this)}))));}};f.exports=k;}),null);
__d('CommentsPluginAuthorSelector.react',['cx','fbt','ActorSelector.react','CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','MixinCommentsPluginConfirmAction','React','ShortProfiles','XUIText.react','classWithMixins','joinClasses','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('classWithMixins')(c('React').Component,c('mixin')(c('MixinCommentsPluginConfirmAction'))));k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$CommentsPluginAuthorSelector1=function(n){if(c('CommentsPluginStore').hasAttachment()){this.confirmAction(c('CommentsPluginAction').SETUSER,n);}else c('CommentsPluginActions').setUser(n);}.bind(this);this.actorIDs=c('CommentsPluginStore').getActorIDs();this.state={actorsData:null};}l.prototype.componentWillMount=function(){if(this.actorIDs.length>1&&c('CommentsPluginStore').useCustomActorSelector())c('ShortProfiles').getMulti(this.actorIDs,function(m){this.setState({actorsData:m});}.bind(this));};l.prototype.$CommentsPluginAuthorSelector2=function(m){return i._("Commenting as {actorName}",[i.param('actorName',m)]);};l.prototype.render=function(){var m,n=this;if(this.actorIDs.length<=1)return null;var o=c('CommentsPluginStore').getUser().id;if(c('CommentsPluginStore').useCustomActorSelector()){var m=function(){var p=n.state.actorsData;if(!p)return {v:null};return {v:c('React').createElement('div',{className:"_3-95"},c('React').createElement(c('XUIText.react'),{size:'small',className:"_1y5f _2pih"},i._("Commenting as")),c('React').createElement('select',{value:o,onChange:function(q){return this.$CommentsPluginAuthorSelector1(q.target.value);}.bind(n),className:"_1y5g"},n.actorIDs.map(function(q){return (c('React').createElement('option',{value:q,key:q},p&&p[q].name));})),n.renderActionConfirmationDialog())};}();if(typeof m==="object")return m.v;}return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,'inlineBlock')},c('React').createElement(c('ActorSelector.react'),{actorIDs:this.actorIDs,coverEnabled:false,selectedActorID:o,onChange:function(p){return this.$CommentsPluginAuthorSelector1(p.value);}.bind(this),tooltipConstructor:this.$CommentsPluginAuthorSelector2}),this.renderActionConfirmationDialog()));};f.exports=l;}),null);
__d('CommentsPluginComposerMirroringNotice.react',['cx','fbt','CommentsPluginStore','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=c('CommentsPluginStore').getMirroredPage();if(!n)return null;return (c('React').createElement('div',{className:"_5sge _2ph-"},n.name?this.props.isReply?i._("Your reply may also appear on {page name}'s Facebook Page.",[i.param('page name',c('React').createElement('a',{href:n.uri,target:'blank'},n.name))]):i._("Your comment may also appear on {page name}'s Facebook Page.",[i.param('page name',c('React').createElement('a',{href:n.uri,target:'blank'},n.name))]):this.props.isReply?i._("Your reply may also appear on Facebook."):i._("Your comment may also appear on Facebook.")));};function m(){j.apply(this,arguments);}m.propTypes={isReply:l.bool};f.exports=m;}),null);
__d('CommentsPluginProfilePicture.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('a',babelHelpers['extends']({},this.props,{href:this.props.href}),c('React').createElement(c('Image.react'),{className:(!this.props.isReply?"_1ci":'')+(this.props.isReply?' '+"_1cj":''),src:this.props.src})));};function l(){i.apply(this,arguments);}l.propTypes={href:k.string.isRequired,src:k.string.isRequired,isReply:k.bool};f.exports=l;}),null);
__d('createPlainBlocksFromText',['CharacterMetadata','ContentBlock','immutable','generateRandomKey','sanitizeDraftText'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('immutable').Repeat,j=c('CharacterMetadata').EMPTY;function k(l){return l.map(function(m){m=c('sanitizeDraftText')(m);var n=m.length;return new (c('ContentBlock'))({key:c('generateRandomKey')(),text:m,type:'unstyled',characterList:h(i(j,n))});});}f.exports=k;}),null);
__d('createEditorStateWithEntities',['invariant','ContentState','DraftModifier','EditorState','SelectionState','UnicodeUtils','applyEntityToContentBlock','createPlainBlocksFromText'],(function a(b,c,d,e,f,g,h){function i(j){var k,l,m=j.addEntityToContentStateFn,n=j.allowUndo,o=j.decorator,p=j.entityCreationFn,q=j.splitIntoBlocks,r=j.text,s=j.ranges;!m||!p||h(0);if(q===undefined)q=true;if(!r)r='';var t=[],u=[],v=q?r.split(/(\r\n?|\n)/g):[r],w=0;v.forEach(function(aa,ba){if(ba%2===0){t.push(aa);u.push(w);}w+=c('UnicodeUtils').strlen(aa);});var x=c('createPlainBlocksFromText')(t),y=c('ContentState').createFromBlockArray(x);if(s&&s.length)if(m){(function(){var aa=m;y=s.reduce(function(ba,ca,da){var ea=aa(ca.entity,ba),fa=ea.getLastCreatedEntityKey(),ga=ca.offset,ha=ga+ca.length,ia=void 0,ja=void 0,ka=void 0,la=void 0;for(var ma=0;ma<u.length;ma++){var na=u[ma],oa=u[ma+1],pa=oa===undefined;if(pa||ga>=na&&ga<oa){ia=x[ma];ja=ga-na;}if(pa||ha>=na&&ha<oa){ka=x[ma];la=ha-na;break;}}ia&&ka||h(0);var qa=c('UnicodeUtils').substr(ia.getText(),0,ja),ra=qa.length,sa=c('UnicodeUtils').substr(ka.getText(),0,la),ta=sa.length,ua=new (c('SelectionState'))({anchorKey:ia.getKey(),anchorOffset:ra,focusKey:ka.getKey(),focusOffset:ta,isBackward:false,hasFocus:false}),va=c('DraftModifier').applyEntity(ea,ua,fa);return va;},y);})();}else if(p)(function(){var aa=p;s.forEach(function(ba){var ca=aa(ba.entity);if(ca===null)return;var da=ba.offset,ea,fa;for(var ga=0;ga<u.length;ga++){var ha=u[ga],ia=u[ga+1];if(ia===undefined||da>=ha&&da<ia){ea=x[ga];fa=da-ha;break;}}var ja=c('UnicodeUtils').substr(x[ga].getText(),0,fa);fa=ja.length;x[ga]=c('applyEntityToContentBlock')(ea,fa,fa+ba.length,ca);y=c('ContentState').createFromBlockArray(x);});})();var z=c('EditorState').createWithContent(y,o);if(n===false)z=c('EditorState').set(z,{allowUndo:false});return z;}f.exports=i;}),null);
__d('applyEmoticonToContentBlock',['CharacterMetadata','DraftEntity','EmoticonsList','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i='\u3000';function j(k,l,m){if(!c('EmoticonsList').emotes[l])return k;var n=c('DraftEntity').create('EMOTICON','IMMUTABLE',{type:c('EmoticonsList').emotes[l],originalEmoticon:l}),o=k.getText(),p=k.getCharacterList(),q=l.length,r=p.get(m);return k.merge({text:o.slice(0,m)+i+o.slice(m+q),characterList:p.slice(0,m).concat(h.of(c('CharacterMetadata').applyEntity(r,n)),p.slice(m+q))});}f.exports=j;}),null);
__d('insertEmoticonIntoContentState',['DraftModifier','applyEmoticonToContentBlock'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=c('DraftModifier').replaceText(j,k,i),m=k.getAnchorKey(),n=k.getAnchorOffset(),o=l.getBlockForKey(m),p=l.getBlockMap().set(m,c('applyEmoticonToContentBlock')(o,i,n));n++;return j.merge({blockMap:p,selectionBefore:k,selectionAfter:k.merge({anchorOffset:n,focusOffset:n})});}f.exports=h;}),null);
__d('insertEmoticonIntoEditorState',['DraftModifier','EditorState','insertEmoticonIntoContentState'],(function a(b,c,d,e,f,g){'use strict';var h=' ';function i(j,k){var l=k.getSelection(),m=k.getCurrentContent(),n=l.getStartOffset(),o=l.getEndOffset(),p=m.getBlockForKey(l.getStartKey()).getText(),q=m.getBlockForKey(l.getEndKey()).getText(),r='';if(o<=q.length&&q[o]!==h)r=h;if(n>0&&p[n-1]!==h){m=c('DraftModifier').insertText(m,l,h);l=m.getSelectionAfter();}var s=c('insertEmoticonIntoContentState')(j,m,l);m=c('DraftModifier').insertText(s,s.getSelectionAfter(),r);return c('EditorState').push(k,m,'insert-characters');}f.exports=i;}),null);
__d('CommentsPluginComposer.react',['cx','fbt','ActorURI','AsyncRequest','CommentsPluginStore','CommentsPluginComposerMirroringNotice.react','CommentsPluginConfig','CommentsPluginProfilePicture.react','DraftEntity','EditorState','EmoticonsList','MentionsInput.react','React','UFIAttachMediaSection.react','UFIAttachedMediaPreview.react','UFICommentUtils','UFIImageBlock.react','UFIStickerButton.react','XUINotice.react','XUITypeaheadView.react','createEditorStateWithEntities','getMentionsInputDecorator','getVisibleValueForContentState','insertEmoticonIntoEditorState','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=19,n='/ajax/ufi/sticker_preview/';function o(q){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:q.id});}j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(q,r){k.constructor.call(this,q,r);this.$CommentsPluginComposer10=function(s){this.setState({editorState:s});if(this.props.editCommentID){c('CommentsPluginStore').setEditComposerState(s,this.props.editCommentID);}else c('CommentsPluginStore').setCreateComposerState(s,this.props.parentCommentIDOfNewReply);}.bind(this);this.$CommentsPluginComposer12=function(){this.setState({expanded:true});}.bind(this);this.state=this.$CommentsPluginComposer1();}p.prototype.$CommentsPluginComposer1=function(q){var r=null,s=null,t=q||this.props.prefillText;if(t){r=this.$CommentsPluginComposer2(t);if(this.props.editCommentID){c('CommentsPluginStore').setEditComposerState(r,this.props.editCommentID);}else c('CommentsPluginStore').setCreateComposerState(r,this.props.parentCommentIDOfNewReply);}else{var u=null,v=null;if(this.props.editCommentID){s=c('CommentsPluginStore').getByID(this.props.editCommentID);r=c('createEditorStateWithEntities')({text:s.body.text,ranges:c('UFICommentUtils').shallowCopyRanges(s.ranges).filter(function(y){return !y.entity.external;}),decorator:c('getMentionsInputDecorator')(),entityCreationFn:o});if(s.photo_comment){u=s.photo_comment;u.attachmentType='photo';this.$CommentsPluginComposer3(u);}else if(s.attachment){v=s.attachment;v.attachmentType='sticker';this.$CommentsPluginComposer3(v);}}else if(this.props.parentCommentIDOfNewReply){s=c('CommentsPluginStore').getByID(this.props.parentCommentIDOfNewReply);if(s.replyToCommentID&&c('CommentsPluginStore').getAuthor(s.replyToCommentID).id!==c('CommentsPluginStore').getUser().id){var w=c('CommentsPluginStore').getAuthor(s.replyToCommentID),x={id:w.id,text:w.name,offset:0,length:w.name.length,entity:{id:w.id}};r=c('EditorState').moveFocusToEnd(c('createEditorStateWithEntities')({text:w.name+' ',ranges:[x],decorator:c('getMentionsInputDecorator')(),entityCreationFn:o}));}}if(!r)r=c('EditorState').createEmpty(c('getMentionsInputDecorator')());}return {editorState:r,expanded:t||!!this.props.alwaysExpanded,attachedPhoto:u,attachedSticker:v};};p.prototype.$CommentsPluginComposer2=function(q){return c('createEditorStateWithEntities')({text:q,decorator:c('getMentionsInputDecorator')()});};p.prototype.$CommentsPluginComposer4=function(){return !this.props.editCommentID&&!this.props.parentCommentIDOfNewReply;};p.prototype.$CommentsPluginComposer3=function(q){if(this.props.editCommentID){c('CommentsPluginStore').setEditComposerAttachment(q,this.props.editCommentID);}else c('CommentsPluginStore').setCreateComposerAttachment(q,this.props.parentCommentIDOfNewReply);};p.prototype.$CommentsPluginComposer5=function(q){if(this.props.editCommentID){c('CommentsPluginStore').setLoadingEditComposerAttachment(q,this.props.editCommentID);}else c('CommentsPluginStore').setLoadingCreateComposerAttachment(q,this.props.parentCommentIDOfNewReply);};p.prototype.$CommentsPluginComposer6=function(){if(this.props.editCommentID){return c('CommentsPluginStore').getLoadingEditComposerAttachment(this.props.editCommentID);}else return c('CommentsPluginStore').getLoadingCreateComposerAttachment(this.props.parentCommentIDOfNewReply);};p.prototype.$CommentsPluginComposer7=function(){return this.state.isLoadingAttachment||!!this.state.attachedSticker||!!this.state.attachedPhoto;};p.prototype.getPhotoUploadData=function(){var q=c('CommentsPluginStore').getUser().id,r={profile_id:q,target_id:this.props.targetID,source:m};r[c('ActorURI').PARAMETER_ACTOR]=q;return r;};p.prototype.onPhotoUploadComplete=function(q){if(!this.$CommentsPluginComposer6())return;var r=q.getPayload();if(r&&r.fbid){r.attachmentType='photo';this.$CommentsPluginComposer3(r);this.$CommentsPluginComposer5(false);this.setState({attachedPhoto:r,isLoadingAttachment:false,expanded:true});}else this.resetAttachment(null);};p.prototype.onStickerSelected=function(q){this.$CommentsPluginComposer8();new (c('AsyncRequest'))(n).setData({sticker_id:q}).setErrorHandler(this.resetAttachment.bind(this)).setHandler(this.$CommentsPluginComposer9.bind(this)).send();};p.prototype.$CommentsPluginComposer9=function(q){if(!this.$CommentsPluginComposer6())return;var r=q.getPayload();if(r&&r.fbid){r.attachmentType='sticker';this.$CommentsPluginComposer3(r);this.$CommentsPluginComposer5(false);this.setState({attachedSticker:r,isLoadingAttachment:false,expanded:true});}else this.resetAttachment(null);};p.prototype.insertEmoticonToCommentText=function(q){var r=c('EmoticonsList').symbols[q];if(!r)return;var s=c('insertEmoticonIntoEditorState')(r,this.state.editorState);if(s!==this.state.editorState)this.$CommentsPluginComposer10(s);};p.prototype.resetAttachment=function(event){this.$CommentsPluginComposer3(undefined);this.$CommentsPluginComposer5(false);this.setState({attachedPhoto:null,attachedSticker:null,isLoadingAttachment:false});};p.prototype.$CommentsPluginComposer8=function(){this.$CommentsPluginComposer3(undefined);this.$CommentsPluginComposer5(true);this.setState({attachedSticker:null,attachedPhoto:null,isLoadingAttachment:true});};p.prototype.componentDidMount=function(){c('CommentsPluginStore').addListener('composerCommentAdded',function(event){if(this.$CommentsPluginComposer4()){var q=this.$CommentsPluginComposer1();q.expanded=true;this.setState(q);if(this.refs.composer.style)this.refs.composer.style.cssText='';}}.bind(this));c('CommentsPluginStore').addListener('previousComposerCommentPrefill',function(q){var r=this.$CommentsPluginComposer1(q.prefillText);r.expanded=true;this.setState(r);}.bind(this));if(!this.$CommentsPluginComposer4())this.refs.composer.focus();};p.prototype.$CommentsPluginComposer11=function(){if(this.props.editCommentID)return c('CommentsPluginStore').isReply(this.props.editCommentID);return !!this.props.parentCommentIDOfNewReply;};p.prototype.setFileInput=function(q,r){this.setState({fileInput:q,fileUploader:r});};p.prototype.$CommentsPluginComposer13=function(){return c('getVisibleValueForContentState')(this.state.editorState.getCurrentContent());};p.prototype.$CommentsPluginComposer14=function(q){var r=q.target,s=r.value;r.value='';r.value=s;this.$CommentsPluginComposer12();};p.prototype.$CommentsPluginComposer15=function(q){var r=q.target,s=r.scrollHeight;if(r.offsetHeight<s)r.style.cssText='height:'+s+'px';this.$CommentsPluginComposer10(c('createEditorStateWithEntities')({text:r.value}));};p.prototype.$CommentsPluginComposer16=function(){var q=this.props.placeholder||i._("Add a comment...");if(c('CommentsPluginStore').useLegacyMentionsInput())return (c('React').createElement('textarea',{className:"_1cb"+(' '+"_1u9t")+(this.props.readOnly?' '+"_5pu_":''),placeholder:q,ref:'composer',onFocus:this.$CommentsPluginComposer14.bind(this),onChange:this.$CommentsPluginComposer15.bind(this),readOnly:this.props.readOnly,value:this.$CommentsPluginComposer13()}));return (c('React').createElement(c('MentionsInput.react'),{className:"_1cb"+(this.props.readOnly?' '+"_5pu_":''),editorState:this.state.editorState,mentionsSource:c('CommentsPluginStore').getComposerSearchSource(),onChange:this.$CommentsPluginComposer10,onFocus:this.$CommentsPluginComposer12,placeholder:q,readOnly:this.props.readOnly,typeaheadView:c('XUITypeaheadView.react'),ref:'composer'}));};p.prototype.render=function(){var q=this.props.editCommentID?c('CommentsPluginStore').getAuthor(this.props.editCommentID):c('CommentsPluginStore').getUser(),r=this.$CommentsPluginComposer11();return (c('React').createElement(c('UFIImageBlock.react'),{spacing:'medium',className:c('joinClasses')("_4uyl"+(r?' '+"_1zz6":'')+(!this.state.expanded?' '+"_1zz7":'')+(!!this.state.expanded?' '+"_1zz8":''),this.props.className)},c('CommentsPluginStore').useCustomActorSelector()?c('React').createElement('div',null):c('React').createElement(c('CommentsPluginProfilePicture.react'),{href:q.uri,src:q.thumbSrc,isReply:r,target:'_blank'}),c('React').createElement('div',null,c('React').createElement('div',{className:'UFIInputContainer'},this.$CommentsPluginComposer16(),c('React').createElement('div',{className:"UFICommentAttachmentButtons"+(' '+"clearfix")+(!(c('CommentsPluginStore').isPlatformEnabled(q.id)&&c('CommentsPluginStore').isLoggedIn()&&!this.$CommentsPluginComposer7())?' '+"hidden_elem":'')},this.props.allowPhotoAttachments?c('React').createElement(c('UFIAttachMediaSection.react'),{onPhotoUploadComplete:this.onPhotoUploadComplete.bind(this),getPhotoUploadData:this.getPhotoUploadData.bind(this),prepareForAttachedPhotoPreview:this.$CommentsPluginComposer8.bind(this),setFileInput:this.setFileInput.bind(this),attachment:this.state.attachedPhoto,viewerActorID:c('CommentsPluginStore').getUser().id}):null,this.props.allowStickerAttachments?c('React').createElement(c('UFIStickerButton.react'),{onStickerSelected:this.onStickerSelected.bind(this),onEmoticonSelected:this.insertEmoticonToCommentText.bind(this)}):null)),c('React').createElement(c('UFIAttachedMediaPreview.react'),{attachedPhoto:this.state.attachedPhoto,attachedSticker:this.state.attachedSticker,onRemoveAttachedMediaPreviewClicked:this.resetAttachment.bind(this),onRemoveAttachedStickerPreview:this.resetAttachment.bind(this),isLoadingPhoto:this.state.isLoadingAttachment}),this.props.unableToPost?c('React').createElement(c('XUINotice.react'),{use:'warn'},i._({"*":"Comments must be less than {lengthLimit} characters"},[i.param('lengthLimit',c('CommentsPluginStore').getMaxCommentLength(),[0])])):null,this.state.expanded?c('React').createElement('div',{className:"_4uym"},c('React').createElement(c('CommentsPluginComposerMirroringNotice.react'),{isReply:r}),this.props.children):null)));};p.propTypes={editCommentID:l.string,parentCommentIDOfNewReply:l.string,readOnly:l.bool,placeholder:l.node,alwaysExpanded:l.bool,unableToPost:l.bool,allowStickerAttachments:l.bool,allowPhotoAttachments:l.bool};f.exports=p;}),null);
__d('CommentsPluginPrivacySelector.react',['ix','cx','Image.react','React','XUISelector.react','XUISingleSelector.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('XUISelector.react').Option,m='everyone',n='friends',o='onlyMe';j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(q){'use strict';k.constructor.call(this,q);this.$CommentsPluginPrivacySelector1=function(event){this.props.onChange(event.value);}.bind(this);this.addlPrivacyOptions=q.addlPrivacyOptions;}p.prototype.getSelectedOption=function(){'use strict';return this.state.value;};p.prototype.render=function(){'use strict';var q=c('React').createElement(l,{value:m,icon:c('React').createElement(c('Image.react'),{src:h("113426")}),selected:true},'Everyone'),r=c('React').createElement(l,{value:n,icon:c('React').createElement(c('Image.react'),{src:h("113364")})},'Friends Only'),s=c('React').createElement(l,{value:o,icon:c('React').createElement(c('Image.react'),{src:h("113611")})},'Only Me'),t=this.addlPrivacyOptions.map(function(u){return (c('React').createElement(l,{value:u},u));});return (c('React').createElement('div',{className:"inlineBlock"},c('React').createElement(c('XUISingleSelector.react'),{defaultValue:this.props.privacyOption,onChange:this.$CommentsPluginPrivacySelector1},q,r,s,t)));};f.exports=p;}),null);
__d('CommentsPluginComposerComment.react',['cx','fbt','CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginConfig','CommentsPluginStore','Grid.react','InputLabel.react','LeftRight.react','React','XUIButton.react','XUICheckboxInput.react','CommentsPluginPrivacySelector.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Grid.react').GridItem;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$CommentsPluginComposerComment1=function(o){this.setState({privacyOption:o});}.bind(this);this.$CommentsPluginComposerComment2=function(event){var o=!this.state.postToFeed;this.setState({postToFeed:o});c('CommentsPluginActions').setPostToFeed(o);}.bind(this);this.$CommentsPluginComposerComment3=function(){if(c('CommentsPluginStore').isLoggedIn())this.setState({waitingAsyncResponse:true});c('CommentsPluginActions').setPostToFeed(this.state.postToFeed);c('CommentsPluginActions').setPrivacyOption(this.state.privacyOption);c('CommentsPluginActions').addComment();}.bind(this);this.state={selectedActorID:c('CommentsPluginStore').getUser().id,postToFeed:false,ablePostToFeed:false,commentLength:0,waitingAsyncResponse:false,unableToPost:false,privacyOption:'everyone'};}m.prototype.componentDidMount=function(){c('CommentsPluginStore').addListener('composerChange',function(){var n=c('CommentsPluginStore').getCreateComposerContent().visibleValue,o=n.trim().length;this.setState({commentLength:o,ablePostToFeed:o>=c('CommentsPluginStore').getMinFeedLength(),unableToPost:o>c('CommentsPluginStore').getMaxCommentLength()});}.bind(this));c('CommentsPluginStore').addListener('composerCommentAdded',function(){this.setState({waitingAsyncResponse:false});this.refs.composer.resetAttachment();}.bind(this));c('CommentsPluginStore').addListener('login',function(){this.setState({waitingAsyncResponse:false});}.bind(this));c('CommentsPluginStore').addListener('actorChange',function(){this.refs.composer.resetAttachment();this.forceUpdate();}.bind(this));c('CommentsPluginStore').addListener('previousPostToFeedPrefill',function(){this.setState({postToFeed:c('CommentsPluginStore').getPostToFeed()});}.bind(this));};m.prototype.$CommentsPluginComposerComment4=function(){return (this.state.waitingAsyncResponse||this.state.unableToPost||c('CommentsPluginStore').isEmptyCreateComposer());};m.prototype.render=function(){var n=c('CommentsPluginStore').isLoggedIn()?i._("Post"):i._("Log In to Post"),o=c('CommentsPluginStore').getMinFeedLength()-this.state.commentLength;return (c('React').createElement(c('CommentsPluginComposer.react'),{allowPhotoAttachments:c('CommentsPluginStore').getEnablePhoto(),allowStickerAttachments:c('CommentsPluginStore').getEnableSticker(),ref:'composer',className:"_2392",readOnly:this.state.waitingAsyncResponse,unableToPost:this.state.unableToPost},c('React').createElement(c('LeftRight.react'),{className:"_5tr6 clearfix _2ph-"},!c('CommentsPluginStore').isMirrored()?c('React').createElement(c('Grid.react'),{cols:1},c('React').createElement(l,null,c('React').createElement(c('InputLabel.react'),{className:"_1u0n"},c('React').createElement(c('XUICheckboxInput.react'),{checked:this.state.postToFeed,onChange:this.$CommentsPluginComposerComment2}),c('React').createElement('label',{className:"_3-99 _2ern _50f8 _5kx5"},i._("Also post on Facebook")))),c('React').createElement(l,null,this.state.postToFeed&&!this.state.ablePostToFeed?i._({"*":{"character":"Write {lengthRemain} more character to post to Facebook","characters":"Write {lengthRemain} more characters to post to Facebook"}},[i.param('lengthRemain',o,[0]),i['enum'](o===1?'character':'characters',{character:'character',characters:'characters'})]):c('React').createElement('span',null))):c('React').createElement('span',null),c('React').createElement('span',null,c('React').createElement(c('CommentsPluginAuthorSelector.react'),null),c('CommentsPluginConfig').commentPrivacy&&this.state.postToFeed?c('React').createElement(c('CommentsPluginPrivacySelector.react'),{privacyOption:this.state.privacyOption,onChange:this.$CommentsPluginComposerComment1,addlPrivacyOptions:c('CommentsPluginStore').getPrivacyOptionsList()}):null,c('React').createElement(c('XUIButton.react'),{disabled:this.$CommentsPluginComposerComment4(),label:n,use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerComment3})))));};f.exports=m;}),null);
__d('CommentsPluginFooter.react',['cx','ix','Image.react','ImageBlock.react','React','XDeveloperDocumentationController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return (c('React').createElement('div',{className:"_5lm5 _2pi3 _3-8y"},c('React').createElement(c('ImageBlock.react'),null,c('React').createElement(c('Image.react'),{src:i("83801")}),c('React').createElement('a',{target:'_blank',href:c('XDeveloperDocumentationController').getURIBuilder().setString('path1','plugins').setString('path2','comments').getURI().setSubdomain('developers')},'Facebook Comments Plugin'))));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('CommentsPluginHeader.react',['cx','fbt','CommentsPluginActions','CommentsPluginStore','DeveloperCommentsPluginOrdering','LeftRight.react','Link.react','React','XUISelector.react','XUISpinner.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISelector.react').Option;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$CommentsPluginHeader1=function(event){this.setState({sorting:true});c('CommentsPluginStore').addListener('sortingCompleted',function(){this.setState({sorting:false});c('CommentsPluginStore').removeCurrentListener();}.bind(this));c('CommentsPluginActions').sort(event.value);}.bind(this);this.state={sorting:false};}m.prototype.componentDidMount=function(){c('CommentsPluginStore').addListener('commentsCountChange',function(){this.forceUpdate();}.bind(this));};m.prototype.render=function(){var n=null,o=null;if(c('CommentsPluginStore').getModerateURL())n=c('React').createElement('span',null,c('React').createElement('span',{className:"_52bm"},'|'),c('React').createElement(c('Link.react'),{href:c('CommentsPluginStore').getModerateURL(),target:'_blank'},i._("Moderation Tool")));if(c('CommentsPluginStore').isDeeplinkComment())o=c('React').createElement('span',null,c('React').createElement('span',{className:"_52bm"},'|'),c('React').createElement(c('Link.react'),{href:c('CommentsPluginStore').getOriginalLink(),target:'_blank'},i._("Original Link")));var p=c('DeveloperCommentsPluginOrdering').__types.filter(function(q){return q!=='social'||c('CommentsPluginStore').isRankingAllowed();});return (c('React').createElement(c('LeftRight.react'),{className:"_491z"},c('React').createElement('span',null,c('React').createElement(c('XUIText.react'),{weight:'bold'},c('CommentsPluginStore').getCommentsCount()!==1?i._("{count} Comments",[i.param('count',c('CommentsPluginStore').getCommentsCount())]):i._("1 Comment")),n,o),c('React').createElement('div',null,this.state.sorting?c('React').createElement(c('XUISpinner.react'),{size:'small',className:"_3-90"}):null,c('React').createElement('span',{className:"_pup"},i._("Sort by")),' ',c('React').createElement(c('XUISelector.react'),{alignh:'right',className:"_3-8_",initialValue:c('CommentsPluginStore').getCurrentSorting(),onChange:this.$CommentsPluginHeader1},p.map(function(q){return (c('React').createElement(l,{value:q,key:q},c('DeveloperCommentsPluginOrdering').__labels[q]));})))));};f.exports=m;}),null);
__d('CommentsPluginCommentActions.react',['cx','fbt','ix','ActionList.react','CommentsPluginAction','CommentsPluginActions','CommentsPluginStore','Image.react','Link.react','MixinCommentsPluginConfirmAction','React','UFICommentMetadata.react','classWithMixins','mixin'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('classWithMixins')(c('React').Component,c('mixin')(c('MixinCommentsPluginConfirmAction'))));l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$CommentsPluginCommentActions1=function(){c('CommentsPluginActions').like(this.props.commentID);}.bind(this),this.$CommentsPluginCommentActions2=function(){c('CommentsPluginActions').showReplyComposer(this.props.commentID);}.bind(this),this.$CommentsPluginCommentActions3=function(){c('CommentsPluginActions').flag(this.props.commentID);}.bind(this),p;}n.prototype.$CommentsPluginCommentActions4=function(o){if(!o.canLike&&c('CommentsPluginStore').isLoggedIn())return null;return (c('React').createElement(c('Link.react'),{onClick:this.$CommentsPluginCommentActions1},o.hasLiked?i._("Unlike"):i._("Like")));};n.prototype.$CommentsPluginCommentActions5=function(){if(c('CommentsPluginStore').isThreadClosed()||c('CommentsPluginStore').shouldSwitchAccount())return null;return (c('React').createElement(c('Link.react'),{onClick:this.$CommentsPluginCommentActions2},i._("Reply")));};n.prototype.render=function(){var o=c('CommentsPluginStore').getByID(this.props.commentID),p={};return (c('React').createElement(c('ActionList.react'),{className:"_2vq9"},this.$CommentsPluginCommentActions4(o),this.$CommentsPluginCommentActions5(),c('CommentsPluginStore').isMobile()?o.canEdit?c('React').createElement(c('Link.react'),{onClick:this.confirmAction.bind(this,c('CommentsPluginAction').DELETE,this.props.commentID)},i._("Delete")):c('React').createElement(c('Link.react'),{onClick:this.$CommentsPluginCommentActions3},i._("Mark as spam")):null,o.likeCount?c('React').createElement('span',null,c('React').createElement(c('Image.react'),{src:j("99886"),className:"_3-8_ _4iy4"}),o.likeCount):null,c('React').createElement(c('UFICommentMetadata.react'),{comment:o,permalink:c('CommentsPluginStore').getPermalink(this.props.commentID),shortenTimestamp:true,showPermalink:!c('CommentsPluginStore').isReply(this.props.commentID),permalinkTarget:'_blank',contextArgs:p}),c('CommentsPluginStore').isMobile()?this.renderActionConfirmationDialog():null));};n.propTypes={commentID:m.string.isRequired};f.exports=n;}),null);
__d('CommentsPluginComposerEdit.react',['cx','fbt','CommentsPluginActions','CommentsPluginComposer.react','CommentsPluginStore','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n,o){k.constructor.call(this,n,o);this.$CommentsPluginComposerEdit3=function(){this.setState({waitingAsyncResponse:true});c('CommentsPluginActions').saveEdit(this.props.commentID);}.bind(this);this.$CommentsPluginComposerEdit4=function(){this.refs.composer.resetAttachment();c('CommentsPluginActions').cancelEdit(this.props.commentID);}.bind(this);this.state={waitingAsyncResponse:false,unableToPost:false};this.$CommentsPluginComposerEdit1=null;}m.prototype.componentDidMount=function(){this.$CommentsPluginComposerEdit1=c('CommentsPluginStore').addListener('composerChange',function(){var n=c('CommentsPluginStore').getEditComposerContent(this.props.commentID).visibleValue;this.setState({unableToPost:n.trim().length>c('CommentsPluginStore').getMaxCommentLength()});this.forceUpdate();}.bind(this));this.$CommentsPluginComposerEdit2=c('CommentsPluginStore').addListener('actorChange',function(){this.refs.composer.resetAttachment();this.forceUpdate();}.bind(this));};m.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerEdit1)this.$CommentsPluginComposerEdit1.remove();if(this.$CommentsPluginComposerEdit2)this.$CommentsPluginComposerEdit2.remove();};m.prototype.$CommentsPluginComposerEdit5=function(){return (this.state.waitingAsyncResponse||this.state.unableToPost||c('CommentsPluginStore').isEmptyEditComposer(this.props.commentID));};m.prototype.render=function(){var n=c('CommentsPluginStore').getByID(this.props.commentID);return (c('React').createElement(c('CommentsPluginComposer.react'),{alwaysExpanded:true,ref:'composer',prefillText:n.prefillText,readOnly:this.state.waitingAsyncResponse,allowPhotoAttachments:c('CommentsPluginStore').getEnablePhoto(),allowStickerAttachments:c('CommentsPluginStore').getEnableSticker(),editCommentID:this.props.commentID,unableToPost:this.state.unableToPost},c('React').createElement('div',{className:"_5tr6 clearfix _2ph_"},c('React').createElement(c('XUIButton.react'),{disabled:this.$CommentsPluginComposerEdit5(),label:i._("Save"),use:'confirm',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit3}),c('React').createElement(c('XUIButton.react'),{disabled:this.state.waitingAsyncResponse,label:i._("Cancel"),use:'default',className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit4})),this.props.children));};m.propTypes={commentID:l.string.isRequired};f.exports=m;}),null);
__d('CommentsPluginComposerReply.react',['cx','fbt','CommentsPluginActions','CommentsPluginAuthorSelector.react','CommentsPluginComposer.react','CommentsPluginStore','React','ReactDOM','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n,o){k.constructor.call(this,n,o);this.$CommentsPluginComposerReply3=function(){this.setState({waitingAsyncResponse:true});c('CommentsPluginActions').addReply(this.props.commentID);this.refs.composer.resetAttachment();}.bind(this);this.$CommentsPluginComposerReply4=function(){this.refs.composer.resetAttachment();c('CommentsPluginActions').cancelReply(this.props.commentID);}.bind(this);this.state={waitingAsyncResponse:false,unableToPost:false};this.$CommentsPluginComposerReply1=null;}m.prototype.componentDidMount=function(){this.$CommentsPluginComposerReply1=c('CommentsPluginStore').addListener('composerChange',function(){var o=c('CommentsPluginStore').getCreateComposerContent(this.props.commentID).visibleValue;this.setState({unableToPost:o.trim().length>c('CommentsPluginStore').getMaxCommentLength()});this.forceUpdate();}.bind(this));this.$CommentsPluginComposerReply2=c('CommentsPluginStore').addListener('actorChange',function(){this.refs.composer.resetAttachment();this.forceUpdate();}.bind(this));var n=c('ReactDOM').findDOMNode(this);if(n.scrollIntoView)n.scrollIntoView();};m.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerReply1)this.$CommentsPluginComposerReply1.remove();if(this.$CommentsPluginComposerReply2)this.$CommentsPluginComposerReply2.remove();};m.prototype.$CommentsPluginComposerReply5=function(){return (this.state.waitingAsyncResponse||this.state.unableToPost||c('CommentsPluginStore').isEmptyCreateComposer(this.props.commentID));};m.prototype.render=function(){var n=c('CommentsPluginStore').getByID(this.props.commentID);return (c('React').createElement(c('CommentsPluginComposer.react'),{allowPhotoAttachments:c('CommentsPluginStore').getEnablePhoto(),allowStickerAttachments:c('CommentsPluginStore').getEnableSticker(),ref:'composer',alwaysExpanded:true,prefillText:n.prefillText,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,unableToPost:this.state.unableToPost,placeholder:i._("Add a reply...")},c('React').createElement('div',{className:"_5tr6 clearfix _2ph_"},c('React').createElement(c('CommentsPluginAuthorSelector.react'),null),c('React').createElement(c('XUIButton.react'),{disabled:this.state.waitingAsyncResponse,label:i._("Cancel"),use:'default',className:"_3-99",onClick:this.$CommentsPluginComposerReply4}),c('React').createElement(c('XUIButton.react'),{disabled:this.$CommentsPluginComposerReply5(),label:i._("Reply"),use:'confirm',className:"_3-99",onClick:this.$CommentsPluginComposerReply3}))));};m.propTypes={commentID:l.string.isRequired};f.exports=m;}),null);
__d('CommentsPluginMenu.react',['fbt','ix','CommentsPluginAction','CommentsPluginActions','CommentsPluginConfig','CommentsPluginStore','Image.react','MixinCommentsPluginConfirmAction','ReactXUIMenu','PopoverMenu.react','React','Tooltip','classWithMixins','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('ReactXUIMenu').Item;j=babelHelpers.inherits(n,c('classWithMixins')(c('React').Component,c('mixin')(c('MixinCommentsPluginConfirmAction'))));k=j&&j.prototype;function n(o,p){k.constructor.call(this,o,p);this.$CommentsPluginMenu1=function(){this.setState({opened:true});}.bind(this);this.$CommentsPluginMenu2=function(){this.setState({opened:false});}.bind(this);this.$CommentsPluginMenu4=function(q,event){var r=event.item.getValue();if(this.requiresConfirmation(r)){this.confirmAction(r,this.props.commentID,event.event.pageY);}else if(r===c('CommentsPluginAction').SHOW||r===c('CommentsPluginAction').COLLAPSE){this.$CommentsPluginMenu3();}else c('CommentsPluginActions')[r](this.props.commentID);}.bind(this);this.state={opened:false};}n.prototype.isOpen=function(){return this.state.opened;};n.prototype.$CommentsPluginMenu3=function(){c('CommentsPluginActions').toggleVisibility(this.props.commentID);};n.prototype.$CommentsPluginMenu5=function(o,p){var q=c('CommentsPluginStore').isReply(p.id),r=c('CommentsPluginStore').getUser().id===c('CommentsPluginStore').getAuthor(p.id).id;switch(o){case c('CommentsPluginAction').DELETE:if(!p.canEdit||!r)return null;break;case c('CommentsPluginAction').EDIT:if(!p.canEdit||c('CommentsPluginStore').isThreadClosed()||!r)return null;break;case c('CommentsPluginAction').FLAG:if(p.canEdit||p.collapsed||p.flagged)return null;break;case c('CommentsPluginAction').COLLAPSE:if(q||p.collapsed||p.flagged)return null;break;case c('CommentsPluginAction').BAN:case c('CommentsPluginAction').HIDE:if(!c('CommentsPluginStore').isViewerModerator())return null;break;case c('CommentsPluginAction').REPORT:if(!p.reportURI||p.canEdit)return null;break;case c('CommentsPluginAction').EMBED:var s=p.canEmbed;if(q){var t=c('CommentsPluginStore').getByID(p.targetID);s=s&&t.canEmbed;}if(p.flagged||!c('CommentsPluginConfig').commentEmbed||!s)return null;break;default:break;}return (c('React').createElement(m,{value:o,key:o},c('CommentsPluginAction').getLabel(o)));};n.prototype.render=function(){var o=c('CommentsPluginStore').getByID(this.props.commentID);return (c('React').createElement('div',null,c('React').createElement(c('PopoverMenu.react'),{alignh:'right',onShow:this.$CommentsPluginMenu1,onHide:this.$CommentsPluginMenu2,menu:c('React').createElement(c('ReactXUIMenu'),{onItemClick:this.$CommentsPluginMenu4},c('CommentsPluginAction').getMenuActions().map(function(p){return this.$CommentsPluginMenu5(p,o);}.bind(this)))},c('React').createElement('a',null,c('React').createElement(c('Image.react'),babelHelpers['extends']({},c('Tooltip').propsFor(h._("Menu")),{src:i("96566")})))),this.renderActionConfirmationDialog()));};n.propTypes={commentID:l.string.isRequired};f.exports=n;}),null);
__d('CommentsPluginComment.react',['ix','cx','fbt','xuiglyph','ActorBio.react','Badge.react','CenteredContainer.react','CommentsPluginActions','CommentsPluginCommentActions.react','CommentsPluginComposerEdit.react','CommentsPluginProfilePicture.react','CommentsPluginMenu.react','CommentsPluginComposerReply.react','CommentsPluginStore','HovercardLinkInterpolator','Link.react','Image.react','React','TruncatedTextWithEntities.react','UFIActor.react','UFICommentAttachment.react','UFICommentUtils','UFIImageBlock.react','XUIGrayText.react','XUISpinner.react','XUIText.react','joinClasses','nullthrows'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n,o,p=c('React').PropTypes;l=babelHelpers.inherits(q,c('React').Component);m=l&&l.prototype;function q(s,t){m.constructor.call(this,s,t);this.$CommentsPluginComment1=function(){this.setState({showMenu:true});}.bind(this);this.$CommentsPluginComment2=function(){if(!this.refs.menu||!this.refs.menu.isOpen())this.setState({showMenu:false});}.bind(this);this.$CommentsPluginComment3=function(){var u=c('nullthrows')(c('CommentsPluginStore').getByID(this.props.commentID));if(u.collapsed){c('CommentsPluginActions').toggleVisibility(this.props.commentID);}else if(u.flagged)c('CommentsPluginActions').unflag(this.props.commentID);}.bind(this);this.state={showMenu:false};}q.prototype.render=function(){var s=c('nullthrows')(c('CommentsPluginStore').getByID(this.props.commentID));if(s.deleted)return null;if(s.editor)return (c('React').createElement('div',{className:"_3-8y"},c('React').createElement(c('CommentsPluginComposerEdit.react'),{commentID:this.props.commentID}),c('React').createElement(r,{commentID:this.props.commentID,className:"_3j_p"})));var t=c('UFICommentUtils').shallowCopyRanges(s.ranges),u=c('UFICommentUtils').getCommentTextWithTruncatedURIs(t,s.body.text),v=null;if(s.collapsed||s.flagged){v=c('React').createElement('div',{className:"_5mlf"},c('React').createElement(c('XUIGrayText.react'),{shade:'light'},j._("This comment is {action}",[j.param('action',s.collapsed?'collapsed. ':'marked as spam. ')]),c('React').createElement(c('Link.react'),{onClick:this.$CommentsPluginComment3},j._("Undo"))));}else{if(s.photoComment){s.photo_comment=s.photoComment;delete s.photoComment;}v=c('React').createElement('div',{className:"_30o4"},u?c('React').createElement(c('TruncatedTextWithEntities.react'),babelHelpers['extends']({className:"_5mdd",text:u,ranges:t,interpolator:function aa(ba,ca){return (c('HovercardLinkInterpolator')(ba,ca,'_blank'));}},c('CommentsPluginStore').getCommentBodyTruncationLimits(),{renderEmoticons:true,renderEmoji:true})):null,c('React').createElement(c('UFICommentAttachment.react'),{comment:s,disableTheater:true}));}var w=c('nullthrows')(c('CommentsPluginStore').getByID(s.authorID)),x=c('CommentsPluginStore').isOptimisticComment(s),y=c('CommentsPluginStore').isReply(this.props.commentID),z=c('CommentsPluginStore').isMobile();return (c('React').createElement(c('UFIImageBlock.react'),{className:"_3-8y"+(!y?' '+"_5nz1":''),spacing:'medium',onMouseEnter:this.$CommentsPluginComment1,onMouseLeave:this.$CommentsPluginComment2},c('React').createElement(c('CommentsPluginProfilePicture.react'),{href:w.uri,src:w.thumbSrc,isReply:y,target:'_blank'}),c('React').createElement('div',null,c('React').createElement(c('UFIActor.react'),{author:w,delimiter:z?' ':undefined,key:'author',showHovercard:!z,target:'_blank'},w.isVerified?c('React').createElement(c('Badge.react'),{key:'badge',size:'xsmall',type:'verified'}):null,w.bio?c('React').createElement('div',{className:"_4q1v"},c('React').createElement(c('ActorBio.react'),{target:'_blank',preferredTypes:w.bio.preferredTypes,stats:w.bio.stats})):null),c('React').createElement('div',{className:"_3-8m"},v),x||s.collapsed||s.flagged?null:c('React').createElement(c('CommentsPluginCommentActions.react'),{commentID:this.props.commentID}),c('React').createElement(r,{commentID:this.props.commentID})),c('React').createElement('div',null,this.state.showMenu&&!x&&!z?c('React').createElement(c('CommentsPluginMenu.react'),{ref:'menu',commentID:this.props.commentID}):null)));};q.propTypes={commentID:p.string.isRequired};n=babelHelpers.inherits(r,c('React').Component);o=n&&n.prototype;function r(s,t){o.constructor.call(this,s,t);this.$CommentsPluginCommentReplies1=function(){this.setState({loading:true});c('CommentsPluginStore').addListener('moreRepliesCompleted',function(event){if(this.props.commentID===event.commentID){this.setState({loading:false});c('CommentsPluginStore').removeCurrentListener();}}.bind(this));c('CommentsPluginActions').showMoreReplies(this.props.commentID);}.bind(this);this.state={loading:false};}r.prototype.render=function(){var s=c('CommentsPluginStore').getByID(this.props.commentID),t=s.public_replies;if(t===undefined||s.collapsed===true||s.flagged)return s.composer?c('React').createElement('div',{className:c('joinClasses')("_44ri _2pis _3-8y",this.props.className)},c('React').createElement(c('CommentsPluginComposerReply.react'),{commentID:this.props.commentID})):null;if(!t.commentIDs)t.commentIDs=[];var u=t.totalCount-t.commentIDs.length,v=c('CommentsPluginStore').getPageSize(),w=u<v?u:v;return (c('React').createElement('div',{className:c('joinClasses')("_44ri _2pis",this.props.className)},t.commentIDs.map(function(x){if(x===this.props.commentID)return null;return c('React').createElement(q,{commentID:x,key:x});}.bind(this)),c('CommentsPluginStore').hasUnloadedReplies(this.props.commentID)&&u>0?c('React').createElement('div',{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?c('React').createElement(c('CenteredContainer.react'),null,c('React').createElement(c('XUISpinner.react'),{size:'small'})):c('React').createElement(c('Link.react'),{onClick:this.$CommentsPluginCommentReplies1},c('React').createElement(c('XUIText.react'),{size:'small',weight:'bold'},w===1?j._("Show 1 more reply in this thread"):j._("Show {number of replies} more replies in this thread",[j.param('number of replies',w)])),c('React').createElement(c('Image.react'),{src:h("89944")}))):null,s.composer?c('React').createElement('div',{className:"_3-8y"},c('React').createElement(c('CommentsPluginComposerReply.react'),{commentID:this.props.commentID})):null));};r.propTypes={commentID:p.string.isRequired};f.exports=q;}),null);
__d('CommentsPluginLoadMore.react',['cx','fbt','CenteredContainer.react','CommentsPluginActions','CommentsPluginStore','React','XUIButton.react','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m,n){k.constructor.call(this,m,n);this.$CommentsPluginLoadMore1=function(){c('CommentsPluginActions').showMoreComments();this.setState({loading:true});c('CommentsPluginStore').addListener('moreCommentsCompleted',function(){this.setState({loading:false});c('CommentsPluginStore').removeCurrentListener();}.bind(this));}.bind(this);this.state={loading:false};}l.prototype.render=function(){var m=c('CommentsPluginStore').getUnloadedCommentsCount();if(!c('CommentsPluginStore').hasUnloadedComments()||m<1)return null;if(this.state.loading)return (c('React').createElement(c('CenteredContainer.react'),{className:"_ndl"},c('React').createElement(c('XUISpinner.react'),{size:'large'})));var n=c('CommentsPluginStore').getPageSize(),o=m<n?m:n;return (c('React').createElement('div',{className:"_5o4h"},c('React').createElement(c('XUIButton.react'),{className:"_1gl3",role:'button',onClick:this.$CommentsPluginLoadMore1,label:o===1?i._("Load 1 more comment"):i._("Load {pagesize} more comments",[i.param('pagesize',o)])})));};f.exports=l;}),null);
__d('CommentsPluginListing.react',['cx','CommentsPluginComment.react','CommentsPluginLoadMore.react','CommentsPluginStore','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=c('CommentsPluginStore').getCommentIDs(),m=l.map(function(n){return c('React').createElement(c('CommentsPluginComment.react'),{commentID:n,key:n});});return (c('React').createElement('div',{className:"_4k-6"},m,c('React').createElement(c('CommentsPluginLoadMore.react'),null)));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('CommentsPluginNotice.react',['fbt','CommentsPluginStore','React','XUINotice.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return (c('CommentsPluginStore').isThreadClosed()?c('React').createElement(c('XUINotice.react'),{use:'notify'},h._("This thread is closed")):c('CommentsPluginStore').shouldSwitchAccount()?c('React').createElement(c('XUINotice.react'),{use:'notify'},h._("Please switch to personal account to post comments.")):null);};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/plugins\/comments\/{comment_id}\/async\/confirm\/publish\/dialog\/",{comment_id:{type:"String",required:true},plugin_width:{type:"Int"},__asyncDialog:{type:"Int"}});}),null);
__d('CommentsPlugin.react',['cx','fbt','AsyncDialog','AsyncRequest','CommentsPluginActions','CommentsPluginComposerComment.react','CommentsPluginFooter.react','CommentsPluginHeader.react','CommentsPluginListing.react','CommentsPluginNotice.react','CommentsPluginStore','XPluginCommentsConfirmPostToFacebookAsyncDialogController','DOMQuery','PluginResize','React','ReactDOM','CommentsPluginSentryAction','SimpleXUIDialog','getElementPosition','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.componentWillMount=function(){c('CommentsPluginStore').init(this.props.comments,this.props.meta,this.props.initialOrdering,this.props.rankingAllowed);c('CommentsPluginStore').addListener('postError',function(n){c('SimpleXUIDialog').show(n.errorSummary||i._("Sorry, something went wrong. Please try again later."),null,null,{width:c('CommentsPluginStore').getDialogWidth()});});c('CommentsPluginStore').addListener('sentryAction',function(n,o){switch(n){case c('CommentsPluginSentryAction').CONFIRM_POST_TO_PROFILE:var p=c('XPluginCommentsConfirmPostToFacebookAsyncDialogController').getURIBuilder().setString('comment_id',o).setInt('plugin_width',document.body.offsetWidth).getURI();c('AsyncDialog').send(new (c('AsyncRequest'))(p).setData({iframe_referer:c('CommentsPluginStore').getIframeReferer(),av:c('CommentsPluginStore').getUser().id,privacy_option:c('CommentsPluginStore').getPrivacyOption()}));break;default:break;}});};m.prototype.componentDidMount=function(){var n=c('ReactDOM').findDOMNode(this);c('PluginResize').autoHeight(null,n);new (c('PluginResize'))(function(){},function(){var o=n.offsetHeight,p=c('DOMQuery').scry(document.body,'.uiLayer:not(.hidden_elem) .uiContextualLayer'),q=c('DOMQuery').scry(document.body,'.captcha_dialog');if(p.length===0&&q.length===0)return o;var r=p.length>0?c('getElementPosition')(p[0]):null,s=q.length>0?c('getElementPosition')(q[0]):null;return Math.max(o,r?r.y+r.height+1:0,s?s.height:0);},'resize.iframe',false).resize().auto();c('CommentsPluginStore').addListener('change',function(){this.forceUpdate();}.bind(this));if(c('CommentsPluginStore').isOptinReturn())c('CommentsPluginActions').restorePreviousState();};m.prototype.$CommentsPlugin1=function(){return c('CommentsPluginStore').isThreadClosed()||c('CommentsPluginStore').shouldSwitchAccount();};m.prototype.render=function(){return (c('React').createElement('div',{className:c('joinClasses')("_56q9",this.props.className)},c('React').createElement('div',{className:"_2pi8"},c('React').createElement(c('CommentsPluginHeader.react'),null),this.$CommentsPlugin1()?c('React').createElement(c('CommentsPluginNotice.react'),null):c('CommentsPluginStore').isDeeplinkComment()?null:c('React').createElement(c('CommentsPluginComposerComment.react'),null),c('React').createElement(c('CommentsPluginListing.react'),null),c('React').createElement(c('CommentsPluginFooter.react'),null))));};function m(){j.apply(this,arguments);}m.propTypes={comments:l.object.isRequired,meta:l.object.isRequired,initialOrdering:l.string.isRequired,rankingAllowed:l.bool};f.exports=m;}),null);
__d('DocumentMentionsRegex',[],(function a(b,c,d,e,f,g){'use strict';var h='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;',i='\\b[A-Z][^\\s'+h+']',j={PUNCTUATION:h,NAME:i};f.exports=j;}),null);
__d('CapitalizedNameMentionsStrategy',['DocumentMentionsRegex'],(function a(b,c,d,e,f,g){'use strict';var h=1,i=new RegExp('(^|[^#])((?:'+c('DocumentMentionsRegex').NAME+'{'+h+',})$)'),j={name:'CapitalizedNameMentionsStrategy',findMentionableString:function k(l){var m=i.exec(l);if(m!==null)return {matchingString:m[2],leadOffset:m[2].length};return null;}};f.exports=j;}),null);
__d('DocumentCompositeMentionsSource',['invariant','emptyFunction','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';function i(k,l){var m=k.getCharacterList().toSeq().slice(0,l).reverse().takeWhile(function(n){return n.getEntity()===null;}).count();return k.getText().slice(l-m,l);}function j(k){k.length>0||h(0);this.$DocumentCompositeMentionsSource1=k;this.$DocumentCompositeMentionsSource2=false;this.$DocumentCompositeMentionsSource3=null;}j.prototype.bootstrap=function(k){if(this.$DocumentCompositeMentionsSource2)return;this.$DocumentCompositeMentionsSource2=true;k=k||c('emptyFunction');var l=this.$DocumentCompositeMentionsSource1.length;function m(){l--;if(!l)k&&k();}this.$DocumentCompositeMentionsSource1.forEach(function(n){n.bootstrap(m);});};j.prototype.search=function(k,l,m){var n=l.getAnchorKey(),o=k.getBlockForKey(n);this.$DocumentCompositeMentionsSource4(i(o,l.getAnchorOffset()),m);};j.prototype.$DocumentCompositeMentionsSource4=function(k,l){var m=this.$DocumentCompositeMentionsSource1.length,n,o;for(var p=0;p<m;p++){n=this.$DocumentCompositeMentionsSource1[p];o=n.findMatch(k);if(o===null){continue;}else{var q=c('nullthrows')(o).matchingString;this.$DocumentCompositeMentionsSource3=q;n.search(q,function(r,s){if(this.$DocumentCompositeMentionsSource3===s)l(r,o.leadOffset);}.bind(this));return;}}this.$DocumentCompositeMentionsSource3=null;l(null,null);};f.exports=j;}),null);
__d('DocumentMentionsSource',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){typeof j.findMentionableString==='function'||h(0);this.$DocumentMentionsSource1=j;this.$DocumentMentionsSource2=k;this.$DocumentMentionsSource3=false;}i.prototype.findMatch=function(j){return this.$DocumentMentionsSource1.findMentionableString(j);};i.prototype.bootstrap=function(j){if(!this.$DocumentMentionsSource3){this.$DocumentMentionsSource3=true;this.$DocumentMentionsSource2.bootstrap(j);}};i.prototype.search=function(j,k){this.$DocumentMentionsSource2.search(j,k,{strategyName:this.$DocumentMentionsSource1.name});};f.exports=i;}),null);